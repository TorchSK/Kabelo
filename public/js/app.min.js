var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"use strict";t.fn.tableToJSON=function(e){var a={ignoreColumns:[],onlyColumns:null,ignoreHiddenRows:!0,ignoreEmptyRows:!1,headings:null,allowHTML:!1,includeRowId:!1,textDataOverride:"data-override",extractor:null,textExtractor:null};e=t.extend(a,e);var i=function(t){return void 0!==t&&null!==t},o=function(t){return void 0!==t&&t.length>0},n=function(a){return i(e.onlyColumns)?-1===t.inArray(a,e.onlyColumns):-1!==t.inArray(a,e.ignoreColumns)},r=function(e,a){var n={},r=0;return t.each(a,function(t,a){r<e.length&&i(a)&&(o(e[r])&&(n[e[r]]=a),r++)}),n},d=function(a,i,o){var n,r=t(i),d=e.extractor||e.textExtractor,c=r.attr(e.textDataOverride);return null===d||o?t.trim(c||(e.allowHTML?r.html():i.textContent||r.text())||""):t.isFunction(d)?(n=c||d(a,r),"string"==typeof n?t.trim(n):n):"object"==(void 0===d?"undefined":_typeof(d))&&t.isFunction(d[a])?(n=c||d[a](a,r),"string"==typeof n?t.trim(n):n):t.trim(c||(e.allowHTML?r.html():i.textContent||r.text())||"")},c=function(a,i){var o=[],n=e.includeRowId,r="boolean"==typeof n?n:"string"==typeof n,c="string"==typeof n==1?n:"rowId";return r&&void 0===t(a).attr("id")&&o.push(c),t(a).children("td,th").each(function(t,e){o.push(d(t,e,i))}),o};return function(a,o){var c,s,l,u,p,$,h,m=[],_=0,f=[];return a.children("tbody,*").children("tr").each(function(a,o){if(a>0||i(e.headings)){var n=e.includeRowId,r="boolean"==typeof n?n:"string"==typeof n;$=t(o);var f=$.find("td").length===$.find("td:empty").length;!$.is(":visible")&&e.ignoreHiddenRows||f&&e.ignoreEmptyRows||$.data("ignore")&&"false"!==$.data("ignore")||(_=0,m[a]||(m[a]=[]),r&&(_+=1,void 0!==$.attr("id")?m[a].push($.attr("id")):m[a].push("")),$.children().each(function(){for(h=t(this);m[a][_];)_++;if(h.filter("[rowspan]").length)for(l=parseInt(h.attr("rowspan"),10)-1,p=d(_,h),c=1;c<=l;c++)m[a+c]||(m[a+c]=[]),m[a+c][_]=p;if(h.filter("[colspan]").length)for(l=parseInt(h.attr("colspan"),10)-1,p=d(_,h),c=1;c<=l;c++)if(h.filter("[rowspan]").length)for(u=parseInt(h.attr("rowspan"),10),s=0;s<u;s++)m[a+s][_+c]=p;else m[a][_+c]=p;p=m[a][_]||d(_,h),i(p)&&(m[a][_]=p),_++}))}}),t.each(m,function(a,d){if(i(d)){var c=i(e.onlyColumns)||e.ignoreColumns.length?t.grep(d,function(t,e){return!n(e)}):d,s=i(e.headings)?o:t.grep(o,function(t,e){return!n(e)});p=r(s,c),f[f.length]=p}}),f}(this,function(t){var a=t.find("tr:first").first();return i(e.headings)?e.headings:c(a,!0)}(this))}}(jQuery),function(t){t.fn.loupe=function(e){var a=t.extend({loupe:"loupe",width:200,height:150},e||{});return this.length?this.each(function(){var i,o,n,r,d=t(this),c=d.is("img")?d:d.find("img:first"),s=function(){o.hide()};if(null!=d.data("loupe"))return d.data("loupe",e);n=function(t){var e=c.offset(),n=c.outerWidth(),l=c.outerHeight(),u=a.width/2,p=a.height/2;if(!d.data("loupe")||t.pageX>n+e.left+10||t.pageX<e.left-10||t.pageY>l+e.top+10||t.pageY<e.top-10)return s();r=r?clearTimeout(r):0,o.show().css({left:t.pageX-u,top:t.pageY-p}),i.css({left:0|-((t.pageX-e.left)/n*i.width()-u),top:0|-((t.pageY-e.top)/l*i.height()-p)})},o=t("<div />").addClass(a.loupe).css({width:a.width,height:a.height,position:"absolute",overflow:"hidden"}).append(i=t("<img />").attr("src",d.attr(d.is("img")?"src":"href")).css("position","absolute")).mousemove(n).hide().appendTo("body"),d.data("loupe",!0).mouseenter(n).mouseout(function(){r=setTimeout(s,10)})}):this}}(jQuery),function(t,e){t.fn.prettyEmbed=function(a){function i(i){var o=i.find("img").outerWidth(!0),n=i.find("img").outerHeight(!0),r="",d="";i.attr("data-pe-videoid")!==e?d=i.attr("data-pe-videoid"):a.videoID!==e?d=a.videoID:(d=e,console.error("PrettyEmbed.js Error:  Misformed or missing video ID.")),("false"===i.attr("data-pe-show-info")||!1===a.showInfo)&&(r+="&showinfo=0"),("false"===i.attr("data-pe-show-controls")||!1===a.showControls)&&(r+="&controls=0"),("true"===i.attr("data-pe-loop")||!0===a.loop)&&(r+="&loop=1"),("true"===i.attr("data-pe-closed-captions")||!0===a.closedCaptions)&&(r+="&cc_load_policy=1"),(i.attr("data-pe-localization")!==e||a.localization!==e)&&(i.attr("data-pe-localization")!==e?r+="&hl="+i.attr("data-pe-localization"):a.localization!==e&&(r+="&hl="+a.localization)),("light"==i.attr("data-pe-color-scheme")||"light"==a.colorScheme)&&(r+="&theme=light"),r+="false"===i.attr("data-pe-show-related")||!1===a.showRelated?"&rel=0":"&rel=1",fullScreenFlag="false"===i.attr("data-pe-allow-fullscreen")||!1===a.allowFullScreen?"":"allowfullscreen ",i.html('<iframe width="'+o+'" height="'+n+'" '+fullScreenFlag+'style="border:none;" src="//www.youtube.com/embed/'+d+"?autoplay=1"+r+'"></iframe>').addClass("play"),a.useFitVids&&t.isFunction(t.fn.fitVids)&&i.parent().fitVids()}function o(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,a=t.match(e);return a&&11==a[7].length?a[7]:void console.error("PrettyEmbed.js Error:  Bad URL.")}a=t.extend({},t.fn.prettyEmbed.options,a);var n=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);0===t("#pretty-embed-style").length&&t("<style />",{id:"pretty-embed-style",html:'.pretty-embed{position:relative;cursor:pointer;display:block}.pretty-embed img{width:100%;height:auto}.pretty-embed iframe{border:0 solid transparent}.pretty-embed:after{display:block;content:"";position:absolute;top:50%;margin-top:-19px;left:50%;margin-left:-27px;width:54px;height:38px;background-image:url(data:image/png;base64,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);-webkit-background-size:cover;background-size:cover}.pretty-embed.play:after{display:none}.pretty-embed:hover:after{background-image:url(data:image/png;base64,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)}'}).appendTo("head"),a.useFitVids&&(t.isFunction(t.fn.fitVids)||console.error("PrettyEmbed.js Error:  options.useFitVids is set to true; FitVids not found!"));var r;r=t(0===t(this).length?".pretty-embed":this),r.each(function(){t(this).addClass("pretty-embed");var i,r,d,c,s,l,u,p,$,h="",m="",_="";if(h=t(this).attr("data-pe-videoid")!==e?t(this).attr("data-pe-videoid"):t(this).attr("href")!==e?o(t(this).attr("href")):a.videoID,m=t(this).attr("data-pe-preview-size")!==e?t(this).attr("data-pe-preview-size"):a.previewSize!==e?a.previewSize:e,_=t(this).attr("data-pe-custom-preview-image")!==e?t(this).attr("data-pe-custom-preview-image"):a.customPreviewImage!==e?a.customPreviewImage:e,r=t(this).attr("data-pe-show-info")!==e?t(this).attr("data-pe-show-info"):a.showInfo!==e?a.showInfo:e,d=t(this).attr("data-pe-show-controls")!==e?t(this).attr("data-pe-show-controls"):a.showControls!==e?a.showControls:e,c=t(this).attr("data-pe-loop")!==e?t(this).attr("data-pe-loop"):a.loop!==e?a.loop:e,s=t(this).attr("data-pe-closed-captions")!==e?t(this).attr("data-pe-closed-captions"):a.closedCaptions!==e?a.closedCaptions:e,l=t(this).attr("data-pe-localization")!==e?t(this).attr("data-pe-localization"):a.localization!==e?a.localization:e,u=t(this).attr("data-pe-color-scheme")!==e?t(this).attr("data-pe-color-scheme"):a.colorScheme!==e?a.colorScheme:e,p=t(this).attr("data-pe-show-related")!==e?t(this).attr("data-pe-show-related"):a.showRelated!==e?a.showRelated:e,$=t(this).attr("data-pe-allow-fullscreen")!==e?t(this).attr("data-pe-allow-fullscreen"):a.allowFullScreen!==e?a.allowFullScreen:e,t(this).is("a")&&(i=t("<div />").addClass("pretty-embed"),i.attr("data-pe-videoid",h).attr("data-pe-preview-size",m).attr("data-pe-custom-preview-image",_).attr("data-pe-show-info",r).attr("data-pe-show-controls",d).attr("data-pe-loop",c).attr("data-pe-closed-captions",s).attr("data-pe-localization",l).attr("data-pe-color-scheme",u).attr("data-pe-show-related",p).attr("data-pe-allow-fullscreen",$),t(this).after(i)),_!==e&&""!==_)t(this).html('<img src="'+_+'" width="100%" alt="YouTube Video Preview" />');else{var f="";switch(m){case"thumb-default":f="default";break;case"thumb-1":f="1";break;case"thumb-2":f="2";break;case"thumb-3":f="3";break;case"default":f="mqdefault";break;case"medium":f="0";break;case"high":f="hqdefault";break;default:f="mqdefault"}t(this).html('<img src="//img.youtube.com/vi/'+h+"/"+f+'.jpg" width="100%" alt="YouTube Video Preview" />')}t(this).is("a")&&(i.html(t(this).html()),t(this).remove()),n&&t(window).on("load",function(){t(".pretty-embed").trigger("click")})}),t("body").on("click",".pretty-embed",function(e){e.preventDefault(),i(t(this))}),t.fn.prettyEmbed.options={videoID:"",previewSize:"",customPreviewImage:"",showInfo:!0,showControls:!0,loop:!1,closedCaptions:!1,colorScheme:"dark",showRelated:!1,useFitVids:!1}}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(a){return e(t,a)}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==_typeof(module.exports)?module.exports=e(t,require("jquery")):t.lity=e(t,t.jQuery||t.Zepto)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function a(t){var e=j();return N&&t.length?(t.one(N,e.resolve),setTimeout(e.resolve,500)):e.resolve(),e.promise()}function i(t,a,i){if(1===arguments.length)return e.extend({},t);if("string"==typeof a){if(void 0===i)return void 0===t[a]?null:t[a];t[a]=i}else e.extend(t,a);return this}function o(t){for(var e,a=decodeURI(t.split("#")[0]).split("&"),i={},o=0,n=a.length;o<n;o++)a[o]&&(e=a[o].split("="),i[e[0]]=e[1]);return i}function n(t,a){return t+(t.indexOf("?")>-1?"&":"?")+e.param(a)}function r(t,e){var a=t.indexOf("#");return-1===a?e:(a>0&&(t=t.substr(a)),e+t)}function d(t){return e('<span class="lity-error"/>').append(t)}function c(t,a){var i=a.opener()&&a.opener().data("lity-desc")||"Image with no description",o=e('<img src="'+t+'" alt="'+i+'"/>'),n=j(),r=function(){n.reject(d("Failed loading image"))};return o.on("load",function(){if(0===this.naturalWidth)return r();n.resolve(o)}).on("error",r),n.promise()}function s(t,a){var i,o,n;try{i=e(t)}catch(t){return!1}return!!i.length&&(o=e('<i style="display:none !important"/>'),n=i.hasClass("lity-hide"),a.element().one("lity:remove",function(){o.before(i).remove(),n&&!i.closest(".lity-content").length&&i.addClass("lity-hide")}),i.removeClass("lity-hide").after(o))}function l(t){var a=D.exec(t);return!!a&&h(r(t,n("https://www.youtube"+(a[2]||"")+".com/embed/"+a[4],e.extend({autoplay:1},o(a[5]||"")))))}function u(t){var a=I.exec(t);return!!a&&h(r(t,n("https://player.vimeo.com/video/"+a[3],e.extend({autoplay:1},o(a[4]||"")))))}function p(t){var a=q.exec(t);return!!a&&(0!==t.indexOf("http")&&(t="https:"+t),h(r(t,n("https://www.facebook.com/plugins/video.php?href="+t,e.extend({autoplay:1},o(a[4]||""))))))}function $(t){var e=O.exec(t);return!!e&&h(r(t,n("https://www.google."+e[3]+"/maps?"+e[6],{output:e[6].indexOf("layer=c")>0?"svembed":"embed"})))}function h(t){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+t+'"/></div>'}function m(){return C.documentElement.clientHeight?C.documentElement.clientHeight:Math.round(A.height())}function _(t){var e=b();e&&(27===t.keyCode&&e.options("esc")&&e.close(),9===t.keyCode&&f(t,e))}function f(t,e){var a=e.element().find(P),i=a.index(C.activeElement);t.shiftKey&&i<=0?(a.get(a.length-1).focus(),t.preventDefault()):t.shiftKey||i!==a.length-1||(a.get(0).focus(),t.preventDefault())}function v(){e.each(T,function(t,e){e.resize()})}function g(t){1===T.unshift(t)&&(S.addClass("lity-active"),A.on({resize:v,keydown:_})),e("body > *").not(t.element()).addClass("lity-hidden").each(function(){var t=e(this);void 0===t.data(U)&&t.data(U,t.attr(E)||null)}).attr(E,"true")}function y(t){var a;t.element().attr(E,"true"),1===T.length&&(S.removeClass("lity-active"),A.off({resize:v,keydown:_})),T=e.grep(T,function(e){return t!==e}),a=T.length?T[0].element():e(".lity-hidden"),a.removeClass("lity-hidden").each(function(){var t=e(this),a=t.data(U);a?t.attr(E,a):t.removeAttr(E),t.removeData(U)})}function b(){return 0===T.length?null:T[0]}function w(t,a,i,o){var n,r="inline",d=e.extend({},i);return o&&d[o]?(n=d[o](t,a),r=o):(e.each(["inline","iframe"],function(t,e){delete d[e],d[e]=i[e]}),e.each(d,function(e,i){return!i||!(!i.test||i.test(t,a))||(n=i(t,a),!1!==n?(r=e,!1):void 0)})),{handler:r,content:n||""}}function k(t,o,n,r){function d(t){l=e(t).css("max-height",m()+"px"),s.find(".lity-loader").each(function(){var t=e(this);a(t).always(function(){t.remove()})}),s.removeClass("lity-loading").find(".lity-content").empty().append(l),p=!0,l.trigger("lity:ready",[u])}var c,s,l,u=this,p=!1,$=!1;o=e.extend({},F,o),s=e(o.template),u.element=function(){return s},u.opener=function(){return n},u.options=e.proxy(i,u,o),u.handlers=e.proxy(i,u,o.handlers),u.resize=function(){p&&!$&&l.css("max-height",m()+"px").trigger("lity:resize",[u])},u.close=function(){if(p&&!$){$=!0,y(u);var t=j();if(r&&(C.activeElement===s[0]||e.contains(s[0],C.activeElement)))try{r.focus()}catch(t){}return l.trigger("lity:close",[u]),s.removeClass("lity-opened").addClass("lity-closed"),a(l.add(s)).always(function(){l.trigger("lity:remove",[u]),s.remove(),s=void 0,t.resolve()}),t.promise()}},c=w(t,u,o.handlers,o.handler),s.attr(E,"false").addClass("lity-loading lity-opened lity-"+c.handler).appendTo("body").focus().on("click","[data-lity-close]",function(t){e(t.target).is("[data-lity-close]")&&u.close()}).trigger("lity:open",[u]),g(u),e.when(c.content).always(d)}function x(t,a,i){t.preventDefault?(t.preventDefault(),i=e(this),t=i.data("lity-target")||i.attr("href")||i.attr("src")):i=e(i);var o=new k(t,e.extend({},i.data("lity-options")||i.data("lity"),a),i,C.activeElement);if(!t.preventDefault)return o}var C=t.document,A=e(t),j=e.Deferred,S=e("html"),T=[],E="aria-hidden",U="lity-"+E,P='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',F={esc:!0,handler:null,handlers:{image:c,inline:s,youtube:l,vimeo:u,googlemaps:$,facebookvideo:p,iframe:h},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},z=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,D=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,I=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,O=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,q=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,N=function(){var t=C.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in e)if(void 0!==t.style[a])return e[a];return!1}();return c.test=function(t){return z.test(t)},x.version="2.3.1",x.options=e.proxy(i,x,F),x.handlers=e.proxy(i,x,F.handlers),x.current=b,e(C).on("click.lity","[data-lity]",x),x}),function(t,e){"use strict";function a(a,i,n,d,c){function s(){x=t.devicePixelRatio>1,n=l(n),i.delay>=0&&setTimeout(function(){u(!0)},i.delay),(i.delay<0||i.combined)&&(d.e=v(i.throttle,function(t){"resize"===t.type&&(w=k=-1),u(t.all)}),d.a=function(t){t=l(t),n.push.apply(n,t)},d.g=function(){return n=o(n).filter(function(){return!o(this).data(i.loadedName)})},d.f=function(t){for(var e=0;e<t.length;e++){var a=n.filter(function(){return this===t[e]});a.length&&u(!1,a)}},u(),o(i.appendScroll).on("scroll."+c+" resize."+c,d.e))}function l(t){var n=i.defaultImage,r=i.placeholder,d=i.imageBase,c=i.srcsetAttribute,s=i.loaderAttribute,l=i._f||{};t=o(t).filter(function(){var t=o(this),a=_(this);return!t.data(i.handledName)&&(t.attr(i.attribute)||t.attr(c)||t.attr(s)||l[a]!==e)}).data("plugin_"+i.name,a);for(var u=0,p=t.length;u<p;u++){var $=o(t[u]),h=_(t[u]),m=$.attr(i.imageBaseAttribute)||d;h===S&&m&&$.attr(c)&&$.attr(c,f($.attr(c),m)),l[h]===e||$.attr(s)||$.attr(s,l[h]),h===S&&n&&!$.attr(T)?$.attr(T,n):h===S||!r||$.css(P)&&"none"!==$.css(P)||$.css(P,"url('"+r+"')")}return t}function u(t,e){if(!n.length)return void(i.autoDestroy&&a.destroy());for(var r=e||n,d=!1,c=i.imageBase||"",s=i.srcsetAttribute,l=i.handledName,u=0;u<r.length;u++)if(t||e||$(r[u])){var h=o(r[u]),m=_(r[u]),f=h.attr(i.attribute),v=h.attr(i.imageBaseAttribute)||c,g=h.attr(i.loaderAttribute);h.data(l)||i.visibleOnly&&!h.is(":visible")||!((f||h.attr(s))&&(m===S&&(v+f!==h.attr(T)||h.attr(s)!==h.attr(E))||m!==S&&v+f!==h.css(P))||g)||(d=!0,h.data(l,!0),p(h,m,v,g))}d&&(n=o(n).filter(function(){return!o(this).data(l)}))}function p(t,e,a,n){++b;var r=function(){y("onError",t),g(),r=o.noop};y("beforeLoad",t);var d=i.attribute,c=i.srcsetAttribute,s=i.sizesAttribute,l=i.retinaAttribute,u=i.removeAttribute,p=i.loadedName,$=t.attr(l);if(n){var h=function(){u&&t.removeAttr(i.loaderAttribute),t.data(p,!0),y(C,t),setTimeout(g,1),h=o.noop};t.off(j).one(j,r).one(A,h),y(n,t,function(e){e?(t.off(A),h()):(t.off(j),r())})||t.trigger(j)}else{var m=o(new Image);m.one(j,r).one(A,function(){t.hide(),e===S?t.attr(U,m.attr(U)).attr(E,m.attr(E)).attr(T,m.attr(T)):t.css(P,"url('"+m.attr(T)+"')"),t[i.effect](i.effectTime),u&&(t.removeAttr(d+" "+c+" "+l+" "+i.imageBaseAttribute),s!==U&&t.removeAttr(s)),t.data(p,!0),y(C,t),m.remove(),g()});var _=(x&&$?$:t.attr(d))||"";m.attr(U,t.attr(s)).attr(E,t.attr(c)).attr(T,_?a+_:null),m.complete&&m.trigger(A)}}function $(t){var e=t.getBoundingClientRect(),a=i.scrollDirection,o=i.threshold,n=m()+o>e.top&&-o<e.bottom,r=h()+o>e.left&&-o<e.right;return"vertical"===a?n:"horizontal"===a?r:n&&r}function h(){return w>=0?w:w=o(t).width()}function m(){return k>=0?k:k=o(t).height()}function _(t){return t.tagName.toLowerCase()}function f(t,e){if(e){var a=t.split(",");t="";for(var i=0,o=a.length;i<o;i++)t+=e+a[i].trim()+(i!==o-1?",":"")}return t}function v(t,e){var o,n=0;return function(r,d){function c(){n=+new Date,e.call(a,r)}var s=+new Date-n;o&&clearTimeout(o),s>t||!i.enableThrottle||d?c():o=setTimeout(c,t-s)}}function g(){--b,n.length||b||y("onFinishedAll")}function y(t,e,o){return!!(t=i[t])&&(t.apply(a,[].slice.call(arguments,1)),!0)}var b=0,w=-1,k=-1,x=!1,C="afterLoad",A="load",j="error",S="img",T="src",E="srcset",U="sizes",P="background-image";"event"===i.bind||r?s():o(t).on(A+"."+c,s)}function i(i,r){var d=this,c=o.extend({},d.config,r),s={},l=c.name+"-"+ ++n;return d.config=function(t,a){return a===e?c[t]:(c[t]=a,d)},d.addItems=function(t){return s.a&&s.a("string"===o.type(t)?o(t):t),d},d.getItems=function(){return s.g?s.g():{}},d.update=function(t){return s.e&&s.e({},!t),d},d.force=function(t){return s.f&&s.f("string"===o.type(t)?o(t):t),d},d.loadAll=function(){return s.e&&s.e({all:!0},!0),d},d.destroy=function(){return o(c.appendScroll).off("."+l,s.e),o(t).off("."+l),s={},e},a(d,c,i,s,l),c.chainable?i:d}var o=t.jQuery||t.Zepto,n=0,r=!1;o.fn.Lazy=o.fn.lazy=function(t){return new i(this,t)},o.Lazy=o.lazy=function(t,a,n){if(o.isFunction(a)&&(n=a,a=[]),o.isFunction(n)){t=o.isArray(t)?t:[t],a=o.isArray(a)?a:[a];for(var r=i.prototype.config,d=r._f||(r._f={}),c=0,s=t.length;c<s;c++)(r[t[c]]===e||o.isFunction(r[t[c]]))&&(r[t[c]]=n);for(var l=0,u=a.length;l<u;l++)d[a[l]]=t[0]}},i.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},o(t).on("load",function(){r=!0})}(window),function(t){"use strict";t.fn.fitVids=function(e){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(o.childNodes[1])}return e&&t.extend(a,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&e.push(a.customSelector);var i=".fitvidsignore";a.ignore&&(i=i+", "+a.ignore);var o=t(this).find(e.join(","));o=o.not("object object"),o=o.not(i),o.each(function(){var e=t(this);if(!(e.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var a="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),o=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),n=a/o;if(!e.attr("name")){var r="fitvid"+t.fn.fitVids._count;e.attr("name",r),t.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),e.removeAttr("height").removeAttr("width")}})})},t.fn.fitVids._count=0}(window.jQuery||window.Zepto),$(document).ready(function(){function t(t){$(t).length&&$("html,body").scrollTop($(t).offset().top)}function e(t,e){var a=($(this),$(t).clone());$(a).css({position:"absolute",top:$(t).offset().top+80+"px",left:$(t).offset().left+100+"px",opacity:1,"z-index":1e3}),$("body").append($(a)),$(a).width("350");var i=$(e).offset().left+$(e).width()/2-$(t).width()/5/2,o=$(e).offset().top+$(e).height()/2-$(t).height()/5/2;$(a).animate({opacity:.4,left:i,top:o,width:$(t).width()/5,height:$(t).height()/5},700,function(){$(e).fadeOut("fast",function(){$(e).fadeIn("fast",function(){$(a).fadeOut("fast",function(){$(a).remove()})})})})}function a(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=$("#header .cart.item"),o=parseFloat(i.find("price number").text()),n=$(".content.cart").data("cartid"),r=$("#cart_popup");data={},data.qty=e,null!=a&&(data.size=a),$.ajax({method:"POST",url:"/cart/"+n+"/"+t,data:data,global:!1,success:function(t){console.log(t),i.find(".label").text(t.count),i.find("price number").text(parseFloat(o+parseFloat(t.price)).toFixed(2)),r.find(".button").before(t.row),r.find(".noitems").hide()}})}function i(){return $filters={},$filters.parameters={},$("#active_filters span").each(function(t,e){var a=$(e).data("group"),i=$(e).data("filter");$(e).data("group")?$filters[a][i]=[]:$filters[$(e).data("filter")]={}}),console.log($filters),$("#active_filters span").each(function(t,e){var a=$(e).data("group"),i=$(e).data("filter");null!=a?$filters[a][i].push($(e).data("value")):$filters[i]=$(e).data("value")}),$filters}function o(){return $("#category_path_wrapper").data("categoryid")}function n(){return $(".sort.active").data("sortby")}function r(){return $(".sort.active").data("sortorder")}function d(t){$(".banner_preview .cover").width(t+"%"),$("#cover_dimensions_settings").find("width").text($(".banner_preview .cover").width()),$coverRatio=($(".banner_preview .cover").width()/$(".banner_preview .cover").height()).toFixed(2),$("#cover_dimensions_settings").find("ratio").text($coverRatio),$bannerRatio=($(".banner_preview .banner").width()/$(".banner_preview .banner").height()).toFixed(2),$("#banner_dimensions_settings").find("ratio").text($bannerRatio),$("#banner_dimensions_settings").find("width").text($(".banner_preview .banner").width()),$('input[name="cover_ratio"]').val($coverRatio),$('input[name="banner_ratio"]').val($bannerRatio)}function c(t){$(".banner_preview .cover").height(t-2),$(".banner_preview .banners").height(t),$("#cover_dimensions_settings").find("height").text($(".banner_preview .cover").height()),$coverRatio=($(".banner_preview .cover").width()/$(".banner_preview .cover").height()).toFixed(2),$("#cover_dimensions_settings").find("ratio").text($coverRatio),$bannerRatio=($(".banner_preview .banner").width()/$(".banner_preview .banner").height()).toFixed(2),$("#banner_dimensions_settings").find("ratio").text($bannerRatio),$("#banner_dimensions_settings").find("height").text($(".banner_preview .banner").height()),$('input[name="cover_ratio"]').val($coverRatio),$('input[name="banner_ratio"]').val($bannerRatio)}function s(){$grid=$("#grid_wrapper").find("grid"),$filtersDiv=$("#filterbar").find(".params"),$sortBy=n(),$sortOrder=r(),$filters=i(),$categoryid=o(),$page=x("page"),$.get("/product/list",{category:$categoryid,sortBy:$sortBy,sortOrder:$sortOrder,filters:$filters,page:$page},function(t){$grid.html(t.products),$filtersDiv.html(t.filters),p(),$("#grid_wrapper").find(".dimmer").removeClass("active"),$("#grid_wrapper").show(),$(".sorts").show(),$("#price_slider").show(),$(".sort").removeClass("loading"),$grid.on("click",".view_more_button",function(){$(".view_more_button").addClass("loading"),$.get($("#next_page").attr("href"),{category:$categoryid,sortBy:$sortBy,sortOrder:$sortOrder,filters:$filters},function(t){$("#grid_div").remove(),$grid.find(".item").last().after($(t.products)),$("#grid_wrapper").find(".dimmer").removeClass("active"),$(".view_more_button").removeClass("loading")})})})}function l(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$("#active_filters").append('<span data-value="'+e+'" data-filter="'+t+'" data-group="'+i+'" class="'+t+' ui large teal label">'+a+'<i class="delete icon"></i></span>')}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""==e?$("#active_filters").find('span[data-filter="'+t+'"]').remove():$("#active_filters").find('span[data-value="'+e+'"][data-filter="'+t+'"]').remove()}function p(){$("#filterbar  .ui.checkbox").checkbox({onChecked:function(){$value=$(this).closest(".checkbox").data("value"),$text=$(this).closest(".checkbox").find("label").text(),$filter=$(this).closest(".checkbox").data("filter"),$display=$(this).closest(".checkbox").data("display"),l($filter,$value,$display+": "+$text,"parameters"),s()},onUnchecked:function(){$value=$(this).closest(".checkbox").data("value"),$text=$(this).closest(".checkbox").find("label").text(),$filter=$(this).closest(".checkbox").data("filter"),$display=$(this).closest(".checkbox").data("display"),u($filter,$value),s()}})}function h(t){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t)}
function m(t,e,a){$charts[t].data.labels=[],$charts[t].data.datasets.forEach(function(t){t.data=[]}),$(a).each(function(i,o){_($charts[t],e[i],a[i])})}function _(t,e,a){t.data.labels.push(e),t.data.datasets.forEach(function(t){t.data.push(a)}),t.update()}function f(t){for(var e=new Date,a=[],i=0;i<t;i++){var o=new Date(e.setDate(e.getDate()-1));a.push(o.getFullYear()+"-"+parseInt(o.getMonth()+1)+"-"+o.getDate())}return a}function v(t,e){var a=[],i=f(e);return assocData={},$(t).each(function(t,e){assocData[e.date]=e.count}),$(i).each(function(t,e){assocData[e]?a.push(assocData[e]):a.push(0)}),a}function g(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());return rand="rgb("+t+","+e+","+a+")",rand}function y(t,e){for(var a=0;t[++a]<=e;);return t[--a]}function b(t){$related_carousel=$(".related_products_carousel").flickity({cellAlign:"left",contain:!0,pageDots:!1,prevNextButtons:!1,imagesLoaded:!0,autoPlay:t}),$related_carousel.on("staticClick.flickity",function(t,e,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(e)[0].target).hasClass("to_cart")&&0==$($(e)[0].target).hasClass("icon")&&(window.location.href=$link)})}function w(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3];$data={},$data.changes=t,$data.view=e,$.ajax({type:"PUT",url:"/admin/page/setting/",data:$data,success:function(t){a&&$("#page_preview").find("#"+i).html(t)}})}$(document).on("click",".to_cart",function(){$product=$(this).closest(".product").data("productid"),$product_code=$(this).closest(".product").data("productcode"),$product_name=$(this).closest(".product").find(".title").text();var t=$("#header .cart.item"),i=$(this).closest(".product").find(".image_div");$qty=$(this).closest(".product").data("minqty"),$(this).hasClass("sizes")?$("#sizes_modal").modal("setting",{duration:200,onShow:function(){$("#sizes_modal").find(".image img").attr("src",i.find("img").attr("src")),$("#sizes_modal > .header").html($product_name),$.get("/api/product/"+$product+"/sizes",{},function(t){$("#sizes_modal").find("#sizes").html(""),$(t).each(function(t,e){"PRODEJ UKONČEN"==e.stock?$class="inactive":$class="active",e.size_code==$product_code?$selected=" selected":$selected="",$("#sizes_modal").find("#sizes").append('<div class="size '+$class+$selected+'" data-code="'+e.size_code+'">'+e.text+"</div>"),$("#sizes_modal .size.active").click(function(){$("#sizes_modal .size").removeClass("selected"),$(this).addClass("selected")})})})},onApprove:function(){$size=$("#sizes_modal").find(".selected.size").data("code"),a($product,$qty,$size),e(i,t)}}).modal("show"):(e(i,t),a($product,$qty))}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var k=window.location.href.split("/");console.log(k),""!=k[3]&&"admin"!=k[3]&&$(window).width()>680&&t("#grid.main"),window.onpopstate=function(t){t&&t.state&&location.reload()},$(".ui.checkbox").checkbox(),$("#header .account.item").popup({popup:$("#auth_popup"),on:"click"}),$("#header .catalogues.item").popup({popup:$("#catalogues_popup"),on:"hover",hoverable:!0}),$("#header .cart.item").popup({popup:$("#cart_popup"),on:"hover",hoverable:!0}),$("#header .cart.item").click(function(){window.location.href=$(this).attr("href")}),$(".ui.accordion").accordion({exclusive:!1}),$("#filterbar .ui.accordion").accordion({exclusive:!1,selector:{accordion:".accordion",title:".title",trigger:".title i",content:".content"}}),$(".admin_categories_list .ui.accordion").accordion({exclusive:!1,selector:{accordion:".accordion",title:".title",trigger:".name",content:".content"}}),$(".register_form").click(function(){$popup=$("#auth_popup"),$email=$("#register_div").find('input[name="email"]').val(),$password=$("#register_div").find('input[name="password"]').val()}),$(".login_form").submit(function(){return $validation=1,$popup=$("#auth_popup"),$email=$("#login_div").find('input[name="email"]').val(),$password=$("#login_div").find('input[name="password"]').val(),1==$validation}),$(".add_category_btn").click(function(){$("#add_category_modal").modal("setting",{autofocus:!1,onShow:function(){$(".dropdown").dropdown()},onApprove:function(){$name=$("#add_category_input").val(),$parent_id=$('input[name="parent_id"]').val(),$.ajax({type:"POST",url:"/category",data:{name:$name,parent_id:$parent_id},success:function(){location.reload()}})}}).modal("show")}),$("#create_product_add_param_row").click(function(){$html=$("#create_product_params .row:first-child").html(),$("#create_product_params").append('<div class="row">'+$html+"</div>"),$(".ui.dropdown").dropdown()}),$("#edit_product_add_param_row").click(function(){$html=$("#param_template .row").html(),$("#edit_product_params").append('<div class="row">'+$html+"</div>"),$(".ui.dropdown").dropdown()}),$("#create_product_categories_input").dropdown({maxSelections:1,onAdd:function(t,e,a){console.log(t)}}),$("#create_product_form").submit(function(t){return $validation=1,$name=$('#product_main_wrapper input[name="name"]').val(),$code=$('#product_main_wrapper input[name="code"]').val(),$maker=$('#product_main_wrapper input[name="maker"]').val(),$threshold=$('#product_main_wrapper input[name^="thresholds"]').val(),$moc=$('#product_main_wrapper input[name^="mocs"]').val(),$mocs=$('#product_main_wrapper input[name^="moc_sales"]').val(),$voc=$('#product_main_wrapper input[name^="vocs"]').val(),$vocs=$('#product_main_wrapper input[name^="voc_sales"]').val(),""==$name&&($validation=0,$('#product_main_wrapper input[name="name"]').parent().addClass("error")),""==$code&&($validation=0,$('#product_main_wrapper input[name="code"]').parent().addClass("error")),""==$maker&&($validation=0,$('#product_main_wrapper input[name="maker"]').parent().addClass("error")),""==$threshold&&($validation=0,$('#product_main_wrapper input[name^="thresholds"]').parent().addClass("error")),""==$moc&&($validation=0,$('#product_main_wrapper input[name^="moc"]').parent().addClass("error")),""==$mocs&&($validation=0,$('#product_main_wrapper input[name^="mocs"]').parent().addClass("error")),""==$voc&&($validation=0,$('#product_main_wrapper input[name^="voc"]').parent().addClass("error")),""==$vocs&&($validation=0,$('#product_main_wrapper input[name^="vocs"]').parent().addClass("error")),1==$validation}),$(".other_img .img").click(function(t){t.preventDefault(),$("#product_main_wrapper .img.main img").attr("src","/img/loader.gif"),$index=$(this).find("img").data("index"),$("#product_main_wrapper").data("index",$index);var e=new Image,a=$(this).find("img").data("full");e.src=a,e.onload=function(){$("#product_main_wrapper .img.main img").attr("src",a),$("#product_main_wrapper .img.main").attr("href",a)}}),$(".message .close").on("click",function(){$(this).closest(".message").transition("fade")}),$("#product_detail_tocart_btn").click(function(){$product=$("#product_main_wrapper").data("id"),$qty=$(this).data("qty"),$size=$("#product_main_wrapper .sizes .size.selected").data("code");var t=$("#header .cart.item");e($("#product_main_wrapper").find(".img"),t),a($product,$qty,$size)}),$(document).on("click",".delete_cart",function(){console.log(1),$("#delete_cart_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/cart/all",data:{},success:function(){location.replace("/cart/products")}})}}).modal("show")}),$(document).on("click",".catalogue_delete_btn",function(){$catalogueid=$(this).closest(".catalogue").data("id"),$("#delete_catalogue_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/file/"+$catalogueid,data:{},success:function(){location.reload()}})}}).modal("show")}),$(".catalogue_primary_btn").click(function(){$catalogueid=$(this).closest(".catalogue").data("id"),$.ajax({type:"PUT",url:"/file/"+$catalogueid,data:{primary:1},success:function(){location.reload()}})}),$(".catalogue_save_btn").click(function(){$catalogueid=$(this).closest(".catalogue").data("id"),$path=$(this).closest(".catalogue").find("input").val(),$(this).addClass("loading"),$.ajax({type:"PUT",url:"/file/"+$catalogueid,data:{path:$path},success:function(){location.reload()}})}),$(".cart_delete_product").click(function(){$productid=$(this).closest(".product").data("productid"),$cartid=$(".cart.content").data("cartid"),$.ajax({type:"DELETE",url:"/cart/"+$cartid+"/"+$productid,data:{},success:function(){location.reload()}})}),$(".cart_plus_product").click(function(){$productid=$(this).closest(".product").data("productid"),$.ajax({type:"POST",url:"/cart/"+$productid,data:{},success:function(){location.reload()}})}),$(".cart_minus_product").click(function(){$productid=$(this).closest(".product").data("productid"),$.ajax({type:"PUT",url:"/cart/"+$productid,data:{},success:function(){location.reload()}})}),p(),$("#banners_visible_checkbox").checkbox({onChecked:function(){$(".banner_preview").find(".banners").show(),$(".banner_preview .cover").width($('input[name="cover_width"').val()+"%"),$("#cover_width_setting").show()},onUnchecked:function(){$(".banner_preview").find(".banners").hide(),$(".banner_preview .cover").width("100%"),$("#cover_width_setting").hide()}}),function(){if($("#cover_height_slider").length){$("#cover_height_slider")[0].noUiSlider&&$("#cover_height_slider")[0].noUiSlider.destroy();var t=document.getElementById("cover_height_slider");noUiSlider.create(t,{start:$('input[name="cover_height"]').val(),connect:[!0,!1],range:{min:0,max:1e3},format:wNumb({decimals:0}),step:1}),t.noUiSlider.on("slide",function(){$('input[name="cover_height"').val(t.noUiSlider.get()),c(t.noUiSlider.get())})}}(),function(){if($("#cover_width_slider").length){$("#cover_width_slider")[0].noUiSlider&&$("#cover_width_slider")[0].noUiSlider.destroy();var t=document.getElementById("cover_width_slider");noUiSlider.create(t,{start:$('input[name="cover_width"]').val(),connect:[!0,!1],range:{min:50,max:90},format:wNumb({decimals:0}),step:1}),t.noUiSlider.on("slide",function(){$('input[name="cover_width"').val(t.noUiSlider.get()),d(t.noUiSlider.get())})}}();var x=function(t){var e,a,i=window.location.search.substring(1),o=i.split("&");for(a=0;a<o.length;a++)if(e=o[a].split("="),e[0]===t)return void 0===e[1]||decodeURIComponent(e[1])};"category_products_body"!=$("body").attr("id")&&"search_body"!=$("body").attr("id")||s(),$(".sort").click(function(){$(this).addClass("loading"),$(this).hasClass("active")?"asc"==$(this).data("sortorder")?("created_at"!=$(this).data("sortby")&&$(this).data("sortorder","desc"),$(this).find("i").removeClass("ascending").addClass("descending")):("created_at"!=$(this).data("sortby")&&$(this).data("sortorder","asc"),$(this).find("i").removeClass("descending").addClass("ascending")):($(".sort").removeClass("active"),$(this).addClass("active")),s()}),$(".categories .item .icon.plus").click(function(t){$(this).toggleClass("minus plus")}),$(".categories .item .icon.minus").click(function(t){$(this).toggleClass("minus plus")}),$(".cart_delivery.eshop").click(function(){$this=$(this),$deliveryNote=$this.data("note"),$this.hasClass("completed")||($delivery=$(this).data("delivery_method"),$(".cart_payment").each(function(t,e){$(e).removeClass("disabled completed active"),-1==$.inArray($delivery,$(e).data("delivery_methods"))&&$(e).addClass("disabled")}),$shipping_price=parseFloat($(this).data("price")),$data={delivery_method:$delivery},$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price=parseFloat($(this).data("price")),$data.payment_method="",$data.shipping_price=$shipping_price,$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").addClass("disabled")),$(".cart_payment.completed.active").length&&!$(".cart_delivery.completed.active").length&&($data.shipping_price=$shipping_price+parseFloat($(".cart_delivery.completed.active").data("price")),$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").removeClass("disabled")),!$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price=parseFloat($(this).data("price")),$data.payment_method="",$(".cart_payment").removeClass("completed active"),$data.shipping_price=$shipping_price,$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").addClass("disabled")),$(".cart_payment.completed.active").length||$(".cart_delivery.completed.active").length||($shipping_price=parseFloat($(this).data("price")),$data.payment_method="",$(".cart_payment").removeClass("completed active"),$data.shipping_price=$shipping_price,$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price)),$(".cart_delivery").removeClass("completed active"),$.ajax({method:"POST",url:"/cart",data:$data,success:function(t){$this.hasClass("completed")||($this.addClass("completed active"),$("#cart_info_wrapper").find(".delivery_note").html($deliveryNote),$deliveryNote&&$("#cart_info_wrapper").show())}}))}),$(".cart_payment.eshop").click(function(){$this=$(this),$paymentNote=$this.data("note"),$this.hasClass("completed")||($payment=$(this).data("payment_method"),$shipping_price=parseFloat($(this).data("price")),$data={payment_method:$payment},$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price+=parseFloat($(".cart_delivery.completed.active").data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$("#cart_shipping_price").find("price").text($shipping_price)),$(".cart_payment.completed.active").length&&!$(".cart_delivery.completed.active").length&&($shipping_price=parseFloat($(this).data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$("#cart_shipping_price").find("price").text($shipping_price)),!$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price+=parseFloat($(".cart_delivery.completed.active").data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").removeClass("disabled"),$("#cart_shipping_price").find("price").text($shipping_price)),$(".cart_payment.completed.active").length||$(".cart_delivery.completed.active").length||($shipping_price=parseFloat($(this).data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$("#cart_shipping_price").find("price").text($shipping_price)),$(".cart_payment").removeClass("completed active"),$.ajax({method:"POST",url:"/cart",data:$data,success:function(){$this.hasClass("completed")||($this.addClass("completed active"),$("#cart_info_wrapper").find(".payment_note").html($paymentNote),$paymentNote&&$("#cart_info_wrapper").show())}}))}),"body_cart_delivery"==$("body").attr("id")&&($deliveryprice=parseFloat($(".cart_delivery.active").data("price"))||0,$paymentprice=parseFloat($(".cart_payment.active").data("price"))||0,$("#cart_shipping_price").find("price").html($deliveryprice+$paymentprice),$("#cart_total_price").find("price").html(parseFloat($deliveryprice+$paymentprice+parseFloat($("#cart_without_vat_price").find("price").text()||0)+parseFloat($("#cart_vat").find("price").text()||0)+parseFloat($("#cart_price").find("price").text()||0)).toFixed(2)),$.ajax({method:"POST",url:"/cart",data:{shipping_price:$deliveryprice+$paymentprice}})),$("#view_goods_btn").click(function(){t("#home_content")}),$("#login_password_input").keypress(function(t){13==t.which&&$("#login_form").submit()}),$("#register_password_input").keypress(function(t){13==t.which&&$("#register_btn").click()}),$("#product_detail_delete_btn").click(function(){$productid=$("#product_main_wrapper").data("id"),$("#delete_product_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/product/"+$productid,data:{},success:function(){location.replace("/admin/products")}})}}).modal("show")}),$(".admin_delete_category_btn").click(function(){$categoryid=$(this).closest(".category").data("id"),$("#delete_category_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/category/"+$categoryid,data:{},success:function(){location.replace("/admin/products")}})}}).modal("show")}),$(".product_row_delete_btn").click(function(){$productid=$(this).closest(".product").data("productid"),$("#delete_product_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/product/"+$productid,data:{},success:function(){location.reload()}})}}).modal("show")});$(".product_search_input input").keyup(function(t){$query=$(this).val(),u("search"),""!=$query&&(l("search",$query,"hľadaj: "+$query),s())}),$("#settings_submit_btn").click(function(){$validation=1,$userid=$("#settings_user").data("userid"),$container=$("#right"),$data={},$rawdata={first_name:$container.find('input[name="first_name"]').val(),last_name:$container.find('input[name="last_name"]').val(),phone:$container.find('input[name="phone"]').val(),invoice_address:{street:$container.find('input[name="invoice_address_street"]').val(),zip:$container.find('input[name="invoice_address_zip"]').val(),city:$container.find('input[name="invoice_address_city"]').val(),company:$container.find('input[name="invoice_address_company"]').val(),ico:$container.find('input[name="invoice_address_ico"]').val(),dic:$container.find('input[name="invoice_address_dic"]').val(),icdph:$container.find('input[name="invoice_address_icdph"]').val()},delivery_address:{name:$container.find('input[name="delivery_address_name"]').val(),street:$container.find('input[name="delivery_address_street"]').val(),city:$container.find('input[name="delivery_address_city"]').val(),zip:$container.find('input[name="delivery_address_zip"]').val(),additional:$container.find('input[name="delivery_address_additional"]').val(),phone:$container.find('input[name="delivery_address_phone"]').val()}},$data.invoice_address=JSON.stringify($rawdata.invoice_address),$data.delivery_address=JSON.stringify($rawdata.delivery_address),$data.first_name=$rawdata.first_name,$data.last_name=$rawdata.last_name,$data.phone=$rawdata.phone,$data.redirect=$(this).data("redirect"),$validation&&$.ajax({method:"PUT",url:"/user/"+$userid,data:$data,success:function(t){location.reload()}})}),$("#use_delivery_address_input").checkbox({onChecked:function(){$(".cart_address .delivery").fadeIn(),$.ajax({method:"POST",url:"/cart",data:{delivery_address_flag:1}})},onUnchecked:function(){$(".cart_address .delivery").fadeOut(),$.ajax({method:"POST",url:"/cart",data:{delivery_address_flag:0}})}}),$("#use_ico_input").checkbox({onChecked:function(){$(".cart_address .ico").fadeIn(),$.ajax({method:"POST",url:"/cart",data:{ico_flag:1}})},onUnchecked:function(){$(".cart_address .ico").fadeOut(),$.ajax({method:"POST",url:"/cart",data:{ico_flag:0}})}}),$("#cart_shipping_next_btn").click(function(t){$validation=1,$invoiceAddress={},$deliveryAddress={},$ico={},$button=$(this),$button.addClass("loading"),$invoiceAddressInputs=$(".cart_address").find(".invoice").find(".input"),$invoiceAddressInputs.each(function(t,e){$type=$(e).data("column"),$invoiceAddress[$type]=$(e).find("input").val(),""==$(e).find("input").val()&&($validation=0,$(e).addClass("error"))}),$deliveryAdressFlag=$("#use_delivery_address_input").checkbox("is checked"),$icoFlag=$("#use_ico_input").checkbox("is checked"),$email=$('input[type="email"]').val(),h($email)||($validation=0,$('input[type="email"]').parent().addClass("error")),$phone=$('.input[data-column="phone"] input').val(),$.isNumeric($phone)||($validation=0,$('.input[data-column="phone"]').addClass("error")),$deliveryAdressFlag&&($deliveryAddressInputs=$(".cart_address").find(".delivery").find(".input"),$deliveryAddressInputs.each(function(t,e){$type=$(e).data("column"),$deliveryAddress[$type]=$(e).find("input").val(),""==$(e).filter(".mandatory").find("input").val()&&($validation=0,$(e).addClass("error"))})),$icoFlag&&($icoInputs=$(".cart_address").find(".ico").find(".input"),$icoInputs.each(function(t,e){$type=$(e).data("column"),$ico[$type]=$(e).find("input").val(),""==$(e).filter(".mandatory").find("input").val()&&($validation=0,$(e).addClass("error"))})),console.log($validation),$validation?($.extend($invoiceAddress,$ico),$.ajax({method:"POST",url:"/cart",data:{invoice_address:JSON.stringify($invoiceAddress),delivery_address:JSON.stringify($deliveryAddress)}}),t.preventDefault(),setTimeout(function(){$.get($(this).attr("href"),{},function(){location.replace($button.attr("href"))})},1e3)):(t.preventDefault(),$button.removeClass("loading"))}),$("#submit_order_btn").click(function(){$button=$(this),$button.addClass("loading"),$.ajax({method:"POST",url:"/order",success:function(){location.replace("/order/success")}})}),$("#admin #grid .product.item").draggable({opacity:.6,helper:"clone"}),$(".categories .item").droppable({tolerance:"pointer",accept:".product",over:function(t,e){$(this).addClass("active")},out:function(t,e){$(this).removeClass("active")},deactivate:function(t,e){$(this).removeClass("active")},drop:function(t,e){$categoryId=$(this).data("categoryid"),$product=$(e.draggable),$.post("/product/"+$product.data("productid")+"/change/category/"+$categoryId,{},function(){$product.remove()}),$(this).removeClass("active")}}),$(document).on("click",".admin_delete_user_btn",function(){$userid=$(this).closest(".user").data("userid"),$.ajax({method:"DELETE",url:"/user/"+$userid,success:function(){location.reload()}})}),$(".admin_admin_checkbox").checkbox({onChecked:function(){$userid=$(this).closest(".user").data("userid"),$.ajax({method:"PUT",url:"/user/"+$userid,data:{admin:1}})},onUnchecked:function(){$userid=$(this).closest(".user").data("userid"),$.ajax({method:"PUT",url:"/user/"+$userid,data:{admin:0}})}}),$(".delete_img").click(function(){$image=$(this).closest(".image_div"),$imageid=$image.data("fileid"),$.ajax({method:"DELETE",url:"/file/"+$imageid,data:{},success:function(){$image.remove()}})}),$(".make_primary_img").click(function(){$image=$(this).closest(".image_div"),$imageid=$image.data("fileid"),$.ajax({method:"PUT",url:"/file/"+$imageid,data:{primary:1},success:function(){$(".image_div").removeClass("primary"),$image.addClass("primary")}})}),$("#active_filters").on("click","span .delete",function(){$filter=$(this).parent().data("filter"),$value=$(this).parent().data("value"),$(this).parent().remove(),$('.filter[data-filter="'+$filter+'"][data-value="'+$value+'"]').removeClass("active"),s()}),$("#sidebar_handle").click(function(){$("#sidebar").sidebar("toggle")}),$("#catbar_handle").click(function(){$("#catbar").sidebar("setting","transition","overlay").sidebar("toggle")}),$("#parambarbar_handle").click(function(){$("#parambar").sidebar("toggle")}),$(".close_btn").click(function(){$(".ui.sidebar").sidebar("hide")}),$sales_carousel=$("#home_sales_div .items").flickity({cellAlign:"left",contain:!1,pageDots:!1,prevNextButtons:!1,imagesLoaded:!0,wrapAround:!0}),$news_carousel=$("#home_news_div .items").flickity({cellAlign:"left",contain:!1,pageDots:!1,prevNextButtons:!1,imagesLoaded:!1,wrapAround:!0}),$bestsellers_carousel=$("#home_bestsellers_div .items").flickity({cellAlign:"left",contain:!1,pageDots:!1,prevNextButtons:!1,imagesLoaded:!0,wrapAround:!0}),$sales_carousel.on("staticClick.flickity",function(t,e,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(e)[0].target).hasClass("to_cart")&&0==$($(e)[0].target).hasClass("icon")&&(window.location.href=$link)}),$news_carousel.on("staticClick.flickity",function(t,e,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(e)[0].target).hasClass("to_cart")&&0==$($(e)[0].target).hasClass("icon")&&(window.location.href=$link)}),$bestsellers_carousel.on("staticClick.flickity",function(t,e,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(e)[0].target).hasClass("to_cart")&&0==$($(e)[0].target).hasClass("icon")&&(window.location.href=$link)}),$("#admin_add_category_param_btn").click(function(){$html=$("#admin_filters_div .row:first-child").clone(),$("#admin_filters_div").append($html)}),$("#filterbar .tabs .category.tab").click(function(){$("#cat_div").show(),$("#filterbar .tabs .tab").removeClass("active"),$(this).addClass("active")}),$('#filterbar .tabs .param.tab:not(".disabled")').click(function(){$("#cat_div").hide(),$("#filterbar .tabs .tab").removeClass("active"),$(this).addClass("active")}),$carousel=$(".covers").flickity({autoPlay:4e3,setGallerySize:!1}),$carousel_mobile=$(".top_banner_row_mobile").flickity({autoPlay:4e3,pageDots:!1}),$carousel.on("pointerUp.flickity",function(){$("#search_results").hide()}),$(".expand_all_toggle").click(function(){$target=$(this).data("target"),$(this).hasClass("expanded")?($('[data-target="'+$target+'"]').find(".title").removeClass("active"),$('[data-target="'+$target+'"]').find(".content").removeClass("active"),$(this).removeClass("expanded").text("Rozbal všetko")):($('[data-target="'+$target+'"]').find(".title").addClass("active"),$('[data-target="'+$target+'"]').find(".content").addClass("active"),$(this).addClass("expanded").text("Zbal všetko"))}),$(".tabs .tab").click(function(){$(".tabs .tab").removeClass("brown").addClass("basic"),$(this).addClass("brown").removeClass("basic"),$(".tabs .content").removeClass("active"),$('.tabs .content[data-tab="'+$(this).data("tab")+'"]').addClass("active")}),$("#new_page_btn").click(function(){$("#add_page_modal").modal("setting",{autofocus:!0,onApprove:function(){$name=$("#add_page_name_input").val(),$url=$("#add_page_url_input").val(),$.ajax({type:"POST",url:"/page",data:{name:$name,url:$url},success:function(){location.reload()}})}}).modal("show")}),$("#new_text_btn").click(function(){$("#add_text_modal").modal("setting",{autofocus:!0,onApprove:function(){$name=$("#add_text_name_input").val(),$.ajax({type:"POST",url:"/text",data:{name:$name},success:function(){location.reload()}})}}).modal("show")}),$(".disabled.rating").each(function(t,e){$(e).rateYo("rating",$(e).data("rating"))}),$(".dashboard_tabs .new.tab").click(function(){$(".dashboard_tabs .overall.tab").removeClass("blue").addClass("basic"),$(this).addClass("blue").removeClass("basic"),$(".admin_dashboard .new.boxes").removeClass("hidden"),$(".admin_dashboard .overall.boxes").addClass("hidden")}),$(".dashboard_tabs .overall.tab").click(function(){$(".dashboard_tabs .new.tab").removeClass("blue").addClass("basic"),$(this).addClass("blue").removeClass("basic"),$(".admin_dashboard .new.boxes").addClass("hidden"),$(".admin_dashboard .overall.boxes").removeClass("hidden")}),$(".add_delivery_method_btn").click(function(){$("#add_delivery_method_modal").modal("setting",{onVisible:function(){$(".ui.dropdown").dropdown()},onApprove:function(){$name=$("#add_delivery_method_name_input").val(),$desc=$("#add_delivery_method_desc_input").val(),$price=$("#add_delivery_method_price_input").val(),$icon=$("#add_delivery_method_modal").find(".ui.dropdown.add").dropdown("get value"),$note=$("add_delivery_method_note_input").val(),$.ajax({type:"POST",url:"/admin/delivery",data:{name:$name,desc:$desc,icon:$icon,note:$note,price:$price},success:function(){location.reload()}})}}).modal("show")}),$(".add_payment_method_btn").click(function(){$("#add_payment_method_modal").modal("setting",{onApprove:function(){$name=$("#add_payment_method_name_input").val(),$desc=$("#add_payment_method_desc_input").val(),$price=$("#add_payment_method_price_input").val(),$icon=$("#add_payment_method_modal").find(".ui.dropdown.add").dropdown("get value"),$note=$("add_payment_method_note_input").val(),$.ajax({type:"POST",url:"/admin/payment",data:{name:$name,desc:$desc,icon:$icon,note:$note,price:$price},success:function(){location.reload()}})}}).modal("show")}),$(".admin_method_list i.delete").click(function(){$item=$(this).closest(".step"),$id=$(this).closest(".step").data("id"),$type=$(this).closest(".step").data("type"),$("#delete_method_modal").modal("setting",{autofocus:!1,onApprove:function(){$.ajax({type:"DELETE",url:"/admin/"+$type+"/"+$id,success:function(){$item.remove()}})}}).modal("show")}),$(".page_delete_btn").click(function(){$id=$(this).closest(".item").data("id"),$("#delete_page_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/page/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(".text_delete_btn").click(function(){$id=$(this).closest(".item").data("id"),$("#delete_text_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/text/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(".sticker_delete_btn").click(function(){$id=$(this).closest(".item").data("id"),$("#delete_sticker_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/sticker/"+$id,success:function(){location.reload()}})}}).modal("show")});var C,A,j,S;$(".sticker_preview_div .sticker").draggable({containment:"parent",create:function(){stikcer_left=0,sticker_right=0},stop:function(){C=$(this).position().left,A=$(this).position().top}}),$(".sticker_preview_div .sticker").resizable({containment:"parent",create:function(){j=$(this).width(),S=$(this).height()},stop:function(){j=$(this).width(),S=$(this).height()}}),$("#edit_sticker_submit").click(function(){$id=$(this).data("id"),$sticker_product_row=$("#sticker_product_row").checkbox("is checked"),$sticker_product_detail=$("#sticker_product_detail").checkbox("is checked"),$.ajax({url:"/sticker/"+$id,method:"PUT",data:{left:C,top:A,width:j,height:S,product_row:$sticker_product_row,product_detail:$sticker_product_detail},success:function(){location.reload()}})}),$(".admin_method_list i.edit").click(function(){$item=$(this).closest(".step"),$id=$item.data("id"),$type=$item.data("type"),$("#edit_method_modal").modal("setting",{autofocus:!1,onShow:function(){$("#edit_method_name_input").val($item.data("name")),$("#edit_method_desc_input").val($item.data("desc")),$("#edit_method_price_input").val($item.data("price")),$("#edit_method_modal").find(".ui.dropdown.edit").dropdown("set value",$item.data("icon")),$("#edit_method_modal").find(".ui.dropdown.edit").dropdown("set text","<i class='big icon "+$item.data("icon")+"'></i>"),$("#edit_method_note_input").val($item.data("note"))},onApprove:function(){$name=$("#edit_method_name_input").val(),$desc=$("#edit_method_desc_input").val(),$price=$("#edit_method_price_input").val(),$icon=$("#edit_method_modal").find(".ui.dropdown.edit").dropdown("get value"),$note=$("#edit_method_note_input").val(),console.log($note),$.ajax({type:"PUT",url:"/admin/"+$type+"/"+$id,data:{name:$name,desc:$desc,icon:$icon,note:$note,price:$price},success:function(){location.reload()}})}}).modal("show")}),$(".tabbs .tabb").click(function(){$(".tabbs .tabb").removeClass("blue selected").addClass("basic"),$(this).addClass("blue selected").removeClass("basic"),$(".tabbs .contents .content").removeClass("active"),$('.tabbs .contents .content[data-tab="'+$(this).data("tab")+'"]').addClass("active")}),$(".delivery_payment_checkbox").checkbox({onChecked:function(){$delivery_method_id=$(this).closest("tr").data("delivery_method_id"),$payment_method_id=$(this).closest("tr").data("payment_method_id"),$.ajax({method:"POST",url:"/admin/deliverypayment",data:{delivery_method_id:$delivery_method_id,payment_method_id:$payment_method_id}})},onUnchecked:function(){$delivery_method_id=$(this).closest("tr").data("delivery_method_id"),
$payment_method_id=$(this).closest("tr").data("payment_method_id"),$.ajax({method:"DELETE",url:"/admin/deliverypayment",data:{delivery_method_id:$delivery_method_id,payment_method_id:$payment_method_id}})}}),$("input.delivery_price").keyup(function(){$delivery_method_id=$(this).closest("tr").data("delivery_method_id"),$payment_method_id=$(this).closest("tr").data("payment_method_id"),$price=$(this).val(),$.ajax({method:"PUT",url:"/admin/deliverypayment",data:{delivery_method_id:$delivery_method_id,payment_method_id:$payment_method_id,price:$price}})});var T=document.getElementById("admin_add_cover_h1_size_slider"),E=document.getElementById("admin_add_cover_h2_size_slider");$("#admin_add_cover_h1_size_slider").length&&(noUiSlider.create(T,{start:$('#admin_add_cover_form input[name="h1_size"]').val(),connect:!0,range:{min:0,max:6}}),noUiSlider.create(E,{start:$('#admin_add_cover_form input[name="h2_size"]').val(),connect:!0,range:{min:0,max:6}}),T.noUiSlider.on("update",function(t){$(".cover_div h1").css("font-size",t[0]+"vw"),$('#admin_add_cover_form input[name="h1_size"]').val(t[0])}),E.noUiSlider.on("update",function(t){$(".cover_div h2").css("font-size",t[0]+"vw"),$('#admin_add_cover_form input[name="h2_size"]').val(t[0])})),$("#admin_add_cover_h1").on("keyup",function(t,e){$(".cover_div h1").html($(this).val()),$('#admin_add_cover_form input[name="h1_text"]').val($(this).val())}),$("#admin_add_cover_h2").on("keyup",function(t,e){$(".cover_div h2").html($(this).val()),$('#admin_add_cover_form input[name="h2_text"]').val($(this).val())}),$(".delete_banner_btn").click(function(){$btn=$(this),$("#delete_banner_modal").modal("setting",{autofocus:!1,onApprove:function(){$id=$btn.closest(".banner").data("id"),$.ajax({type:"DELETE",url:"/admin/banner/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(".admin_cover_list").sortable({stop:function(){$data={},$(".admin_cover_list .banner").each(function(t,e){$data[$(e).data("id")]=t}),$.ajax({method:"PUT",url:"/admin/covers/setorder",data:$data})}}),$(".admin_banner_list").sortable({stop:function(){$data={},$(".admin_banner_list .banner").each(function(t,e){$data[$(e).data("id")]=t}),$.ajax({method:"PUT",url:"/admin/banners/setorder",data:$data})}});var U=function(t,e){return e.children().each(function(){console.log(t),$(this).width($(this).width())}),e};if($("#admin_new_wrapper table tbody").sortable({helper:U,stop:function(){$data={},$("#admin_new_wrapper table tbody tr").each(function(t,e){$data[$(e).data("id")]=t}),$.ajax({method:"PUT",url:"/products/new/setorder",data:$data})}}),$("#admin_new_wrapper table tbody .checkbox").checkbox({onChecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{new_carousel:1}})},onUnchecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{new_carousel:0}})}}),$("#admin_sale_wrapper table tbody").sortable({helper:U,stop:function(){$data={},$("#admin_sale_wrapper table tbody tr").each(function(t,e){$data[$(e).data("id")]=t}),$.ajax({method:"PUT",url:"/products/sale/setorder",data:$data})}}),$("#admin_sale_wrapper table tbody .checkbox").checkbox({onChecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{sale_carousel:1}})},onUnchecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{sale_carousel:0}})}}),"dashboard"==$("body").attr("id")&&(function(){$charts={},$("canvas").each(function(t,e){var a=e,i=a.getContext("2d"),o=g();a.height=$(a).parent().height(),$charts[$(e).closest(".box").data("resource")+$(e).closest(".box").data("type")]=new Chart(i,{type:"line",data:{labels:[],datasets:[{label:"Počet",backgroundColor:o,borderColor:o,data:[],fill:!1,lineTension:0}]},options:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{stepSize:1}}]}}})})}(),function(){$("canvas").each(function(t,e){var a=$(e).closest(".box").data("days"),i=$(e).closest(".box").data("resource"),o=$(e).closest(".box").data("type"),n=$(e).closest(".box").data("resource")+$(e).closest(".box").data("type");$.get("/api/"+i+"/"+o+"/"+a,{},function(t){var e=f(a).reverse(),i=v(t,a).reverse();m(n,e,i)})})}()),$(".chart_days_btn").click(function(){var t=($(this).closest(".box"),$(this).data("days")),e=$(this).closest(".box").data("resource"),a=$(this).closest(".box").data("type"),i=e+a;$.get("/api/"+e+"/"+a+"/"+t,{},function(e){var a=f(t).reverse(),o=v(e,t).reverse();m(i,a,o)}),$(this).closest(".fr").find(".chart_days_btn").removeClass("selected"),$(this).addClass("selected")}),$(".layout_div").click(function(){$layout=$(this).data("layout"),$.post("/admin/layout/set",{layout:$layout},function(){location.reload()})}),$(".ui.new.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(t,e){$.ajax({method:"PUT",url:"/api/product/"+t.id,data:{new:1},success:function(e){$row=$("#new_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(t.id),$row.find("td:nth-child(2)").text(t.name),$row.data("id",t.id),$("#new_product_table tbody tr:last-child").before($row),$(".ui.new.product.search input").val("")}})}}).unbind("ajaxStart"),$("#new_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{new:0},success:function(t){$row.remove()}})}),$(".ui.sale.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(t,e){$.ajax({method:"PUT",url:"/api/product/"+t.id,data:{sale:1},success:function(e){$row=$("#sale_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(t.id),$row.find("td:nth-child(2)").text(t.name),$row.data("id",t.id),$("#sale_product_table tbody tr:last-child").before($row),$(".ui.sale.product.search input").val("")}})}}),$("#sale_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{sale:0},success:function(t){$row.remove()}})}),$(".ui.inactive.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(t,e){$.ajax({method:"PUT",url:"/api/product/"+t.id,data:{active:0},success:function(e){$row=$("#inactive_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(t.id),$row.find("td:nth-child(2)").text(t.name),$row.data("id",t.id),$("#inactive_product_table tbody tr:last-child").before($row)}})}}),$("#inactive_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{active:1},success:function(t){$row.remove()}})}),$(".ui.bestseller.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(t,e){$.ajax({method:"PUT",url:"/api/product/"+t.id,data:{bestseller:1},success:function(e){$row=$("#bestseller_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(t.id),$row.find("td:nth-child(2)").text(t.name),$row.data("id",t.id),$("#bestseller_product_table tbody tr:last-child").before($row),$(".ui.bestseller.product.search input").val("")}})}}).unbind("ajaxStart"),$("#bestseller_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{bestseller:0},success:function(t){$row.remove()}})}),$(".ui.bestseller.category.search").search({apiSettings:{url:"/api/categories/search?query={query}"},fields:{results:"results",title:"full_url",image:"",action:"",actionText:"",actionURL:"",url:""},onSelect:function(t,e){$.ajax({method:"PUT",url:"/api/category/"+t.id,data:{bestseller:1},success:function(e){$row=$("#bestseller_category_table tbody tr:first-child").clone(),$row.find("td:first-child").text(t.id),$row.find("td:nth-child(2)").text(t.name),$row.data("id",t.id),$("#bestseller_category_table tbody tr:last-child").before($row),$(".ui.bestseller.category.search input").val("")}})}}).unbind("ajaxStart"),$("#bestseller_category_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/category/"+$id,data:{bestseller:0},success:function(t){$row.remove()}})}),$(".ui.cart.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(t,e){$cartid=$(".cart.content").data("cartid"),$.ajax({method:"POST",url:"/cart/"+$cartid+"/"+t.id,data:{qty:1},success:function(t){location.reload()}})}}),$("#import_json_btn").click(function(){$json=$.parseJSON($("#import_json").find("textarea").val()),$table=$("#import_json_table"),$tbody=$table.find("tbody"),$table.show(),$($json).each(function(t,e){$tbody.find("tr:last-child td:nth-child(2)").html('<img src="'+e.img+'" width="100" />'),$tbody.find("tr:last-child td:nth-child(3)").text(e.id),$tbody.find("tr:last-child td:nth-child(4)").text(e.nome),$tbody.find("tr:last-child td:nth-child(5)").text(e.descr),$tbody.find("tr:last-child").clone().appendTo($tbody)}),$(".ui.checkbox").checkbox()}),$("#import_json_accept").click(function(){var t=$("#import_json_table").tableToJSON();console.log(t),$.post("/admin/import/json",{json:$("#import_json").find("textarea").val()},function(t){console.log(t)})}),$(".add_color_btn").click(function(){$("#add_color_modal").modal("setting",{onApprove:function(){$key=$("#add_color_key_input").val(),$value=$("#add_color_value_input").val(),$.ajax({type:"POST",url:"/admin/color/",data:{key:$key,value:$value},success:function(){location.reload()}})}}).modal("show")}),function(){var t=document.getElementsByClassName("cart_length_slider");$min=[],$old=[];for(var e=0;e<t.length;e++)$ii=e,$qty=$(t[e]).data("qty"),$step=$(t[e]).data("step"),$thresholds=$(t[e]).data("thresholds"),$prices=JSON.parse($(t[e]).data("prices")),$min[e]=$(t[e]).data("min"),noUiSlider.create(t[e],{start:$qty,step:$step,connect:"lower",orientation:"horizontal",tooltips:!0,range:{min:0,max:500},format:wNumb({decimals:0})}),t[e].noUiSlider.on("slide",function(t,e){$level=y($thresholds,t[e]),$index=$thresholds.indexOf($level),$newprice=$prices[$index],$($(this)[0].target).closest(".item.product").find(".final_price").html($newprice+" &euro;")}),$cartid=$(".cart.content").data("cartid"),$old[e]=t[e].noUiSlider.get(),t[e].noUiSlider.on("change",function(e,a){e[a]<$($(this)[0].target).data("min")?t[$ii].noUiSlider.set($old[$ii]):($("#grid_wrapper .dimmer").addClass("active"),$.ajax({type:"PUT",url:"/cart/"+$cartid+"/"+$($(this)[0].target).data("productid"),data:{qty:e[a]},success:function(){location.reload()}}))})}(),$("#add_price_level_btn").click(function(){$.get("/api/view/pricelevel",{},function(t){$("#product_price_levels_list").append(t)})}),$(".admin_checkbox_onthefly").checkbox({onChecked:function(){$resource=$(this).parent().data("resource"),$name=$(this).attr("name"),$id=$(this).parent().data("id"),$data={},$data[$name]=1,$.ajax({method:"PUT",url:"/"+$resource+"/"+$id,data:$data})},onUnchecked:function(){$resource=$(this).parent().data("resource"),$name=$(this).attr("name"),$id=$(this).parent().data("id"),$data={},$data[$name]=0,$.ajax({method:"PUT",url:"/"+$resource+"/"+$id,data:$data})}}),"body_bulk"==$("body").attr("id")){var P=function(t,e,a,i,o,n,r){return $(e).html('<a class="blue icon mini button" href="/p/'+n+'"><i class="search icon"><i></a>'),$(e).append('<a class="teal icon mini button" href="/admin/eshop/product/'+n+'"><i class="edit icon"><i></a>'),e},F=function(t,e,a,i,o,n,r){var a=[];return $(n).each(function(t,e){a[t]=e.path+"<br/>"}),$(e).html(a),e},z=function(t,e,a,i,o,n,r){return $(function(){$(".lazy").Lazy()}),n&&(n.path&&-1!==n.path.toString().indexOf("http")?$(e).html('<div class="image"><img class="lazy" data-src="'+n.path+'" /></div>'):$(e).html('<div class="image"><img class="lazy" data-src="/'+n.path+'" /></div>')),e};container=document.getElementById("bulk_products_table");var D=[],I=[],O=[],q=[];$data={},$data.changes=[],$data.categoryChanges={},$data.categoryChanges.categories=[],$data.categoryChanges.products=[],$data.categoryAdds={},$data.categoryAdds.categories=[],$data.categoryAdds.products=[],$data.categoryRemoved={},$data.categoryRemoved.categories=[],$data.categoryRemoved.products=[],$data.addEcoImages={},$data.removeEcoImages={},hot=new Handsontable(container,{columns:[{data:"url",renderer:P},{data:"active",type:"checkbox",checkedTemplate:1,uncheckedTemplate:0},{data:"image",renderer:z},{data:"code"},{data:"name"},{data:"price_levels.0.moc_regular"},{data:"price_levels.0.moc_sale"},{data:"sale",type:"checkbox",checkedTemplate:1,uncheckedTemplate:0},{data:"categories",renderer:F}],colHeaders:["","Aktívny","Obrázok","Kód","Názov","Cena","Cena v zlave","Zlava","Kategórie"],colWidths:[5,7,7,10,"",10,10,5,""],rowHeaders:!0,minSpareRows:1,stretchH:"all",columnSorting:!0,rowHeights:60,outsideClickDeselects:!1,afterChange:function(t,e){"edit"!=e&&"CopyPaste.paste"!=e||(t[0][2]!=t[0][3]&&(D.push({rowid:t[0][0],colid:this.propToCol(t[0][1])}),$data.changes.push(this.getSourceDataAtRow(t[0][0]))),$.each(D,function(t,e){$this.getCell(e.rowid,e.colid,!1).className="changed"}),console.log($data.changes))},afterRender:function(){$this=this,$.each(D,function(t,e){$this.getCell(e.rowid,e.colid,!1).className="changed"})},afterSelection:function(t,e,a,i,o,n){O=[],I=[],$ins=this,$("#bulk_products_wrapper .actions >.right").show();var r;$(this.getSelected()).each(function(t,e){for(r=e[0];r<=e[2];r++)I.push($ins.getSourceDataAtRow(r)),O.push($ins.getSourceDataAtRow(r).id)});var d;for(d=t;d<=a;d++)I.push(this.getSourceDataAtRow(d)),O.push(this.getSourceDataAtRow(d).id)},afterDeselect:function(){$("#bulk_products_wrapper .actions .right").hide(),I=[],O=[]}});var N=document.getElementById("bulk_load_btn");Handsontable.dom.addEvent(N,"click",function(){$(N).addClass("loading"),$filters={categories:$(".filter_item.category").dropdown("get value"),name:$(".filter_item.name").find("input").val(),without_category:$(".filter_item.without_category").checkbox("is checked"),inactive_only:$(".filter_item.inactive").checkbox("is checked")},$.ajax({url:"/api/products/filter",method:"GET",data:$filters,success:function(t){$("#bulk_products_table").show(),$("#bulk_save_btn").css("display","inline-block"),$(N).removeClass("loading"),hot.getInstance().loadData(t),hot.getInstance().render()}})}),$("#bulk_change_category_dropdown").dropdown({maxSelections:10,fullTextSearch:!0,onAdd:function(t,e,a){q.push(t)}}),$("#bulk_change_category_btn").click(function(){$("#bulk_change_category_modal").modal("setting",{autofocus:!1,onShow:function(){$.ajax({method:"GET",url:"/api/products/simplelist",data:{id:O},success:function(t){$("#bulk_change_category_modal").find(".product_list").html(t)}})},onApprove:function(){$data.categoryChanges.products=O,$data.categoryChanges.categories.push($("#bulk_change_category_dropdown").dropdown("get value"))}}).modal("show")}),$("#bulk_add_category_btn").click(function(){$("#bulk_add_category_modal").modal("setting",{autofocus:!1,onShow:function(){$.ajax({method:"GET",url:"/api/products/simplelist",data:{id:O},success:function(t){$("#bulk_add_category_modal").find(".product_list").html(t)}})},onApprove:function(){$data.categoryAdds.products=O,$data.categoryAdds.categories.push($("#bulk_add_category_dropdown").dropdown("get value"))}}).modal("show")}),$("#bulk_add_eco_images_btn").click(function(){$data.addEcoImages=O}),$("#bulk_remove_eco_images_btn").click(function(){$data.removeEcoImages=O});var B=document.getElementById("bulk_save_btn");Handsontable.dom.addEvent(B,"click",function(){$(B).addClass("loading"),console.log(JSON.stringify($data)),$.ajax({url:"/api/bulk",method:"POST",data:JSON.stringify($data),success:function(t){$(B).removeClass("loading"),$("#bulk_products_table").find("td").removeClass("changed")}})})}$("#bulk_filter_category").dropdown({maxSelections:10,fullTextSearch:!0,onAdd:function(t,e,a){}}),$("#cookies_consent_btn").click(function(){$(document).unbind("ajaxStart"),$("#cookies_msg").hide(),$.ajax({method:"POST",url:"/cookies",data:{name:"cookies_consent",value:1,expiry:9999999},success:function(){$(document).bind("ajaxStart")}})}),$("#product_sticker_load_btn").click(function(){$filters={categories:$(".filter_item.category").dropdown("get value"),name:$(".filter_item.name input").val()},$("#filters_stickers_active_checkbox").checkbox("is checked")&&($filters.with_stickers_only=1),$button=$(this),$button.addClass("loading"),$.ajax({url:"/api/products/filter",method:"GET",data:$filters,success:function(t){$(".product_list .list").html(""),$(t).each(function(t,e){$stickers=[],0!=e.stickers.length&&$(e.stickers).each(function(t,e){-1!==e.path.toString().indexOf("http")?$stickers.push("<img src="+e.path+" data-productid="+e.pivot.product_id+" data-stickerid="+e.pivot.sticker_id+">"):$stickers.push("<img src=/"+e.path+" data-productid="+e.pivot.product_id+" data-stickerid="+e.pivot.sticker_id+">")}),$html="<div class='item' data-id='"+e.id+"'>",$html+="<div class='ui checkbox'><input type='checkbox'><label></label></div>",$html+="<div class='name'>"+e.name+"</div>",$html+="<div class='active_stickers'>"+$stickers.toString()+"</div>",$html+="</div>",$(".product_list .list").append($html),$(".product_list .list .checkbox").checkbox({onChecked:function(){$item=$(this).closest(".item"),$item.addClass("selected")},onUnchecked:function(){$item=$(this).closest(".item"),$item.removeClass("selected")}})}),$button.removeClass("loading"),$("#product_sticker_save_btn").css("display","inline-block"),$(".active_stickers img").click(function(){$image=$(this),$productid=$(this).data("productid"),$stickerid=$(this).data("stickerid"),$.ajax({url:"/product/"+$productid+"/sticker/"+$stickerid,method:"DELETE",success:function(t){$image.remove()}})})}})}),$(".sticker_list .sticker").click(function(){$(this).toggleClass("selected")}),$("#product_sticker_save_btn").click(function(){$data={},$data.products=[],$data.stickers=[],$data.sticker_paths=[],$(".sticker_list .sticker.selected").each(function(t,e){$data.stickers[t]=$(e).data("id"),$data.sticker_paths[t]=$(e).find("img").attr("src")}),$(".product_list .list .item.selected").each(function(t,e){$data.products[t]=$(e).data("id")}),$.ajax({url:"/stickers/attach",method:"POST",data:$data,success:function(t){$(".product_list .list .item.selected").each(function(t,e){$(e).find(".active_stickers").append("<img src="+$data.sticker_paths+">")})}})}),$("body").attr("id"),$(".filterbar_handle").mouseover(function(){$(".absolute").show()}),$(".absolute #filterbar").mouseleave(function(){setTimeout(function(){$(".absolute").hide()},600)}),$(".admin_delete_category_param_btn").click(function(){$.ajax({method:"DELETE",url:"/category/parameter/"+$(this).data("paramid"),success:function(){location.reload()}})}),$(".category i.setting").click(function(t){t.preventDefault(),location.replace($(this).data("href"))}),$("#change_grid_view_btn").click(function(){$("#grid_wrapper").find(".item").addClass("grid").removeClass("list"),$(this).addClass("active"),$("#change_list_view_btn").removeClass("active")}),$("#change_list_view_btn").click(function(){$("#grid_wrapper").find(".item").addClass("list").removeClass("grid"),$(this).addClass("active"),$("#change_grid_view_btn").removeClass("active")}),$("#cart_continue_btn").click(function(){$price=$("#cart_total_price price").text(),$.ajax({type:"POST",url:"/cart/",data:{price:$price},success:function(){}})}).unbind("ajaxStart"),$().prettyEmbed({useFitVids:!0}),$(document).on("click",".pretty-embed",function(){lity("//www.youtube.com/watch?v="+$(this).data("pe-videoid"))}),$("#add_param_btn").click(function(){$("#add_param_modal").modal("setting",{autofocus:!1,onApprove:function(){$key=$('#add_param_modal input[name="key"]').val(),$display_key=$('#add_param_modal input[name="display_key"]').val(),$.ajax({type:"POST",url:"/param/",data:{key:$key,display_key:$display_key},success:function(){location.reload()}})}}).modal("show")}),$(".edit_param_btn").click(function(){$id=$(this).closest(".param.item").data("paramid"),$val=$(this).closest(".param.item").data("val"),$("#edit_param_modal").modal("setting",{autofocus:!1,onShow:function(){$('#edit_param_modal input[name="display_key"]').val($val)},onApprove:function(){$display_key=$('#edit_param_modal input[name="display_key"]').val(),$.ajax({type:"PUT",url:"/param/"+$id,data:{display_key:$display_key},success:function(){location.reload()}})}}).modal("show")}),$(".delete_param_btn").click(function(){$id=$(this).closest(".param.item").data("paramid"),$("#delete_param_modal").modal("setting",{autofocus:!1,onApprove:function(){$.ajax({type:"DELETE",url:"/param/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(document).on("click","#params_list .param.item:not(.manage)",function(t){(t.target==this||$(t.target).hasClass("name")||$(t.target).hasClass("eye"))&&($paramid=$(this).data("paramid"),$catid=$(this).data("categoryid"),$this=$(this),$this.find(".dimmer").addClass("active"),$this.hasClass("active")?$.ajax({type:"DELETE",url:"/category/parameter/"+$paramid,data:{category_id:$catid},success:function(){$this.removeClass("active"),$this.find(".dimmer").removeClass("active")}}):$.ajax({type:"POST",url:"/category/parameter/add",data:{parameter_id:$paramid,category_id:$catid},success:function(){$this.addClass("active"),$this.find(".dimmer").removeClass("active")}}))}),$("#admin_category_params_selection").length>0&&$(".dropdown").dropdown({onAdd:function(t,e,a){$catid=$("#category_image_div").data("categoryid"),$.ajax({type:"POST",url:"/category/parameter/add",data:{parameter_id:t,category_id:$catid},success:function(){}})},onRemove:function(t,e,a){$catid=$("#category_image_div").data("categoryid"),$.ajax({type:"DELETE",url:"/category/parameter/"+t,data:{category_id:$catid},success:function(){}})}}),$("#admin_order_params_save").click(function(){$data={},$data.min_order_price=$('input[name="min_order_price"]').val(),$data.min_free_shipping_price=$('input[name="min_free_shipping_price"]').val(),$.post("/set/config",$data,function(){})}),$(document).on("click",".delete_product_param",function(){$(this).closest(".row").remove()}),$("#send_remider_btn").click(function(){$(this).addClass("loading")}),$(document).on("click",".delete_price_level_btn",function(){$(this).closest(".product_price_level").remove()}),$(".delete_order_btn").click(function(){$orderid=$(this).closest("tr").data("order_id"),$("#delete_order_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/order/"+$orderid,success:function(){location.reload()}})}}).modal("show")}),$(".close_order_btn").click(function(){$orderid=$(this).closest("tr").data("order_id"),$("#change_order_modal").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:5},success:function(){location.reload()}})}}).modal("show")}),$(".delete_user_btn").click(function(){$userid=$(this).closest("tr").data("user_id"),$("#delete_user_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/user/"+$userid,success:function(){location.reload()}})}}).modal("show")}),$(".order_change_status_btn").click(function(){$orderid=$(".order_detail").data("orderid"),$status_id=$(this).data("statusid"),0==$status_id&&$("#change_order_modal").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:$status_id},success:function(){location.reload()}})}}).modal("show"),1==$status_id&&$("#change_order_modal_sent").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:$status_id,package_number:$('input[name="package_number"]').val()},success:function(){location.reload()}})}}).modal("show"),4==$status_id&&$("#change_order_modal_cancelled").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:$status_id,cancel_text:$('input[name="cancel_text"]').val()},success:function(){location.reload()}})}}).modal("show")}),$("#main_search input").keyup(function(t){13==t.which?location.replace("/search/"+$query):($(document).unbind("ajaxStart"),$query=$(this).val(),$(".search_view_all_btn").attr("href","/search/"+$query),$.ajax({type:"GET",url:"/api/search/"+$query,success:function(t){$("#search_results.desktop").show(),$("#search_results.desktop").find(".products").html(t.products),$("#search_results.desktop").find(".users").html(t.users),$(document).bind("ajaxStart")}}))}),$("body").mouseup(function(t){var e=$("#search_results.desktop");e.is(t.target)||0!==e.has(t.target).length||e.hide()});var R,L;"body_contact"==$("body").attr("id")&&(function(){R=new google.maps.Geocoder;var t=new google.maps.LatLng(-34.397,150.644),e={zoom:18,center:t};L=new google.maps.Map(document.getElementById("map"),e)}(),function(){var t=$("#address_map").text();R.geocode({address:t},function(t,e){"OK"==e?(L.setCenter(t[0].geometry.location),new google.maps.Marker({map:L,position:t[0].geometry.location})):alert("Geocode was not successful for the following reason: "+e)})}()),tinymce.init({selector:".richtext.editable",auto_focus:"mce_0",menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor textcolor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code help wordcount"],toolbar:"fontselect | code | insert | undo redo |  formatselect | bold italic backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",init_instance_callback:function(t){$(".text_files_list .item").click(function(){$path=$(this).data("content"),$extension=$path.split(".").pop(),$filename=$path.split("/").pop(),"jpg"==$extension?$content="<img src='/"+$path+"' width='100'>":$content="<a href='"+$path+"'>"+$filename+"</a>",t.insertContent($content)})}}),$(".text_save_btn").click(function(){$(".text_form").submit()}),$(".page_texts_list .item").click(function(){$button=$(this),$pageid=$(this).data("pageid"),$textid=$(this).data("textid"),$button.hasClass("active")?$.ajax({type:"POST",url:"/page/"+$pageid+"/detach/"+$textid,success:function(t){$button.removeClass("active"),$('.text_form[data-textid="'+$textid+'"]').remove()}}):$.ajax({type:"POST",url:"/page/"+$pageid+"/attach/"+$textid,success:function(t){$button.addClass("active"),$.ajax({method:"GET",url:"/text/"+$textid,success:function(t){$(".page_preview").append(t)}})}})}),$(".copy_to_clipboard_btn").click(function(){$(this).closest(".input").find("input").select(),document.execCommand("copy"),$(this).closest(".button").toggleClass("teal green"),$(this).toggleClass("copy checkmark")}),b(parseInt($("#suggested_wrapper_speed").find("value").html())),$("#grid_wrapper").on("click",".product.item",function(t){$link=$(this).find(".p_anch").attr("href"),0==$(t.target).hasClass("to_cart")&&0==$(t.target).hasClass("icon")&&(window.location.href=$link)});var H=$.ModuloBox({mediaSelector:".mobx",history:!0,controls:["zoom","play","fullScreen","download","share","close"],loop:1});H.init(),$("#product_main_wrapper .main").click(function(t){t.preventDefault(),$gallery=$("#product_main_wrapper").data("gallery"),$index=$("#product_main_wrapper").data("index"),H.open($gallery,$index),H.play()}),$(".active_flag").click(function(){$item=$(this).closest(".item"),$icon=$(this).find("i"),$type=$(this).closest(".item").data("type"),$id=$(this).closest(".item").data("id"),$state=$(this).closest(".item").data("active"),1==$state?$.ajax({type:"PUT",url:"/"+$type+"/set/"+$id,data:{active:0},success:function(t){$icon.toggleClass("red green"),$item.data("active",0)}}):$.ajax({type:"PUT",url:"/"+$type+"/set/"+$id,data:{active:1},success:function(t){$icon.toggleClass("red green"),$item.data("active",1)}})}),$("#filterbar.horizontal .item").each(function(){var t=$(this);t.popup({popup:"#cat_popup_"+t.data("cat"),on:"hover",hoverable:!0,exclusive:!0,position:"bottom left",duration:0,lastResort:"bottom left"})}),$("#suggested_wrapper_speed i").click(function(){$div=$(this).closest("#suggested_wrapper_speed"),$this=$(this),$speed=parseInt($div.find("value").html()),$this.hasClass("plus")?($newSpeed=$speed+100,b($newSpeed),$div.find("value").html($newSpeed)):($newSpeed=$speed-100,b($newSpeed),$div.find("value").html($newSpeed)),$.ajax({type:"PUT",url:"/admin/setting/",data:{suggested_wrapper_speed:$newSpeed}})}),$(".admin_page_settings").checkbox({onChecked:function(){$item=$(this).data("item"),$target=$(this).data("target"),$view=$(this).data("view"),$changes={},$changes[$item]=1,w($changes,$view,!0,$target)},onUnchecked:function(){$item=$(this).data("item"),$target=$(this).data("target"),$view=$(this).data("view"),$changes={},$changes[$item]=0,w($changes,$view,!0,$target)}}),$("#cover_product_url").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"url",image:"",action:"",actionText:"",actionURL:"",url:""},onSelect:function(t,e){$("#admin_add_cover_form").find('input[name="url"]').val(t.full_url)}}).unbind("ajaxStart"),$("#cover_category_url").search({apiSettings:{url:"/api/categories/search?query={query}"},fields:{results:"results",title:"full_url",image:"",action:"",actionText:"",actionURL:"",url:""},onSelect:function(t,e){$("#admin_add_cover_form").find('input[name="url"]').val(t.full_url)}}).unbind("ajaxStart"),$("#cover_other_url input").change(function(){$("#admin_add_cover_form").find('input[name="url"]').val($(this).val())}),$(".catalogue_path_btn").click(function(){$("#catalogue_url_input").css("display","flex"),$(".catalogue_ok_btn").css("display","inline-block"),$(".catalogue_upload_btn").hide(),$(".catalogue_path_btn").hide()}),$(".sticker_path_btn").click(function(){$("#sticker_url_input").css("display","flex"),$(".sticker_ok_btn").css("display","inline-block"),$(".sticker_upload_btn").hide(),$(".sticker_path_btn").hide()}),$(".catalogue_ok_btn").click(function(){$path=$("#catalogue_url_input input").val(),$.ajax({type:"POST",url:"/file",data:{type:"catalogue",path:$path,do_not_upload:!0},success:function(t){location.reload()}})}),$(".sticker_ok_btn").click(function(){$path=$("#sticker_url_input input").val(),$.ajax({type:"POST",url:"/sticker",data:{path:$path,do_not_upload:!0},success:function(t){location.reload()}})}),$("#xml_update_check_btn").click(function(){$url=$("#xml_url_input").val(),$external=$("#xml_url_input").data("external"),$(this).addClass("loading"),$.ajax({type:"PUT",url:"/admin/eshop/postXmlUpdate/",data:{external:$external,url:$url},success:function(t){$("#xml_results").show(),$("#xml_results").find(".new_categories_count value").text(t.changes.new_categories.length),$("#xml_results").find(".new_products_count value").text(t.changes.new_products.length),$("#xml_results").find(".removed_categories_count value").text(t.changes.removed_categories.length),$("#xml_results").find(".removed_products_count value").text(t.changes.removed_products),$("#xml_results").find(".new_categories_list .list").html(t.newCategories),$("#xml_results").find(".new_products_list .list").html(t.newProducts),$("#xml_results").find(".removed_categories_list .list").html(t.removedCategories),$("#xml_results").find(".removed_products_list .list").html(t.removedProducts),$("#xml_update_check_btn").removeClass("loading"),$("#xml_update_confirm_btn").css("display","inline-block")}})}),$("#edit_product_categories_input").dropdown({maxSelections:10,fullTextSearch:!0,onAdd:function(t,e,a){console.log(t)}}),$("#add_banner_radioboxes").find(".checkbox:eq(0)").checkbox({onChecked:function(){$("#cover_category_url").show(),$("#cover_product_url").hide(),
$("#cover_other_url").hide()}}),$("#add_banner_radioboxes").find(".checkbox:eq(1)").checkbox({onChecked:function(){$("#cover_category_url").hide(),$("#cover_product_url").show(),$("#cover_other_url").hide()}}),$("#add_banner_radioboxes").find(".checkbox:eq(2)").checkbox({onChecked:function(){$("#cover_category_url").hide(),$("#cover_product_url").hide(),$("#cover_other_url").show()}}),$(".scroll_to_top").click(function(){$("html, body").animate({scrollTop:0},"fast")}),$("#home_sales_div").on("click",".right.icon",function(){$sales_carousel.flickity("next")}).on("click",".left.icon",function(){$sales_carousel.flickity("previous")}),$("#home_news_div").on("click",".right.icon",function(){$news_carousel.flickity("next")}).on("click",".left.icon",function(){$news_carousel.flickity("previous")}),$("#cartproducts").on("click","i.qty",function(){$productid=$(this).closest(".product").data("productid"),$cartid=$(".cart.content").data("cartid"),$qty=$(this).closest(".actions").find(".cart_qty_input").val(),$(this).hasClass("plus")?$newqty=parseFloat($qty)+1:$newqty=parseFloat($qty)-1,$.ajax({type:"PUT",url:"/cart/"+$cartid+"/"+$productid,data:{qty:$newqty},success:function(){location.reload()}})}),$("#cartproducts").on("blur",".cart_qty_input",function(){$productid=$(this).closest(".product").data("productid"),$cartid=$(".cart.content").data("cartid"),$qty=$(this).val(),$.ajax({type:"PUT",url:"/cart/"+$cartid+"/"+$productid,data:{qty:$qty},success:function(){location.reload()}})}),$("#product_detail_translate_btn").click(function(){$productid=$("#product_main_wrapper").data("id"),$.ajax({type:"PUT",url:"/product/"+$productid+"/translate",success:function(){location.reload()}})}),$(".pages_list .checkbox").checkbox({onChecked:function(){$pageid=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/page/"+$pageid,data:{footer:1},success:function(){location.reload()}})},onUnchecked:function(){$pageid=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/page/"+$pageid,data:{footer:0},success:function(){location.reload()}})}}),$("#product_main_wrapper .sizes .size.active").click(function(){$code=$(this).data("code"),$("#product_main_wrapper #code scode").text($code),$("#product_main_wrapper .sizes .size").removeClass("selected"),$(this).addClass("selected")}),$("#seo_wrapper .checkbox").checkbox({onChecked:function(){$id=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/seo/tool/"+$id,data:{active:1},success:function(){location.reload()}})},onUnchecked:function(){$id=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/seo/tool/"+$id,data:{active:0},success:function(){location.reload()}})}}),$("#new_xml_field_btn").click(function(){$html=$("#seo_tool_profile_wrapper").find(".xml_field").html(),$("#seo_tool_profile_wrapper .field_list").append($html)}),$("#product_update_btn").click(function(){$id=$(this).data("id"),$(this).addClass("loading disabled"),$.ajax({type:"POST",url:"/api/product/"+$id+"/xmlupdate",success:function(t){location.reload(),console.log(t)}})})}),$(document).scroll(function(){$(this).scrollTop()>800?$(".scroll_to_top").fadeIn():$(".scroll_to_top").fadeOut()});var sticky,div;$(document).on("scroll",function(){$(document).scrollTop()>100?$("#header.shrinkable").addClass("shrink"):$("#header.shrinkable").removeClass("shrink")}),$(window).on("load",function(){function t(){div=$(".sticky_div"),window.pageYOffset>=sticky?(div.addClass("stickyy"),$("#product_content #filterbar").css("position","fixed")):(div.removeClass("stickyy"),$("#product_content #filterbar").css("position","absolute"))}$(".sticky_div").length&&(sticky=$(".sticky_div").offset().top-20,window.onscroll=function(){t()})});