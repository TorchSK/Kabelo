var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";e.fn.tableToJSON=function(t){var a={ignoreColumns:[],onlyColumns:null,ignoreHiddenRows:!0,ignoreEmptyRows:!1,headings:null,allowHTML:!1,includeRowId:!1,textDataOverride:"data-override",extractor:null,textExtractor:null};t=e.extend(a,t);var i=function(e){return void 0!==e&&null!==e},o=function(e){return void 0!==e&&e.length>0},n=function(a){return i(t.onlyColumns)?-1===e.inArray(a,t.onlyColumns):-1!==e.inArray(a,t.ignoreColumns)},r=function(t,a){var n={},r=0;return e.each(a,function(e,a){r<t.length&&i(a)&&(o(t[r])&&(n[t[r]]=a),r++)}),n},d=function(a,i,o){var n,r=e(i),d=t.extractor||t.textExtractor,c=r.attr(t.textDataOverride);return null===d||o?e.trim(c||(t.allowHTML?r.html():i.textContent||r.text())||""):e.isFunction(d)?(n=c||d(a,r),"string"==typeof n?e.trim(n):n):"object"==(void 0===d?"undefined":_typeof(d))&&e.isFunction(d[a])?(n=c||d[a](a,r),"string"==typeof n?e.trim(n):n):e.trim(c||(t.allowHTML?r.html():i.textContent||r.text())||"")},c=function(a,i){var o=[],n=t.includeRowId,r="boolean"==typeof n?n:"string"==typeof n,c="string"==typeof n==1?n:"rowId";return r&&void 0===e(a).attr("id")&&o.push(c),e(a).children("td,th").each(function(e,t){o.push(d(e,t,i))}),o};return function(a,o){var c,s,l,u,p,h,$,f=[],m=0,g=[];return a.children("tbody,*").children("tr").each(function(a,o){if(a>0||i(t.headings)){var n=t.includeRowId,r="boolean"==typeof n?n:"string"==typeof n;h=e(o);var g=h.find("td").length===h.find("td:empty").length;!h.is(":visible")&&t.ignoreHiddenRows||g&&t.ignoreEmptyRows||h.data("ignore")&&"false"!==h.data("ignore")||(m=0,f[a]||(f[a]=[]),r&&(m+=1,void 0!==h.attr("id")?f[a].push(h.attr("id")):f[a].push("")),h.children().each(function(){for($=e(this);f[a][m];)m++;if($.filter("[rowspan]").length)for(l=parseInt($.attr("rowspan"),10)-1,p=d(m,$),c=1;c<=l;c++)f[a+c]||(f[a+c]=[]),f[a+c][m]=p;if($.filter("[colspan]").length)for(l=parseInt($.attr("colspan"),10)-1,p=d(m,$),c=1;c<=l;c++)if($.filter("[rowspan]").length)for(u=parseInt($.attr("rowspan"),10),s=0;s<u;s++)f[a+s][m+c]=p;else f[a][m+c]=p;p=f[a][m]||d(m,$),i(p)&&(f[a][m]=p),m++}))}}),e.each(f,function(a,d){if(i(d)){var c=i(t.onlyColumns)||t.ignoreColumns.length?e.grep(d,function(e,t){return!n(t)}):d,s=i(t.headings)?o:e.grep(o,function(e,t){return!n(t)});p=r(s,c),g[g.length]=p}}),g}(this,function(e){var a=e.find("tr:first").first();return i(t.headings)?t.headings:c(a,!0)}(this))}}(jQuery),function(e){e.fn.loupe=function(t){var a=e.extend({loupe:"loupe",width:200,height:150},t||{});return this.length?this.each(function(){var i,o,n,r,d=e(this),c=d.is("img")?d:d.find("img:first"),s=function(){o.hide()};if(null!=d.data("loupe"))return d.data("loupe",t);n=function(e){var t=c.offset(),n=c.outerWidth(),l=c.outerHeight(),u=a.width/2,p=a.height/2;if(!d.data("loupe")||e.pageX>n+t.left+10||e.pageX<t.left-10||e.pageY>l+t.top+10||e.pageY<t.top-10)return s();r=r?clearTimeout(r):0,o.show().css({left:e.pageX-u,top:e.pageY-p}),i.css({left:0|-((e.pageX-t.left)/n*i.width()-u),top:0|-((e.pageY-t.top)/l*i.height()-p)})},o=e("<div />").addClass(a.loupe).css({width:a.width,height:a.height,position:"absolute",overflow:"hidden"}).append(i=e("<img />").attr("src",d.attr(d.is("img")?"src":"href")).css("position","absolute")).mousemove(n).hide().appendTo("body"),d.data("loupe",!0).mouseenter(n).mouseout(function(){r=setTimeout(s,10)})}):this}}(jQuery),function(e,t){e.fn.prettyEmbed=function(a){function i(i){var o=i.find("img").outerWidth(!0),n=i.find("img").outerHeight(!0),r="",d="";i.attr("data-pe-videoid")!==t?d=i.attr("data-pe-videoid"):a.videoID!==t?d=a.videoID:(d=t,console.error("PrettyEmbed.js Error:  Misformed or missing video ID.")),("false"===i.attr("data-pe-show-info")||!1===a.showInfo)&&(r+="&showinfo=0"),("false"===i.attr("data-pe-show-controls")||!1===a.showControls)&&(r+="&controls=0"),("true"===i.attr("data-pe-loop")||!0===a.loop)&&(r+="&loop=1"),("true"===i.attr("data-pe-closed-captions")||!0===a.closedCaptions)&&(r+="&cc_load_policy=1"),(i.attr("data-pe-localization")!==t||a.localization!==t)&&(i.attr("data-pe-localization")!==t?r+="&hl="+i.attr("data-pe-localization"):a.localization!==t&&(r+="&hl="+a.localization)),("light"==i.attr("data-pe-color-scheme")||"light"==a.colorScheme)&&(r+="&theme=light"),r+="false"===i.attr("data-pe-show-related")||!1===a.showRelated?"&rel=0":"&rel=1",fullScreenFlag="false"===i.attr("data-pe-allow-fullscreen")||!1===a.allowFullScreen?"":"allowfullscreen ",i.html('<iframe width="'+o+'" height="'+n+'" '+fullScreenFlag+'style="border:none;" src="//www.youtube.com/embed/'+d+"?autoplay=1"+r+'"></iframe>').addClass("play"),a.useFitVids&&e.isFunction(e.fn.fitVids)&&i.parent().fitVids()}function o(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,a=e.match(t);return a&&11==a[7].length?a[7]:void console.error("PrettyEmbed.js Error:  Bad URL.")}a=e.extend({},e.fn.prettyEmbed.options,a);var n=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);0===e("#pretty-embed-style").length&&e("<style />",{id:"pretty-embed-style",html:'.pretty-embed{position:relative;cursor:pointer;display:block}.pretty-embed img{width:100%;height:auto}.pretty-embed iframe{border:0 solid transparent}.pretty-embed:after{display:block;content:"";position:absolute;top:50%;margin-top:-19px;left:50%;margin-left:-27px;width:54px;height:38px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABMCAYAAACIylL7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAABmxJREFUeF7t3W9MVlUcB3BNs3Kt1h/XC9eL6kWCAg6E8h/YMLKFm4v+GNZCfYHQnDoNVzjLYbZG8SLCVqSrHGgWtnDWbK1CK/sHi5oF8n+9IMcqiIqA6PT9Xs6Nx+tPAkSec+9zfu7zgnvuOffhfr3Avc997pk0XjUrahZNgytgJsyCRFgC6XAfZEEObIZ8KIBCeB5eglehHN6Cd+Bd+AA+huPwBXwF30At/KDVQ9P/OAXu+t8Cx/gaOOYnUAXc1ntQCRWwH16Dl6EYnoWdsA22QC6shvthOdwGSRAN18OVcAlM1rtpYgsbZiCLYRO8CIeBO7AZfoG/4B9QloP7gvvkV2iBGuB/Qv4HyINUmK537/gVBo2BV6ATpBdmjd0fwJ8qt4Le42MsDHA17IW/QdqYNX54NB6CmXr3j67QMQHaQBrcunA6IFXHMLJChxT4TQ9gTbxeyNBxDF9Y8Wawv6vCj3+sLNCxyIUVLoLPdAcr/BrgUh3P2YVGnitJHa3w2aTjObPQMBl4Iil1ssLnR7hYxzRUWMirElIHK/xW6JiGCguLPCtZ5jigYxosLKDGkBUss3TBNB2XE9hNIY2WmZJ1XE5gD3saLfPk67icwEo8jZZ53tZxOYF95Gm0zHNKx+UExjf4pJUsc/wOUxnWVP2FtJJllhkM7BrPQstcsQyM9x9IjZZ5bmdgvElGajTK7DmzVXxCvNgWQR5kYPd6FhppXuI8dfr0abVjxw4VFxcnrhMBNjIw3nYmNRqFgQ0MDChWU1OT2rxls5oTM0dcN8B2MjDeHyg1GiU0MFZfX5+qrq5WuY/kqujZ0WKfANrNwHhzpNRoFG9gbnV1damqqiq1Zu0aFRUdJfYNkP0MjDc1So1GOVdgLB5t7e3t6uj7R1Xmqkyxf0AcYWAHPAuNNFxgbvFoa2trU5WHK1XGPRniOD53nIHxdmup0SgjCYzlHm0tLS3q4JsHVfrydHE8n6phYB96FhpppIG55R5tDG7fvn0qLS1NHNdn6hmYL25rG21gLPdoa21tdU4FSktLVcqSFHF8n2hjYL64U2osgbnlHm0MrqGhQRUXF6uFixaK2zFcOwPj56SkRqOcT2Cs0KON6urqVGFhoUq6JUncnqE6IiYwtzo7O/872ujkyZOqYGeBX65TRl5gLO/RRrW1tSp/W76Km2v0dcrIDMyt0N9tLl7u4nXKmNgY8XWEWWQHxpKONjpx4oTKyc0RX0sY2cDcCj3ampubB8/d7jDu3M0GFlq9vb2qoqLC5KsjNjC3+CNw5QMrxW0bxAZWU1OjslZnids0UOQGxvOv7HXZKirKV++hRV5gjY2NasPGDX59lzpyAuNfgHlb85y7r6TxfcIJLNAXf3mOtf2J7aaeCI+Wc/E3kG+vdHR0qF1P7zL9UtNotTKwQL2ByYu7RUVFQb3p1HkDMxC3CHR3d6uS3SUqMSlR7B8Qzi0CfCag1GiUcwXW09Oj9uzdo+YvmC/2C5hjDMyXt7nxMlJZWZlKTkkW1w8o5zY3PhFUajSKG1h/f79zvS91aaq4XsCVM7DHPQuNlDAvwbnfcNmdy8T2CFHCwHzxYQjLUcDAfPFxI8vhfNzIFx/osxyrGBj/SY2WeZyPzPJBzPbR5f4Qw8CmgH3sgz9c6z5YxT7JzXyDD1bRgfniAnCEq3fCYuELzisirWSZ45COywnsIU+jZZ7HdFxOYDd4Gi3zLNJxOYERp2uSVrTCjxM/nPlkbSzwxVX7CFWuYxoqLIz3rGSZI13HNFRYSJytTupghU8rDJ5/eQsNd4esaJlhvY7n7EIjp/PgXJBSR2vicb7OoefVS4UV+Az7n3UHK3z+hEQdy/CFFTkfIychlQayLrweuEvHMbJCBz5a9ns9gDVx2mGxjmF0hY6XwZPAuT+kwa3xMwCcbfa6wb1/HoVBroL1cAz6QNqgNTa8isGZfOeC3uPjWBj0cuDk29nwDLwBnHybE5N1g51CeAj3Bd/H+gn4F9+nwBnYOTM8D4CFMPxfgReysHHOoTkdZsCNEAvzYSlw6nd3evt1sAG2wnZ4Ctwp7jkD+x54HfgsR36DnGr+CHDqeU47wiP9c/gS+Pm20GnuvVPau9z274B9qoEXCrgTOZ47rT0/a8D5lLltTmtfCi/Ac8DXydf7KHCHr4VMWAFpsAD4PfN75z7gvpiid8841KRJ/wIcsey9MCgPGwAAAABJRU5ErkJggg==);-webkit-background-size:cover;background-size:cover}.pretty-embed.play:after{display:none}.pretty-embed:hover:after{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABMCAYAAACIylL7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAABwhJREFUeF7t3GlsVFUYBuCDIi4xGreA1O6dmXbaYQ2oCAriGjUuRDSiETVRISGCu2BcAH8gagKKpnWJ5UcBFVQIGhMDFGwVGcqU0m2WtkPpIqNSbEHaQj/fM5yh9HLAAlP6TTlv8iSdc+899/a8PenMnxHRSp3LIQ2ASyAO0mEUjIe7YTJMhWnwAsyBebAQFkM2fAl58A18Dz/Az7ABNsFm2AIeKIZypRIC/8MLkfO3g5zDDXLOXyAf5L1+hNWwEpZBLuTAh/AezIfX4UWYDk/AQ3APTIDR4IR4uBTOh35qmc5sdmU5BsC4XS7HLPgE1sAWqIK/4QB0ABlhci3kmuyBaiiCHyAHXsZaToSL1PJGL5jUBZ9BE5ARVfsgD64DteKnmNos++W1WY4v4CCQ0aM6YBXEqeU/uaCskRAETGacQSGYqGroXnZm2m+Cf4CMXtEKk1QdJw5OdECTutDoPQdgjKpFn2Cm/RwoBDJY8MEFqp5jE3TaJ1suMHrfLFVP19Q47f3ADWSwUgvnqZo6g8FRR51k8HKfqqkz1U77B0AGS8tVTYdTnWGT/EAGS3thgKpLiKoMWyqQwdqNqq5wYY9bDhr8zFF1CRHIsC0BMlj7VtWFwtJt64EM1ryqLiH86bYAkMFaC/SXZfVXL3QnGbxcJXyOtCuAjJgwRBbmtAwafN0qvI608UDc+ZwO8g8fqj12FnlUFvagZZAl/8hh1PZHI9W99Sb5XJnac84CM0WlPW0aEHe+EcOIDh0imWa/n2qen0VeZ7r23D5svixsjmWQpaMLk2lva6PQVjdVTXuWKtPt2mv6oI9FhT3tPSDuvJbCItm3dy/V5+dT4ImpVOGwaa/tQ5aJCltaDhB33uH6wmTkbvuroYHqfvqJ/A8/pL2+j1grym2py4G4q8Q7xOMVFkkLdtsfwSDtWv09+e6/VztPjNskC1tjGWSpO4XJRHZbY3U11X61grx33qGdL0YVibK01HVA3FV0s7BIIrtNFrdzaS5VTpygnTfGVMrCCi2DLFUMO7nCZI7stpoaagwEKJidTRVjb9DOHyOCojQt1Q3E3akUFsmR3SaL8/moZtEiKr92tPY+zDXIwjyWQZbKT6MwmS67DRoqKqh6wQIqGzFcez+mQmJHaqoHiLuyoadXWCQtTU2du00WV1pKVW+/TaUul/a+zMjCUlBYCl7wVjZ0SFQKk7HuNqne46HAq69SqTNDe38mQqIEhQFxF83CIunyvy1SnNtN/pkzaUe6Q/scvQyFpaCwFLxgrrQHCpPR7TaprrCQvE8/rX2WXhQS21EYEHelQ3qmsEi67LaqKgrm5lLZhAnaZ+lFsVPYjh4uTKa9tZV2ff01ld1+u/YZGAiJYhQGxF1PF9ZcUEC+SZO092YEhSWjsGS8YG6Hq2cK2+feSoEpU7T3ZCgkPCgMiLuSKBe2v6SEqp58ijz4y9XdjylZWDIKS8YL3krwwTYahf3r9VLN9OnkwQdR3X2YC4ltSckeIO62Z51eYQfw7i8463kUlaadP0aEC3NbBlk61cLa6utp5+zZ5LHZtfPGmAZRlJRcCMRd8UkW1rZ7N9XOnUvbHOna+WJUjSxsnWWQpe4W1r5nD9UteJc8zkztPDGuUmxNTF4DxJ0n88SFHWxupvpFi8njGqq9vo8okoUtswyydLzCDu3fT43ZOVQ8fKT2uj5mo3AnJuUAcbfNUlhHayvtzl1KxaOv1Z7fR60V7oSkhUDcbcvMChfW0d5OoRVf0fYxY7Xn9XF5YktC0mwg7orwJuLPb7+jkvE3a4+fJZbIwqZZBg2+5onf45MeBDJiwkxZ2HjLoMHXFLE5PikDyIgJt8rCLoeOowYNvlzit2sSz4UWIIO9K8NfrIIf/JYDBj9yU/UPF/brNYnrgAzWKsNlyfwal/ghkMHaKlWXEIVxiY8BGay9puoKF5ZsOWjwM1bVFS5MFMQleoEMlpqg6zdrFwxOXAhksJSnaurML4MTRgAZLN2tauoMBqXNR51k8FADhz9/WbNpcMIDm65OIIORwQkzVD3HBif0g/wuFxi9qRw6v69el41XJ6TCX0BGr9oPo1QtJw5OvA7+VhcaZ96/cJeqo3vJH5TghDIg44xqgHGqhpMLLrwwf1D8W7AXMJnRgw5BHtZ8oFr+U8+GQfGXwQzYCG1ARtQ0wRcwDNSKRzGY9GIYB89sGBi/AFbAFqiFZjgIZITJtWiBRiiHAlgJi0FugBvgxO8CezLrB8afAxfBVZACQ+B6uAXugckwFZ6F5+AVeAPegYWwGD6Bz2EpLIeVsBrWws+wHjbCb/A7eKAYypXAcUSOl4C8ZitshgKQ88m5f4Q1sArkvXPhU/gI3gf5nPJ5X4IZ8BQ8AvfBbTAG5O8sf3e5BnItzlXLE4UI8R86m8y4ltOs9gAAAABJRU5ErkJggg==)}'}).appendTo("head"),a.useFitVids&&(e.isFunction(e.fn.fitVids)||console.error("PrettyEmbed.js Error:  options.useFitVids is set to true; FitVids not found!"));var r;r=e(0===e(this).length?".pretty-embed":this),r.each(function(){e(this).addClass("pretty-embed");var i,r,d,c,s,l,u,p,h,$="",f="",m="";if($=e(this).attr("data-pe-videoid")!==t?e(this).attr("data-pe-videoid"):e(this).attr("href")!==t?o(e(this).attr("href")):a.videoID,f=e(this).attr("data-pe-preview-size")!==t?e(this).attr("data-pe-preview-size"):a.previewSize!==t?a.previewSize:t,m=e(this).attr("data-pe-custom-preview-image")!==t?e(this).attr("data-pe-custom-preview-image"):a.customPreviewImage!==t?a.customPreviewImage:t,r=e(this).attr("data-pe-show-info")!==t?e(this).attr("data-pe-show-info"):a.showInfo!==t?a.showInfo:t,d=e(this).attr("data-pe-show-controls")!==t?e(this).attr("data-pe-show-controls"):a.showControls!==t?a.showControls:t,c=e(this).attr("data-pe-loop")!==t?e(this).attr("data-pe-loop"):a.loop!==t?a.loop:t,s=e(this).attr("data-pe-closed-captions")!==t?e(this).attr("data-pe-closed-captions"):a.closedCaptions!==t?a.closedCaptions:t,l=e(this).attr("data-pe-localization")!==t?e(this).attr("data-pe-localization"):a.localization!==t?a.localization:t,u=e(this).attr("data-pe-color-scheme")!==t?e(this).attr("data-pe-color-scheme"):a.colorScheme!==t?a.colorScheme:t,p=e(this).attr("data-pe-show-related")!==t?e(this).attr("data-pe-show-related"):a.showRelated!==t?a.showRelated:t,h=e(this).attr("data-pe-allow-fullscreen")!==t?e(this).attr("data-pe-allow-fullscreen"):a.allowFullScreen!==t?a.allowFullScreen:t,e(this).is("a")&&(i=e("<div />").addClass("pretty-embed"),i.attr("data-pe-videoid",$).attr("data-pe-preview-size",f).attr("data-pe-custom-preview-image",m).attr("data-pe-show-info",r).attr("data-pe-show-controls",d).attr("data-pe-loop",c).attr("data-pe-closed-captions",s).attr("data-pe-localization",l).attr("data-pe-color-scheme",u).attr("data-pe-show-related",p).attr("data-pe-allow-fullscreen",h),e(this).after(i)),m!==t&&""!==m)e(this).html('<img src="'+m+'" width="100%" alt="YouTube Video Preview" />');else{var g="";switch(f){case"thumb-default":g="default";break;case"thumb-1":g="1";break;case"thumb-2":g="2";break;case"thumb-3":g="3";break;case"default":g="mqdefault";break;case"medium":g="0";break;case"high":g="hqdefault";break;default:g="mqdefault"}e(this).html('<img src="//img.youtube.com/vi/'+$+"/"+g+'.jpg" width="100%" alt="YouTube Video Preview" />')}e(this).is("a")&&(i.html(e(this).html()),e(this).remove()),n&&e(window).on("load",function(){e(".pretty-embed").trigger("click")})}),e("body").on("click",".pretty-embed",function(t){t.preventDefault(),i(e(this))}),e.fn.prettyEmbed.options={videoID:"",previewSize:"",customPreviewImage:"",showInfo:!0,showControls:!0,loop:!1,closedCaptions:!1,colorScheme:"dark",showRelated:!1,useFitVids:!1}}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(a){return t(e,a)}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==_typeof(module.exports)?module.exports=t(e,require("jquery")):e.lity=t(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function a(e){var t=T();return R&&e.length?(e.one(R,t.resolve),setTimeout(t.resolve,500)):t.resolve(),t.promise()}function i(e,a,i){if(1===arguments.length)return t.extend({},e);if("string"==typeof a){if(void 0===i)return void 0===e[a]?null:e[a];e[a]=i}else t.extend(e,a);return this}function o(e){for(var t,a=decodeURI(e.split("#")[0]).split("&"),i={},o=0,n=a.length;o<n;o++)a[o]&&(t=a[o].split("="),i[t[0]]=t[1]);return i}function n(e,a){return e+(e.indexOf("?")>-1?"&":"?")+t.param(a)}function r(e,t){var a=e.indexOf("#");return-1===a?t:(a>0&&(e=e.substr(a)),t+e)}function d(e){return t('<span class="lity-error"/>').append(e)}function c(e,a){var i=a.opener()&&a.opener().data("lity-desc")||"Image with no description",o=t('<img src="'+e+'" alt="'+i+'"/>'),n=T(),r=function(){n.reject(d("Failed loading image"))};return o.on("load",function(){if(0===this.naturalWidth)return r();n.resolve(o)}).on("error",r),n.promise()}function s(e,a){var i,o,n;try{i=t(e)}catch(e){return!1}return!!i.length&&(o=t('<i style="display:none !important"/>'),n=i.hasClass("lity-hide"),a.element().one("lity:remove",function(){o.before(i).remove(),n&&!i.closest(".lity-content").length&&i.addClass("lity-hide")}),i.removeClass("lity-hide").after(o))}function l(e){var a=z.exec(e);return!!a&&$(r(e,n("https://www.youtube"+(a[2]||"")+".com/embed/"+a[4],t.extend({autoplay:1},o(a[5]||"")))))}function u(e){var a=O.exec(e);return!!a&&$(r(e,n("https://player.vimeo.com/video/"+a[3],t.extend({autoplay:1},o(a[4]||"")))))}function p(e){var a=N.exec(e);return!!a&&(0!==e.indexOf("http")&&(e="https:"+e),$(r(e,n("https://www.facebook.com/plugins/video.php?href="+e,t.extend({autoplay:1},o(a[4]||""))))))}function h(e){var t=I.exec(e);return!!t&&$(r(e,n("https://www.google."+t[3]+"/maps?"+t[6],{output:t[6].indexOf("layer=c")>0?"svembed":"embed"})))}function $(e){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+e+'"/></div>'}function f(){return C.documentElement.clientHeight?C.documentElement.clientHeight:Math.round(A.height())}function m(e){var t=y();t&&(27===e.keyCode&&t.options("esc")&&t.close(),9===e.keyCode&&g(e,t))}function g(e,t){var a=t.element().find(D),i=a.index(C.activeElement);e.shiftKey&&i<=0?(a.get(a.length-1).focus(),e.preventDefault()):e.shiftKey||i!==a.length-1||(a.get(0).focus(),e.preventDefault())}function v(){t.each(j,function(e,t){t.resize()})}function _(e){1===j.unshift(e)&&(S.addClass("lity-active"),A.on({resize:v,keydown:m})),t("body > *").not(e.element()).addClass("lity-hidden").each(function(){var e=t(this);void 0===e.data(P)&&e.data(P,e.attr(E)||null)}).attr(E,"true")}function b(e){var a;e.element().attr(E,"true"),1===j.length&&(S.removeClass("lity-active"),A.off({resize:v,keydown:m})),j=t.grep(j,function(t){return e!==t}),a=j.length?j[0].element():t(".lity-hidden"),a.removeClass("lity-hidden").each(function(){var e=t(this),a=e.data(P);a?e.attr(E,a):e.removeAttr(E),e.removeData(P)})}function y(){return 0===j.length?null:j[0]}function w(e,a,i,o){var n,r="inline",d=t.extend({},i);return o&&d[o]?(n=d[o](e,a),r=o):(t.each(["inline","iframe"],function(e,t){delete d[t],d[t]=i[t]}),t.each(d,function(t,i){return!i||!(!i.test||i.test(e,a))||(n=i(e,a),!1!==n?(r=t,!1):void 0)})),{handler:r,content:n||""}}function k(e,o,n,r){function d(e){l=t(e).css("max-height",f()+"px"),s.find(".lity-loader").each(function(){var e=t(this);a(e).always(function(){e.remove()})}),s.removeClass("lity-loading").find(".lity-content").empty().append(l),p=!0,l.trigger("lity:ready",[u])}var c,s,l,u=this,p=!1,h=!1;o=t.extend({},U,o),s=t(o.template),u.element=function(){return s},u.opener=function(){return n},u.options=t.proxy(i,u,o),u.handlers=t.proxy(i,u,o.handlers),u.resize=function(){p&&!h&&l.css("max-height",f()+"px").trigger("lity:resize",[u])},u.close=function(){if(p&&!h){h=!0,b(u);var e=T();if(r&&(C.activeElement===s[0]||t.contains(s[0],C.activeElement)))try{r.focus()}catch(e){}return l.trigger("lity:close",[u]),s.removeClass("lity-opened").addClass("lity-closed"),a(l.add(s)).always(function(){l.trigger("lity:remove",[u]),s.remove(),s=void 0,e.resolve()}),e.promise()}},c=w(e,u,o.handlers,o.handler),s.attr(E,"false").addClass("lity-loading lity-opened lity-"+c.handler).appendTo("body").focus().on("click","[data-lity-close]",function(e){t(e.target).is("[data-lity-close]")&&u.close()}).trigger("lity:open",[u]),_(u),t.when(c.content).always(d)}function x(e,a,i){e.preventDefault?(e.preventDefault(),i=t(this),e=i.data("lity-target")||i.attr("href")||i.attr("src")):i=t(i);var o=new k(e,t.extend({},i.data("lity-options")||i.data("lity"),a),i,C.activeElement);if(!e.preventDefault)return o}var C=e.document,A=t(e),T=t.Deferred,S=t("html"),j=[],E="aria-hidden",P="lity-"+E,D='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',U={esc:!0,handler:null,handlers:{image:c,inline:s,youtube:l,vimeo:u,googlemaps:h,facebookvideo:p,iframe:$},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},F=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,z=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,O=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,I=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,N=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,R=function(){var e=C.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in t)if(void 0!==e.style[a])return t[a];return!1}();return c.test=function(e){return F.test(e)},x.version="2.3.1",x.options=t.proxy(i,x,U),x.handlers=t.proxy(i,x,U.handlers),x.current=y,t(C).on("click.lity","[data-lity]",x),x}),function(e,t){"use strict";function a(a,i,n,d,c){function s(){x=e.devicePixelRatio>1,n=l(n),i.delay>=0&&setTimeout(function(){u(!0)},i.delay),(i.delay<0||i.combined)&&(d.e=v(i.throttle,function(e){"resize"===e.type&&(w=k=-1),u(e.all)}),d.a=function(e){e=l(e),n.push.apply(n,e)},d.g=function(){return n=o(n).filter(function(){return!o(this).data(i.loadedName)})},d.f=function(e){for(var t=0;t<e.length;t++){var a=n.filter(function(){return this===e[t]});a.length&&u(!1,a)}},u(),o(i.appendScroll).on("scroll."+c+" resize."+c,d.e))}function l(e){var n=i.defaultImage,r=i.placeholder,d=i.imageBase,c=i.srcsetAttribute,s=i.loaderAttribute,l=i._f||{};e=o(e).filter(function(){var e=o(this),a=m(this);return!e.data(i.handledName)&&(e.attr(i.attribute)||e.attr(c)||e.attr(s)||l[a]!==t)}).data("plugin_"+i.name,a);for(var u=0,p=e.length;u<p;u++){var h=o(e[u]),$=m(e[u]),f=h.attr(i.imageBaseAttribute)||d;$===S&&f&&h.attr(c)&&h.attr(c,g(h.attr(c),f)),l[$]===t||h.attr(s)||h.attr(s,l[$]),$===S&&n&&!h.attr(j)?h.attr(j,n):$===S||!r||h.css(D)&&"none"!==h.css(D)||h.css(D,"url('"+r+"')")}return e}function u(e,t){if(!n.length)return void(i.autoDestroy&&a.destroy());for(var r=t||n,d=!1,c=i.imageBase||"",s=i.srcsetAttribute,l=i.handledName,u=0;u<r.length;u++)if(e||t||h(r[u])){var $=o(r[u]),f=m(r[u]),g=$.attr(i.attribute),v=$.attr(i.imageBaseAttribute)||c,_=$.attr(i.loaderAttribute);$.data(l)||i.visibleOnly&&!$.is(":visible")||!((g||$.attr(s))&&(f===S&&(v+g!==$.attr(j)||$.attr(s)!==$.attr(E))||f!==S&&v+g!==$.css(D))||_)||(d=!0,$.data(l,!0),p($,f,v,_))}d&&(n=o(n).filter(function(){return!o(this).data(l)}))}function p(e,t,a,n){++y;var r=function(){b("onError",e),_(),r=o.noop};b("beforeLoad",e);var d=i.attribute,c=i.srcsetAttribute,s=i.sizesAttribute,l=i.retinaAttribute,u=i.removeAttribute,p=i.loadedName,h=e.attr(l);if(n){var $=function(){u&&e.removeAttr(i.loaderAttribute),e.data(p,!0),b(C,e),setTimeout(_,1),$=o.noop};e.off(T).one(T,r).one(A,$),b(n,e,function(t){t?(e.off(A),$()):(e.off(T),r())})||e.trigger(T)}else{var f=o(new Image);f.one(T,r).one(A,function(){e.hide(),t===S?e.attr(P,f.attr(P)).attr(E,f.attr(E)).attr(j,f.attr(j)):e.css(D,"url('"+f.attr(j)+"')"),e[i.effect](i.effectTime),u&&(e.removeAttr(d+" "+c+" "+l+" "+i.imageBaseAttribute),s!==P&&e.removeAttr(s)),e.data(p,!0),b(C,e),f.remove(),_()});var m=(x&&h?h:e.attr(d))||"";f.attr(P,e.attr(s)).attr(E,e.attr(c)).attr(j,m?a+m:null),f.complete&&f.trigger(A)}}function h(e){var t=e.getBoundingClientRect(),a=i.scrollDirection,o=i.threshold,n=f()+o>t.top&&-o<t.bottom,r=$()+o>t.left&&-o<t.right;return"vertical"===a?n:"horizontal"===a?r:n&&r}function $(){return w>=0?w:w=o(e).width()}function f(){return k>=0?k:k=o(e).height()}function m(e){return e.tagName.toLowerCase()}function g(e,t){if(t){var a=e.split(",");e="";for(var i=0,o=a.length;i<o;i++)e+=t+a[i].trim()+(i!==o-1?",":"")}return e}function v(e,t){var o,n=0;return function(r,d){function c(){n=+new Date,t.call(a,r)}var s=+new Date-n;o&&clearTimeout(o),s>e||!i.enableThrottle||d?c():o=setTimeout(c,e-s)}}function _(){--y,n.length||y||b("onFinishedAll")}function b(e,t,o){return!!(e=i[e])&&(e.apply(a,[].slice.call(arguments,1)),!0)}var y=0,w=-1,k=-1,x=!1,C="afterLoad",A="load",T="error",S="img",j="src",E="srcset",P="sizes",D="background-image";"event"===i.bind||r?s():o(e).on(A+"."+c,s)}function i(i,r){var d=this,c=o.extend({},d.config,r),s={},l=c.name+"-"+ ++n;return d.config=function(e,a){return a===t?c[e]:(c[e]=a,d)},d.addItems=function(e){return s.a&&s.a("string"===o.type(e)?o(e):e),d},d.getItems=function(){return s.g?s.g():{}},d.update=function(e){return s.e&&s.e({},!e),d},d.force=function(e){return s.f&&s.f("string"===o.type(e)?o(e):e),d},d.loadAll=function(){return s.e&&s.e({all:!0},!0),d},d.destroy=function(){return o(c.appendScroll).off("."+l,s.e),o(e).off("."+l),s={},t},a(d,c,i,s,l),c.chainable?i:d}var o=e.jQuery||e.Zepto,n=0,r=!1;o.fn.Lazy=o.fn.lazy=function(e){return new i(this,e)},o.Lazy=o.lazy=function(e,a,n){if(o.isFunction(a)&&(n=a,a=[]),o.isFunction(n)){e=o.isArray(e)?e:[e],a=o.isArray(a)?a:[a];for(var r=i.prototype.config,d=r._f||(r._f={}),c=0,s=e.length;c<s;c++)(r[e[c]]===t||o.isFunction(r[e[c]]))&&(r[e[c]]=n);for(var l=0,u=a.length;l<u;l++)d[a[l]]=e[0]}},i.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:e,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:t,afterLoad:t,onError:t,onFinishedAll:t},o(e).on("load",function(){r=!0})}(window),function(e){"use strict";e.fn.fitVids=function(t){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(o.childNodes[1])}return t&&e.extend(a,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&t.push(a.customSelector);var i=".fitvidsignore";a.ignore&&(i=i+", "+a.ignore);var o=e(this).find(t.join(","));o=o.not("object object"),o=o.not(i),o.each(function(){var t=e(this);if(!(t.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var a="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),o=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),n=a/o;if(!t.attr("name")){var r="fitvid"+e.fn.fitVids._count;t.attr("name",r),e.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}})})},e.fn.fitVids._count=0}(window.jQuery||window.Zepto),$(document).ready(function(){function e(e){$(e).length&&$("html,body").scrollTop($(e).offset().top)}function t(e,t){var a=($(this),$(e).clone());$(a).css({position:"absolute",top:$(e).offset().top+80+"px",left:$(e).offset().left+100+"px",opacity:1,"z-index":1e3}),$("body").append($(a)),$(a).width("350");var i=$(t).offset().left+$(t).width()/2-$(e).width()/5/2,o=$(t).offset().top+$(t).height()/2-$(e).height()/5/2;$(a).animate({opacity:.4,left:i,top:o,width:$(e).width()/5,height:$(e).height()/5},700,function(){$(t).fadeOut("fast",function(){$(t).fadeIn("fast",function(){$(a).fadeOut("fast",function(){$(a).remove()})})})})}function a(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=$("#header .cart.item"),o=parseFloat(i.find("price number").text()),n=$(".content.cart").data("cartid"),r=$("#cart_popup");data={},data.qty=t,null!=a&&(data.size=a),$.ajax({method:"POST",url:"/cart/"+n+"/"+e,data:data,global:!1,success:function(e){console.log(e),i.find(".label").text(e.count),i.find("price number").text(parseFloat(o+parseFloat(e.price)).toFixed(2)),r.find(".button").before(e.row),r.find(".noitems").hide()}})}function i(){return $filters={},$filters.parameters={},$("#active_filters span").each(function(e,t){var a=$(t).data("group"),i=$(t).data("filter");$(t).data("group")?$filters[a][i]=[]:$filters[$(t).data("filter")]={}}),console.log($filters),$("#active_filters span").each(function(e,t){var a=$(t).data("group"),i=$(t).data("filter");null!=a?$filters[a][i].push($(t).data("value")):$filters[i]=$(t).data("value")}),$filters}function o(){return $("#category_path_wrapper").data("categoryid")}function n(){return $(".sort.active").data("sortby")}function r(){return $(".sort.active").data("sortorder")}function d(e){$(".banner_preview .cover").width(e+"%"),$("#cover_dimensions_settings").find("width").text($(".banner_preview .cover").width()),$coverRatio=($(".banner_preview .cover").width()/$(".banner_preview .cover").height()).toFixed(2),$("#cover_dimensions_settings").find("ratio").text($coverRatio),$bannerRatio=($(".banner_preview .banner").width()/$(".banner_preview .banner").height()).toFixed(2),$("#banner_dimensions_settings").find("ratio").text($bannerRatio),$("#banner_dimensions_settings").find("width").text($(".banner_preview .banner").width()),$('input[name="cover_ratio"]').val($coverRatio),$('input[name="banner_ratio"]').val($bannerRatio)}function c(e){$(".banner_preview .cover").height(e-2),$(".banner_preview .banners").height(e),$("#cover_dimensions_settings").find("height").text($(".banner_preview .cover").height()),$coverRatio=($(".banner_preview .cover").width()/$(".banner_preview .cover").height()).toFixed(2),$("#cover_dimensions_settings").find("ratio").text($coverRatio),$bannerRatio=($(".banner_preview .banner").width()/$(".banner_preview .banner").height()).toFixed(2),$("#banner_dimensions_settings").find("ratio").text($bannerRatio),$("#banner_dimensions_settings").find("height").text($(".banner_preview .banner").height()),$('input[name="cover_ratio"]').val($coverRatio),$('input[name="banner_ratio"]').val($bannerRatio)}function s(){$grid=$("#grid_wrapper").find("grid"),$filtersDiv=$("#filterbar").find(".params"),$sortBy=n(),$sortOrder=r(),$filters=i(),$categoryid=o(),$page=x("page"),$.get("/product/list",{category:$categoryid,sortBy:$sortBy,sortOrder:$sortOrder,filters:$filters,page:$page},function(e){$grid.html(e.products),$filtersDiv.html(e.filters),p(),$("#grid_wrapper").find(".dimmer").removeClass("active"),$("#grid_wrapper").show(),$(".sorts").show(),$("#price_slider").show(),$(".sort").removeClass("loading"),$grid.on("click",".view_more_button",function(){$(".view_more_button").addClass("loading"),$.get($("#next_page").attr("href"),{category:$categoryid,sortBy:$sortBy,sortOrder:$sortOrder,filters:$filters},function(e){$("#grid_div").remove(),$grid.find(".item").last().after($(e.products)),$("#grid_wrapper").find(".dimmer").removeClass("active"),$(".view_more_button").removeClass("loading")})})})}function l(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$("#active_filters").append('<span data-value="'+t+'" data-filter="'+e+'" data-group="'+i+'" class="'+e+' ui large teal label">'+a+'<i class="delete icon"></i></span>')}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""==t?$("#active_filters").find('span[data-filter="'+e+'"]').remove():$("#active_filters").find('span[data-value="'+t+'"][data-filter="'+e+'"]').remove()}function p(){$("#filterbar  .ui.checkbox").checkbox({onChecked:function(){$value=$(this).closest(".checkbox").data("value"),$text=$(this).closest(".checkbox").find("label").text(),$filter=$(this).closest(".checkbox").data("filter"),$display=$(this).closest(".checkbox").data("display"),l($filter,$value,$display+": "+$text,"parameters"),s()},onUnchecked:function(){$value=$(this).closest(".checkbox").data("value"),$text=$(this).closest(".checkbox").find("label").text(),$filter=$(this).closest(".checkbox").data("filter"),$display=$(this).closest(".checkbox").data("display"),u($filter,$value),s()}})}function h(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}
function f(e,t,a){$charts[e].data.labels=[],$charts[e].data.datasets.forEach(function(e){e.data=[]}),$(a).each(function(i,o){m($charts[e],t[i],a[i])})}function m(e,t,a){e.data.labels.push(t),e.data.datasets.forEach(function(e){e.data.push(a)}),e.update()}function g(e){for(var t=new Date,a=[],i=0;i<e;i++){var o=new Date(t.setDate(t.getDate()-1));a.push(o.getFullYear()+"-"+parseInt(o.getMonth()+1)+"-"+o.getDate())}return a}function v(e,t){var a=[],i=g(t);return assocData={},$(e).each(function(e,t){assocData[t.date]=t.count}),$(i).each(function(e,t){assocData[t]?a.push(assocData[t]):a.push(0)}),a}function _(){var e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());return rand="rgb("+e+","+t+","+a+")",rand}function b(e,t){for(var a=0;e[++a]<=t;);return e[--a]}function y(e){$related_carousel=$(".related_products_carousel").flickity({cellAlign:"left",contain:!0,pageDots:!1,prevNextButtons:!1,imagesLoaded:!0,autoPlay:e}),$related_carousel.on("staticClick.flickity",function(e,t,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(t)[0].target).hasClass("to_cart")&&0==$($(t)[0].target).hasClass("icon")&&(window.location.href=$link)})}function w(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3];$data={},$data.changes=e,$data.view=t,$.ajax({type:"PUT",url:"/admin/page/setting/",data:$data,success:function(e){a&&$("#page_preview").find("#"+i).html(e)}})}$(document).on("click",".to_cart",function(){$product=$(this).closest(".product").data("productid"),$product_code=$(this).closest(".product").data("productcode"),$product_name=$(this).closest(".product").find(".title").text();var e=$("#header .cart.item"),i=$(this).closest(".product").find(".image_div");$qty=$(this).closest(".product").data("minqty"),$(this).hasClass("sizes")?$("#sizes_modal").modal("setting",{duration:200,onShow:function(){$("#sizes_modal").find(".image img").attr("src",i.find("img").attr("src")),$("#sizes_modal > .header").html($product_name),$.get("/api/product/"+$product+"/sizes",{},function(e){$("#sizes_modal").find("#sizes").html(""),$(e).each(function(e,t){"PRODEJ UKONČEN"==t.stock?$class="inactive":$class="active",t.size_code==$product_code?$selected=" selected":$selected="",$("#sizes_modal").find("#sizes").append('<div class="size '+$class+$selected+'" data-code="'+t.size_code+'">'+t.text+"</div>"),$("#sizes_modal .size.active").click(function(){$("#sizes_modal .size").removeClass("selected"),$(this).addClass("selected")})})})},onApprove:function(){$size=$("#sizes_modal").find(".selected.size").data("code"),a($product,$qty,$size),t(i,e)}}).modal("show"):(t(i,e),a($product,$qty))}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var k=window.location.href.split("/");console.log(k),""!=k[3]&&"admin"!=k[3]&&$(window).width()>680&&e("#grid.main"),window.onpopstate=function(e){e&&e.state&&location.reload()},$(".ui.checkbox").checkbox(),$("#header .account.item").popup({popup:$("#auth_popup"),on:"click"}),$("#header .catalogues.item").popup({popup:$("#catalogues_popup"),on:"hover",hoverable:!0}),$("#header .cart.item").popup({popup:$("#cart_popup"),on:"hover",hoverable:!0}),$("#header .cart.item").click(function(){window.location.href=$(this).attr("href")}),$(".ui.accordion").accordion({exclusive:!1}),$("#filterbar .ui.accordion").accordion({exclusive:!1,selector:{accordion:".accordion",title:".title",trigger:".title i",content:".content"}}),$(".admin_categories_list .ui.accordion").accordion({exclusive:!1,selector:{accordion:".accordion",title:".title",trigger:".name",content:".content"}}),$(".register_form").click(function(){$popup=$("#auth_popup"),$email=$("#register_div").find('input[name="email"]').val(),$password=$("#register_div").find('input[name="password"]').val()}),$(".login_form").submit(function(){return $validation=1,$popup=$("#auth_popup"),$email=$("#login_div").find('input[name="email"]').val(),$password=$("#login_div").find('input[name="password"]').val(),1==$validation}),$(".add_category_btn").click(function(){$("#add_category_modal").modal("setting",{autofocus:!1,onShow:function(){$(".dropdown").dropdown()},onApprove:function(){$name=$("#add_category_input").val(),$parent_id=$('input[name="parent_id"]').val(),$.ajax({type:"POST",url:"/category",data:{name:$name,parent_id:$parent_id},success:function(){location.reload()}})}}).modal("show")}),$("#create_product_add_param_row").click(function(){$html=$("#create_product_params .row:first-child").html(),$("#create_product_params").append('<div class="row">'+$html+"</div>"),$(".ui.dropdown").dropdown()}),$("#edit_product_add_param_row").click(function(){$html=$("#param_template .row").html(),$("#edit_product_params").append('<div class="row">'+$html+"</div>"),$(".ui.dropdown").dropdown()}),$("#create_product_categories_input").dropdown({maxSelections:1,onAdd:function(e,t,a){console.log(e)}}),$("#create_product_form").submit(function(e){return $validation=1,$name=$('#product_main_wrapper input[name="name"]').val(),$code=$('#product_main_wrapper input[name="code"]').val(),$maker=$('#product_main_wrapper input[name="maker"]').val(),$threshold=$('#product_main_wrapper input[name^="thresholds"]').val(),$moc=$('#product_main_wrapper input[name^="mocs"]').val(),$mocs=$('#product_main_wrapper input[name^="moc_sales"]').val(),$voc=$('#product_main_wrapper input[name^="vocs"]').val(),$vocs=$('#product_main_wrapper input[name^="voc_sales"]').val(),""==$name&&($validation=0,$('#product_main_wrapper input[name="name"]').parent().addClass("error")),""==$code&&($validation=0,$('#product_main_wrapper input[name="code"]').parent().addClass("error")),""==$maker&&($validation=0,$('#product_main_wrapper input[name="maker"]').parent().addClass("error")),""==$threshold&&($validation=0,$('#product_main_wrapper input[name^="thresholds"]').parent().addClass("error")),""==$moc&&($validation=0,$('#product_main_wrapper input[name^="moc"]').parent().addClass("error")),""==$mocs&&($validation=0,$('#product_main_wrapper input[name^="mocs"]').parent().addClass("error")),""==$voc&&($validation=0,$('#product_main_wrapper input[name^="voc"]').parent().addClass("error")),""==$vocs&&($validation=0,$('#product_main_wrapper input[name^="vocs"]').parent().addClass("error")),1==$validation}),$(".other_img .img").click(function(e){e.preventDefault(),$("#product_main_wrapper .img.main img").attr("src","/img/loader.gif"),$index=$(this).find("img").data("index"),$("#product_main_wrapper").data("index",$index);var t=new Image,a=$(this).find("img").data("full");t.src=a,t.onload=function(){$("#product_main_wrapper .img.main img").attr("src",a),$("#product_main_wrapper .img.main").attr("href",a)}}),$(".message .close").on("click",function(){$(this).closest(".message").transition("fade")}),$("#product_detail_tocart_btn").click(function(){$product=$("#product_main_wrapper").data("id"),$qty=$(this).data("qty"),$size=$("#product_main_wrapper .sizes .size.selected").data("code");var e=$("#header .cart.item");t($("#product_main_wrapper").find(".img"),e),a($product,$qty,$size)}),$(document).on("click",".delete_cart",function(){console.log(1),$("#delete_cart_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/cart/all",data:{},success:function(){location.replace("/cart/products")}})}}).modal("show")}),$(document).on("click",".catalogue_delete_btn",function(){$catalogueid=$(this).closest(".catalogue").data("id"),$("#delete_catalogue_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/file/"+$catalogueid,data:{},success:function(){location.reload()}})}}).modal("show")}),$(".catalogue_primary_btn").click(function(){$catalogueid=$(this).closest(".catalogue").data("id"),$.ajax({type:"PUT",url:"/file/"+$catalogueid,data:{primary:1},success:function(){location.reload()}})}),$(".catalogue_save_btn").click(function(){$catalogueid=$(this).closest(".catalogue").data("id"),$path=$(this).closest(".catalogue").find("input").val(),$(this).addClass("loading"),$.ajax({type:"PUT",url:"/file/"+$catalogueid,data:{path:$path},success:function(){location.reload()}})}),$(".cart_delete_product").click(function(){$productid=$(this).closest(".product").data("productid"),$cartid=$(".cart.content").data("cartid"),$.ajax({type:"DELETE",url:"/cart/"+$cartid+"/"+$productid,data:{},success:function(){location.reload()}})}),$(".cart_plus_product").click(function(){$productid=$(this).closest(".product").data("productid"),$.ajax({type:"POST",url:"/cart/"+$productid,data:{},success:function(){location.reload()}})}),$(".cart_minus_product").click(function(){$productid=$(this).closest(".product").data("productid"),$.ajax({type:"PUT",url:"/cart/"+$productid,data:{},success:function(){location.reload()}})}),p(),$("#banners_visible_checkbox").checkbox({onChecked:function(){$(".banner_preview").find(".banners").show(),$(".banner_preview .cover").width($('input[name="cover_width"').val()+"%"),$("#cover_width_setting").show()},onUnchecked:function(){$(".banner_preview").find(".banners").hide(),$(".banner_preview .cover").width("100%"),$("#cover_width_setting").hide()}}),function(){if($("#cover_height_slider").length){$("#cover_height_slider")[0].noUiSlider&&$("#cover_height_slider")[0].noUiSlider.destroy();var e=document.getElementById("cover_height_slider");noUiSlider.create(e,{start:$('input[name="cover_height"]').val(),connect:[!0,!1],range:{min:0,max:1e3},format:wNumb({decimals:0}),step:1}),e.noUiSlider.on("slide",function(){$('input[name="cover_height"').val(e.noUiSlider.get()),c(e.noUiSlider.get())})}}(),function(){if($("#cover_width_slider").length){$("#cover_width_slider")[0].noUiSlider&&$("#cover_width_slider")[0].noUiSlider.destroy();var e=document.getElementById("cover_width_slider");noUiSlider.create(e,{start:$('input[name="cover_width"]').val(),connect:[!0,!1],range:{min:50,max:90},format:wNumb({decimals:0}),step:1}),e.noUiSlider.on("slide",function(){$('input[name="cover_width"').val(e.noUiSlider.get()),d(e.noUiSlider.get())})}}();var x=function(e){var t,a,i=window.location.search.substring(1),o=i.split("&");for(a=0;a<o.length;a++)if(t=o[a].split("="),t[0]===e)return void 0===t[1]||decodeURIComponent(t[1])};"category_products_body"!=$("body").attr("id")&&"search_body"!=$("body").attr("id")||s(),$(".sort").click(function(){$(this).addClass("loading"),$(this).hasClass("active")?"asc"==$(this).data("sortorder")?("created_at"!=$(this).data("sortby")&&$(this).data("sortorder","desc"),$(this).find("i").removeClass("ascending").addClass("descending")):("created_at"!=$(this).data("sortby")&&$(this).data("sortorder","asc"),$(this).find("i").removeClass("descending").addClass("ascending")):($(".sort").removeClass("active"),$(this).addClass("active")),s()}),$(".categories .item .icon.plus").click(function(e){$(this).toggleClass("minus plus")}),$(".categories .item .icon.minus").click(function(e){$(this).toggleClass("minus plus")}),$(".cart_delivery.eshop").click(function(){$this=$(this),$deliveryNote=$this.data("note"),$this.hasClass("completed")||($delivery=$(this).data("delivery_method"),$(".cart_payment").each(function(e,t){$(t).removeClass("disabled completed active"),-1==$.inArray($delivery,$(t).data("delivery_methods"))&&$(t).addClass("disabled")}),$shipping_price=parseFloat($(this).data("price")),$data={delivery_method:$delivery},$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price=parseFloat($(this).data("price")),$data.payment_method="",$data.shipping_price=$shipping_price,$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").addClass("disabled")),$(".cart_payment.completed.active").length&&!$(".cart_delivery.completed.active").length&&($data.shipping_price=$shipping_price+parseFloat($(".cart_delivery.completed.active").data("price")),$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").removeClass("disabled")),!$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price=parseFloat($(this).data("price")),$data.payment_method="",$(".cart_payment").removeClass("completed active"),$data.shipping_price=$shipping_price,$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").addClass("disabled")),$(".cart_payment.completed.active").length||$(".cart_delivery.completed.active").length||($shipping_price=parseFloat($(this).data("price")),$data.payment_method="",$(".cart_payment").removeClass("completed active"),$data.shipping_price=$shipping_price,$("#cart_shipping_price").find("price").text(parseFloat($data.shipping_price)),$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price)),$(".cart_delivery").removeClass("completed active"),$.ajax({method:"POST",url:"/cart",data:$data,success:function(e){$this.hasClass("completed")||($this.addClass("completed active"),$("#cart_info_wrapper").find(".delivery_note").html($deliveryNote),$deliveryNote&&$("#cart_info_wrapper").show())}}))}),$(".cart_payment.eshop").click(function(){$this=$(this),$paymentNote=$this.data("note"),$this.hasClass("completed")||($payment=$(this).data("payment_method"),$shipping_price=parseFloat($(this).data("price")),$data={payment_method:$payment},$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price+=parseFloat($(".cart_delivery.completed.active").data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$("#cart_shipping_price").find("price").text($shipping_price)),$(".cart_payment.completed.active").length&&!$(".cart_delivery.completed.active").length&&($shipping_price=parseFloat($(this).data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$("#cart_shipping_price").find("price").text($shipping_price)),!$(".cart_payment.completed.active").length&&$(".cart_delivery.completed.active").length&&($shipping_price+=parseFloat($(".cart_delivery.completed.active").data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$(".cart_next").removeClass("disabled"),$("#cart_shipping_price").find("price").text($shipping_price)),$(".cart_payment.completed.active").length||$(".cart_delivery.completed.active").length||($shipping_price=parseFloat($(this).data("price")),$data.shipping_price=$shipping_price,$("#cart_total_price").find("price").text(parseFloat($("#cart_total_price").data("price"))+$shipping_price),$("#cart_shipping_price").find("price").text($shipping_price)),$(".cart_payment").removeClass("completed active"),$.ajax({method:"POST",url:"/cart",data:$data,success:function(){$this.hasClass("completed")||($this.addClass("completed active"),$("#cart_info_wrapper").find(".payment_note").html($paymentNote),$paymentNote&&$("#cart_info_wrapper").show())}}))}),"body_cart_delivery"==$("body").attr("id")&&($deliveryprice=parseFloat($(".cart_delivery.active").data("price"))||0,$paymentprice=parseFloat($(".cart_payment.active").data("price"))||0,$("#cart_shipping_price").find("price").html($deliveryprice+$paymentprice),$("#cart_total_price").find("price").html(parseFloat($deliveryprice+$paymentprice+parseFloat($("#cart_without_vat_price").find("price").text()||0)+parseFloat($("#cart_vat").find("price").text()||0)+parseFloat($("#cart_price").find("price").text()||0)).toFixed(2)),$.ajax({method:"POST",url:"/cart",data:{shipping_price:$deliveryprice+$paymentprice}})),$("#view_goods_btn").click(function(){e("#home_content")}),$("#login_password_input").keypress(function(e){13==e.which&&$("#login_form").submit()}),$("#register_password_input").keypress(function(e){13==e.which&&$("#register_btn").click()}),$("#product_detail_delete_btn").click(function(){$productid=$("#product_main_wrapper").data("id"),$("#delete_product_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/product/"+$productid,data:{},success:function(){location.replace("/admin/products")}})}}).modal("show")}),$(".admin_delete_category_btn").click(function(){$categoryid=$(this).closest(".category").data("id"),$("#delete_category_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/category/"+$categoryid,data:{},success:function(){location.replace("/admin/products")}})}}).modal("show")}),$(".product_row_delete_btn").click(function(){$productid=$(this).closest(".product").data("productid"),$("#delete_product_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/product/"+$productid,data:{},success:function(){location.reload()}})}}).modal("show")});$(".product_search_input input").keyup(function(e){$query=$(this).val(),u("search"),""!=$query&&(l("search",$query,"hľadaj: "+$query),s())}),$("#settings_submit_btn").click(function(){$validation=1,$userid=$("#settings_user").data("userid"),$container=$("#right"),$data={},$rawdata={first_name:$container.find('input[name="first_name"]').val(),last_name:$container.find('input[name="last_name"]').val(),phone:$container.find('input[name="phone"]').val(),invoice_address:{street:$container.find('input[name="invoice_address_street"]').val(),zip:$container.find('input[name="invoice_address_zip"]').val(),city:$container.find('input[name="invoice_address_city"]').val(),company:$container.find('input[name="invoice_address_company"]').val(),ico:$container.find('input[name="invoice_address_ico"]').val(),dic:$container.find('input[name="invoice_address_dic"]').val(),icdph:$container.find('input[name="invoice_address_icdph"]').val()},delivery_address:{name:$container.find('input[name="delivery_address_name"]').val(),street:$container.find('input[name="delivery_address_street"]').val(),city:$container.find('input[name="delivery_address_city"]').val(),zip:$container.find('input[name="delivery_address_zip"]').val(),additional:$container.find('input[name="delivery_address_additional"]').val(),phone:$container.find('input[name="delivery_address_phone"]').val()}},$data.invoice_address=JSON.stringify($rawdata.invoice_address),$data.delivery_address=JSON.stringify($rawdata.delivery_address),$data.first_name=$rawdata.first_name,$data.last_name=$rawdata.last_name,$data.phone=$rawdata.phone,$data.redirect=$(this).data("redirect"),$validation&&$.ajax({method:"PUT",url:"/user/"+$userid,data:$data,success:function(e){location.reload()}})}),$("#use_delivery_address_input").checkbox({onChecked:function(){$(".cart_address .delivery").fadeIn(),$.ajax({method:"POST",url:"/cart",data:{delivery_address_flag:1}})},onUnchecked:function(){$(".cart_address .delivery").fadeOut(),$.ajax({method:"POST",url:"/cart",data:{delivery_address_flag:0}})}}),$("#use_ico_input").checkbox({onChecked:function(){$(".cart_address .ico").fadeIn(),$.ajax({method:"POST",url:"/cart",data:{ico_flag:1}})},onUnchecked:function(){$(".cart_address .ico").fadeOut(),$.ajax({method:"POST",url:"/cart",data:{ico_flag:0}})}}),$("#cart_shipping_next_btn").click(function(e){$validation=1,$invoiceAddress={},$deliveryAddress={},$ico={},$button=$(this),$button.addClass("loading"),$invoiceAddressInputs=$(".cart_address").find(".invoice").find(".input"),$invoiceAddressInputs.each(function(e,t){$type=$(t).data("column"),$invoiceAddress[$type]=$(t).find("input").val(),""==$(t).find("input").val()&&($validation=0,$(t).addClass("error"))}),$deliveryAdressFlag=$("#use_delivery_address_input").checkbox("is checked"),$icoFlag=$("#use_ico_input").checkbox("is checked"),$email=$('input[type="email"]').val(),h($email)||($validation=0,$('input[type="email"]').parent().addClass("error")),$phone=$('.input[data-column="phone"] input').val(),$.isNumeric($phone)||($validation=0,$('.input[data-column="phone"]').addClass("error")),$deliveryAdressFlag&&($deliveryAddressInputs=$(".cart_address").find(".delivery").find(".input"),$deliveryAddressInputs.each(function(e,t){$type=$(t).data("column"),$deliveryAddress[$type]=$(t).find("input").val(),""==$(t).filter(".mandatory").find("input").val()&&($validation=0,$(t).addClass("error"))})),$icoFlag&&($icoInputs=$(".cart_address").find(".ico").find(".input"),$icoInputs.each(function(e,t){$type=$(t).data("column"),$ico[$type]=$(t).find("input").val(),""==$(t).filter(".mandatory").find("input").val()&&($validation=0,$(t).addClass("error"))})),console.log($validation),$validation?($.extend($invoiceAddress,$ico),$.ajax({method:"POST",url:"/cart",data:{invoice_address:JSON.stringify($invoiceAddress),delivery_address:JSON.stringify($deliveryAddress)}}),e.preventDefault(),setTimeout(function(){$.get($(this).attr("href"),{},function(){location.replace($button.attr("href"))})},1e3)):(e.preventDefault(),$button.removeClass("loading"))}),$("#submit_order_btn").click(function(){$button=$(this),$button.addClass("loading"),$.ajax({method:"POST",url:"/order",success:function(){location.replace("/order/success")}})}),$("#admin #grid .product.item").draggable({opacity:.6,helper:"clone"}),$(".categories .item").droppable({tolerance:"pointer",accept:".product",over:function(e,t){$(this).addClass("active")},out:function(e,t){$(this).removeClass("active")},deactivate:function(e,t){$(this).removeClass("active")},drop:function(e,t){$categoryId=$(this).data("categoryid"),$product=$(t.draggable),$.post("/product/"+$product.data("productid")+"/change/category/"+$categoryId,{},function(){$product.remove()}),$(this).removeClass("active")}}),$(document).on("click",".admin_delete_user_btn",function(){$userid=$(this).closest(".user").data("userid"),$.ajax({method:"DELETE",url:"/user/"+$userid,success:function(){location.reload()}})}),$(".admin_admin_checkbox").checkbox({onChecked:function(){$userid=$(this).closest(".user").data("userid"),$.ajax({method:"PUT",url:"/user/"+$userid,data:{admin:1}})},onUnchecked:function(){$userid=$(this).closest(".user").data("userid"),$.ajax({method:"PUT",url:"/user/"+$userid,data:{admin:0}})}}),$(".delete_img").click(function(){$image=$(this).closest(".image_div"),$imageid=$image.data("fileid"),$.ajax({method:"DELETE",url:"/file/"+$imageid,data:{},success:function(){$image.remove()}})}),$(".make_primary_img").click(function(){$image=$(this).closest(".image_div"),$imageid=$image.data("fileid"),$.ajax({method:"PUT",url:"/file/"+$imageid,data:{primary:1},success:function(){$(".image_div").removeClass("primary"),$image.addClass("primary")}})}),$("#active_filters").on("click","span .delete",function(){$filter=$(this).parent().data("filter"),$value=$(this).parent().data("value"),$(this).parent().remove(),$('.filter[data-filter="'+$filter+'"][data-value="'+$value+'"]').removeClass("active"),s()}),$("#sidebar_handle").click(function(){$("#sidebar").sidebar("toggle")}),$("#catbar_handle").click(function(){$("#catbar").sidebar("setting","transition","overlay").sidebar("toggle")}),$("#parambarbar_handle").click(function(){$("#parambar").sidebar("toggle")}),$(".close_btn").click(function(){$(".ui.sidebar").sidebar("hide")}),$sales_carousel=$("#home_sales_div .items").flickity({cellAlign:"left",contain:!1,pageDots:!1,prevNextButtons:!1,imagesLoaded:!0,wrapAround:!0}),$news_carousel=$("#home_news_div .items").flickity({cellAlign:"left",contain:!1,pageDots:!1,prevNextButtons:!1,imagesLoaded:!1,wrapAround:!0}),$bestsellers_carousel=$("#home_bestsellers_div .items").flickity({cellAlign:"left",contain:!1,pageDots:!1,prevNextButtons:!1,imagesLoaded:!0,wrapAround:!0}),$sales_carousel.on("staticClick.flickity",function(e,t,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(t)[0].target).hasClass("to_cart")&&0==$($(t)[0].target).hasClass("icon")&&(window.location.href=$link)}),$news_carousel.on("staticClick.flickity",function(e,t,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(t)[0].target).hasClass("to_cart")&&0==$($(t)[0].target).hasClass("icon")&&(window.location.href=$link)}),$bestsellers_carousel.on("staticClick.flickity",function(e,t,a,i){$link=$(a).find(".p_anch").attr("href"),0==$($(t)[0].target).hasClass("to_cart")&&0==$($(t)[0].target).hasClass("icon")&&(window.location.href=$link)}),$("#admin_add_category_param_btn").click(function(){$html=$("#admin_filters_div .row:first-child").clone(),$("#admin_filters_div").append($html)}),$("#filterbar .tabs .category.tab").click(function(){$("#cat_div").show(),$("#filterbar .tabs .tab").removeClass("active"),$(this).addClass("active")}),$('#filterbar .tabs .param.tab:not(".disabled")').click(function(){$("#cat_div").hide(),$("#filterbar .tabs .tab").removeClass("active"),$(this).addClass("active")}),$carousel=$(".covers").flickity({autoPlay:4e3,setGallerySize:!1}),$carousel_mobile=$(".top_banner_row_mobile").flickity({autoPlay:4e3,pageDots:!1}),$carousel.on("pointerUp.flickity",function(){$("#search_results").hide()}),$(".expand_all_toggle").click(function(){$target=$(this).data("target"),$(this).hasClass("expanded")?($('[data-target="'+$target+'"]').find(".title").removeClass("active"),$('[data-target="'+$target+'"]').find(".content").removeClass("active"),$(this).removeClass("expanded").text("Rozbal všetko")):($('[data-target="'+$target+'"]').find(".title").addClass("active"),$('[data-target="'+$target+'"]').find(".content").addClass("active"),$(this).addClass("expanded").text("Zbal všetko"))}),$(".tabs .tab").click(function(){$(".tabs .tab").removeClass("brown").addClass("basic"),$(this).addClass("brown").removeClass("basic"),$(".tabs .content").removeClass("active"),$('.tabs .content[data-tab="'+$(this).data("tab")+'"]').addClass("active")}),$("#new_page_btn").click(function(){$("#add_page_modal").modal("setting",{autofocus:!0,onApprove:function(){$name=$("#add_page_name_input").val(),$url=$("#add_page_url_input").val(),$.ajax({type:"POST",url:"/page",data:{name:$name,url:$url},success:function(){location.reload()}})}}).modal("show")}),$("#new_text_btn").click(function(){$("#add_text_modal").modal("setting",{autofocus:!0,onApprove:function(){$name=$("#add_text_name_input").val(),$.ajax({type:"POST",url:"/text",data:{name:$name},success:function(){location.reload()}})}}).modal("show")}),$(".disabled.rating").each(function(e,t){$(t).rateYo("rating",$(t).data("rating"))}),$(".dashboard_tabs .new.tab").click(function(){$(".dashboard_tabs .overall.tab").removeClass("blue").addClass("basic"),$(this).addClass("blue").removeClass("basic"),$(".admin_dashboard .new.boxes").removeClass("hidden"),$(".admin_dashboard .overall.boxes").addClass("hidden")}),$(".dashboard_tabs .overall.tab").click(function(){$(".dashboard_tabs .new.tab").removeClass("blue").addClass("basic"),$(this).addClass("blue").removeClass("basic"),$(".admin_dashboard .new.boxes").addClass("hidden"),$(".admin_dashboard .overall.boxes").removeClass("hidden")}),$(".add_delivery_method_btn").click(function(){$("#add_delivery_method_modal").modal("setting",{onVisible:function(){$(".ui.dropdown").dropdown()},onApprove:function(){$name=$("#add_delivery_method_name_input").val(),$desc=$("#add_delivery_method_desc_input").val(),$price=$("#add_delivery_method_price_input").val(),$icon=$("#add_delivery_method_modal").find(".ui.dropdown.add").dropdown("get value"),$note=$("add_delivery_method_note_input").val(),$.ajax({type:"POST",url:"/admin/delivery",data:{name:$name,desc:$desc,icon:$icon,note:$note,price:$price},success:function(){location.reload()}})}}).modal("show")}),$(".add_payment_method_btn").click(function(){$("#add_payment_method_modal").modal("setting",{onApprove:function(){$name=$("#add_payment_method_name_input").val(),$desc=$("#add_payment_method_desc_input").val(),$price=$("#add_payment_method_price_input").val(),$icon=$("#add_payment_method_modal").find(".ui.dropdown.add").dropdown("get value"),$note=$("add_payment_method_note_input").val(),$.ajax({type:"POST",url:"/admin/payment",data:{name:$name,desc:$desc,icon:$icon,note:$note,price:$price},success:function(){location.reload()}})}}).modal("show")}),$(".admin_method_list i.delete").click(function(){$item=$(this).closest(".step"),$id=$(this).closest(".step").data("id"),$type=$(this).closest(".step").data("type"),$("#delete_method_modal").modal("setting",{autofocus:!1,onApprove:function(){$.ajax({type:"DELETE",url:"/admin/"+$type+"/"+$id,success:function(){$item.remove()}})}}).modal("show")}),$(".page_delete_btn").click(function(){$id=$(this).closest(".item").data("id"),$("#delete_page_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/page/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(".text_delete_btn").click(function(){$id=$(this).closest(".item").data("id"),$("#delete_text_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/text/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(".sticker_delete_btn").click(function(){$id=$(this).closest(".item").data("id"),$("#delete_sticker_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/sticker/"+$id,success:function(){location.reload()}})}}).modal("show")});var C,A,T,S;$(".sticker_preview_div .sticker").draggable({containment:"parent",create:function(){stikcer_left=0,sticker_right=0},stop:function(){C=$(this).position().left,A=$(this).position().top}}),$(".sticker_preview_div .sticker").resizable({containment:"parent",create:function(){T=$(this).width(),S=$(this).height()},stop:function(){T=$(this).width(),S=$(this).height()}}),$("#edit_sticker_submit").click(function(){$id=$(this).data("id"),$sticker_product_row=$("#sticker_product_row").checkbox("is checked"),$sticker_product_detail=$("#sticker_product_detail").checkbox("is checked"),$.ajax({url:"/sticker/"+$id,method:"PUT",data:{left:C,top:A,width:T,height:S,product_row:$sticker_product_row,product_detail:$sticker_product_detail},success:function(){location.reload()}})}),$(".admin_method_list i.edit").click(function(){$item=$(this).closest(".step"),$id=$item.data("id"),$type=$item.data("type"),$("#edit_method_modal").modal("setting",{autofocus:!1,onShow:function(){$("#edit_method_name_input").val($item.data("name")),$("#edit_method_desc_input").val($item.data("desc")),$("#edit_method_price_input").val($item.data("price")),$("#edit_method_modal").find(".ui.dropdown.edit").dropdown("set value",$item.data("icon")),$("#edit_method_modal").find(".ui.dropdown.edit").dropdown("set text","<i class='big icon "+$item.data("icon")+"'></i>"),$("#edit_method_note_input").val($item.data("note"))},onApprove:function(){$name=$("#edit_method_name_input").val(),$desc=$("#edit_method_desc_input").val(),$price=$("#edit_method_price_input").val(),$icon=$("#edit_method_modal").find(".ui.dropdown.edit").dropdown("get value"),$note=$("#edit_method_note_input").val(),console.log($note),$.ajax({type:"PUT",url:"/admin/"+$type+"/"+$id,data:{name:$name,desc:$desc,icon:$icon,note:$note,price:$price},success:function(){location.reload()}})}}).modal("show")}),$(".tabbs .tabb").click(function(){$(".tabbs .tabb").removeClass("blue selected").addClass("basic"),$(this).addClass("blue selected").removeClass("basic"),$(".tabbs .contents .content").removeClass("active"),$('.tabbs .contents .content[data-tab="'+$(this).data("tab")+'"]').addClass("active")}),$(".delivery_payment_checkbox").checkbox({onChecked:function(){$delivery_method_id=$(this).closest("tr").data("delivery_method_id"),$payment_method_id=$(this).closest("tr").data("payment_method_id"),$.ajax({method:"POST",url:"/admin/deliverypayment",data:{delivery_method_id:$delivery_method_id,payment_method_id:$payment_method_id}})},onUnchecked:function(){$delivery_method_id=$(this).closest("tr").data("delivery_method_id"),
$payment_method_id=$(this).closest("tr").data("payment_method_id"),$.ajax({method:"DELETE",url:"/admin/deliverypayment",data:{delivery_method_id:$delivery_method_id,payment_method_id:$payment_method_id}})}}),$("input.delivery_price").keyup(function(){$delivery_method_id=$(this).closest("tr").data("delivery_method_id"),$payment_method_id=$(this).closest("tr").data("payment_method_id"),$price=$(this).val(),$.ajax({method:"PUT",url:"/admin/deliverypayment",data:{delivery_method_id:$delivery_method_id,payment_method_id:$payment_method_id,price:$price}})});var j=document.getElementById("admin_add_cover_h1_size_slider"),E=document.getElementById("admin_add_cover_h2_size_slider");$("#admin_add_cover_h1_size_slider").length&&(noUiSlider.create(j,{start:$('#admin_add_cover_form input[name="h1_size"]').val(),connect:!0,range:{min:0,max:6}}),noUiSlider.create(E,{start:$('#admin_add_cover_form input[name="h2_size"]').val(),connect:!0,range:{min:0,max:6}}),j.noUiSlider.on("update",function(e){$(".cover_div h1").css("font-size",e[0]+"vw"),$('#admin_add_cover_form input[name="h1_size"]').val(e[0])}),E.noUiSlider.on("update",function(e){$(".cover_div h2").css("font-size",e[0]+"vw"),$('#admin_add_cover_form input[name="h2_size"]').val(e[0])})),$("#admin_add_cover_h1").on("keyup",function(e,t){$(".cover_div h1").html($(this).val()),$('#admin_add_cover_form input[name="h1_text"]').val($(this).val())}),$("#admin_add_cover_h2").on("keyup",function(e,t){$(".cover_div h2").html($(this).val()),$('#admin_add_cover_form input[name="h2_text"]').val($(this).val())}),$(".delete_banner_btn").click(function(){$btn=$(this),$("#delete_banner_modal").modal("setting",{autofocus:!1,onApprove:function(){$id=$btn.closest(".banner").data("id"),$.ajax({type:"DELETE",url:"/admin/banner/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(".admin_cover_list").sortable({stop:function(){$data={},$(".admin_cover_list .banner").each(function(e,t){$data[$(t).data("id")]=e}),$.ajax({method:"PUT",url:"/admin/covers/setorder",data:$data})}}),$(".admin_banner_list").sortable({stop:function(){$data={},$(".admin_banner_list .banner").each(function(e,t){$data[$(t).data("id")]=e}),$.ajax({method:"PUT",url:"/admin/banners/setorder",data:$data})}});var P=function(e,t){return t.children().each(function(){console.log(e),$(this).width($(this).width())}),t};if($("#admin_new_wrapper table tbody").sortable({helper:P,stop:function(){$data={},$("#admin_new_wrapper table tbody tr").each(function(e,t){$data[$(t).data("id")]=e}),$.ajax({method:"PUT",url:"/products/new/setorder",data:$data})}}),$("#admin_new_wrapper table tbody .checkbox").checkbox({onChecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{new_carousel:1}})},onUnchecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{new_carousel:0}})}}),$("#admin_sale_wrapper table tbody").sortable({helper:P,stop:function(){$data={},$("#admin_sale_wrapper table tbody tr").each(function(e,t){$data[$(t).data("id")]=e}),$.ajax({method:"PUT",url:"/products/sale/setorder",data:$data})}}),$("#admin_sale_wrapper table tbody .checkbox").checkbox({onChecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{sale_carousel:1}})},onUnchecked:function(){$id=$(this).closest("tr").data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{sale_carousel:0}})}}),"dashboard"==$("body").attr("id")&&(function(){$charts={},$("canvas").each(function(e,t){var a=t,i=a.getContext("2d"),o=_();a.height=$(a).parent().height(),$charts[$(t).closest(".box").data("resource")+$(t).closest(".box").data("type")]=new Chart(i,{type:"line",data:{labels:[],datasets:[{label:"Počet",backgroundColor:o,borderColor:o,data:[],fill:!1,lineTension:0}]},options:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{stepSize:1}}]}}})})}(),function(){$("canvas").each(function(e,t){var a=$(t).closest(".box").data("days"),i=$(t).closest(".box").data("resource"),o=$(t).closest(".box").data("type"),n=$(t).closest(".box").data("resource")+$(t).closest(".box").data("type");$.get("/api/"+i+"/"+o+"/"+a,{},function(e){var t=g(a).reverse(),i=v(e,a).reverse();f(n,t,i)})})}()),$(".chart_days_btn").click(function(){var e=($(this).closest(".box"),$(this).data("days")),t=$(this).closest(".box").data("resource"),a=$(this).closest(".box").data("type"),i=t+a;$.get("/api/"+t+"/"+a+"/"+e,{},function(t){var a=g(e).reverse(),o=v(t,e).reverse();f(i,a,o)}),$(this).closest(".fr").find(".chart_days_btn").removeClass("selected"),$(this).addClass("selected")}),$(".layout_div").click(function(){$layout=$(this).data("layout"),$.post("/admin/layout/set",{layout:$layout},function(){location.reload()})}),$(".ui.new.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(e,t){$.ajax({method:"PUT",url:"/api/product/"+e.id,data:{new:1},success:function(t){$row=$("#new_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(e.id),$row.find("td:nth-child(2)").text(e.name),$row.data("id",e.id),$("#new_product_table tbody tr:last-child").before($row),$(".ui.new.product.search input").val("")}})}}).unbind("ajaxStart"),$("#new_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{new:0},success:function(e){$row.remove()}})}),$(".ui.sale.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(e,t){$.ajax({method:"PUT",url:"/api/product/"+e.id,data:{sale:1},success:function(t){$row=$("#sale_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(e.id),$row.find("td:nth-child(2)").text(e.name),$row.data("id",e.id),$("#sale_product_table tbody tr:last-child").before($row),$(".ui.sale.product.search input").val("")}})}}),$("#sale_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{sale:0},success:function(e){$row.remove()}})}),$(".ui.inactive.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(e,t){$.ajax({method:"PUT",url:"/api/product/"+e.id,data:{active:0},success:function(t){$row=$("#inactive_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(e.id),$row.find("td:nth-child(2)").text(e.name),$row.data("id",e.id),$("#inactive_product_table tbody tr:last-child").before($row)}})}}),$("#inactive_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{active:1},success:function(e){$row.remove()}})}),$(".ui.bestseller.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(e,t){$.ajax({method:"PUT",url:"/api/product/"+e.id,data:{bestseller:1},success:function(t){$row=$("#bestseller_product_table tbody tr:first-child").clone(),$row.find("td:first-child").text(e.id),$row.find("td:nth-child(2)").text(e.name),$row.data("id",e.id),$("#bestseller_product_table tbody tr:last-child").before($row),$(".ui.bestseller.product.search input").val("")}})}}).unbind("ajaxStart"),$("#bestseller_product_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/product/"+$id,data:{bestseller:0},success:function(e){$row.remove()}})}),$(".ui.bestseller.category.search").search({apiSettings:{url:"/api/categories/search?query={query}"},fields:{results:"results",title:"full_url",image:"",action:"",actionText:"",actionURL:"",url:""},onSelect:function(e,t){$.ajax({method:"PUT",url:"/api/category/"+e.id,data:{bestseller:1},success:function(t){$row=$("#bestseller_category_table tbody tr:first-child").clone(),$row.find("td:first-child").text(e.id),$row.find("td:nth-child(2)").text(e.name),$row.data("id",e.id),$("#bestseller_category_table tbody tr:last-child").before($row),$(".ui.bestseller.category.search input").val("")}})}}).unbind("ajaxStart"),$("#bestseller_category_table").on("click",".red.button",function(){$row=$(this).closest("tr"),$id=$row.data("id"),$.ajax({method:"PUT",url:"/api/category/"+$id,data:{bestseller:0},success:function(e){$row.remove()}})}),$(".ui.cart.product.search").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"name",url:""},onSelect:function(e,t){$cartid=$(".cart.content").data("cartid"),$.ajax({method:"POST",url:"/cart/"+$cartid+"/"+e.id,data:{qty:1},success:function(e){location.reload()}})}}),$("#import_json_btn").click(function(){$json=$.parseJSON($("#import_json").find("textarea").val()),$table=$("#import_json_table"),$tbody=$table.find("tbody"),$table.show(),$($json).each(function(e,t){$tbody.find("tr:last-child td:nth-child(2)").html('<img src="'+t.img+'" width="100" />'),$tbody.find("tr:last-child td:nth-child(3)").text(t.id),$tbody.find("tr:last-child td:nth-child(4)").text(t.nome),$tbody.find("tr:last-child td:nth-child(5)").text(t.descr),$tbody.find("tr:last-child").clone().appendTo($tbody)}),$(".ui.checkbox").checkbox()}),$("#import_json_accept").click(function(){var e=$("#import_json_table").tableToJSON();console.log(e),$.post("/admin/import/json",{json:$("#import_json").find("textarea").val()},function(e){console.log(e)})}),$(".add_color_btn").click(function(){$("#add_color_modal").modal("setting",{onApprove:function(){$key=$("#add_color_key_input").val(),$value=$("#add_color_value_input").val(),$.ajax({type:"POST",url:"/admin/color/",data:{key:$key,value:$value},success:function(){location.reload()}})}}).modal("show")}),function(){var e=document.getElementsByClassName("cart_length_slider");$min=[],$old=[];for(var t=0;t<e.length;t++)$ii=t,$qty=$(e[t]).data("qty"),$step=$(e[t]).data("step"),$thresholds=$(e[t]).data("thresholds"),$prices=JSON.parse($(e[t]).data("prices")),$min[t]=$(e[t]).data("min"),noUiSlider.create(e[t],{start:$qty,step:$step,connect:"lower",orientation:"horizontal",tooltips:!0,range:{min:0,max:500},format:wNumb({decimals:0})}),e[t].noUiSlider.on("slide",function(e,t){$level=b($thresholds,e[t]),$index=$thresholds.indexOf($level),$newprice=$prices[$index],$($(this)[0].target).closest(".item.product").find(".final_price").html($newprice+" &euro;")}),$cartid=$(".cart.content").data("cartid"),$old[t]=e[t].noUiSlider.get(),e[t].noUiSlider.on("change",function(t,a){t[a]<$($(this)[0].target).data("min")?e[$ii].noUiSlider.set($old[$ii]):($("#grid_wrapper .dimmer").addClass("active"),$.ajax({type:"PUT",url:"/cart/"+$cartid+"/"+$($(this)[0].target).data("productid"),data:{qty:t[a]},success:function(){location.reload()}}))})}(),$("#add_price_level_btn").click(function(){$.get("/api/view/pricelevel",{},function(e){$("#product_price_levels_list").append(e)})}),$(".admin_checkbox_onthefly").checkbox({onChecked:function(){$resource=$(this).parent().data("resource"),$name=$(this).attr("name"),$id=$(this).parent().data("id"),$data={},$data[$name]=1,$.ajax({method:"PUT",url:"/"+$resource+"/"+$id,data:$data})},onUnchecked:function(){$resource=$(this).parent().data("resource"),$name=$(this).attr("name"),$id=$(this).parent().data("id"),$data={},$data[$name]=0,$.ajax({method:"PUT",url:"/"+$resource+"/"+$id,data:$data})}}),"body_bulk"==$("body").attr("id")){var D=function(e,t,a,i,o,n,r){return $(t).html('<a class="blue icon mini button" href="/p/'+n+'"><i class="search icon"><i></a>'),$(t).append('<a class="teal icon mini button" href="/admin/eshop/product/'+n+'"><i class="edit icon"><i></a>'),t},U=function(e,t,a,i,o,n,r){var a=[];return $(n).each(function(e,t){a[e]=t.path+"<br/>"}),$(t).html(a),t},F=function(e,t,a,i,o,n,r){return $(function(){$(".lazy").Lazy()}),n&&(n.path&&-1!==n.path.toString().indexOf("http")?$(t).html('<div class="image"><img class="lazy" data-src="'+n.path+'" /></div>'):$(t).html('<div class="image"><img class="lazy" data-src="/'+n.path+'" /></div>')),t};container=document.getElementById("bulk_products_table");var z=[],O=[],I=[],N=[];$data={},$data.changes=[],$data.categoryChanges={},$data.categoryChanges.categories=[],$data.categoryChanges.products=[],$data.categoryAdds={},$data.categoryAdds.categories=[],$data.categoryAdds.products=[],$data.categoryRemoved={},$data.categoryRemoved.categories=[],$data.categoryRemoved.products=[],$data.addEcoImages={},$data.removeEcoImages={},hot=new Handsontable(container,{columns:[{data:"url",renderer:D},{data:"active",type:"checkbox",checkedTemplate:1,uncheckedTemplate:0},{data:"image",renderer:F},{data:"code"},{data:"name"},{data:"price_levels.0.moc_regular"},{data:"price_levels.0.moc_sale"},{data:"sale",type:"checkbox",checkedTemplate:1,uncheckedTemplate:0},{data:"categories",renderer:U}],colHeaders:["","Aktívny","Obrázok","Kód","Názov","Cena","Cena v zlave","Zlava","Kategórie"],colWidths:[5,7,7,10,"",10,10,5,""],rowHeaders:!0,minSpareRows:1,stretchH:"all",columnSorting:!0,rowHeights:60,outsideClickDeselects:!1,afterChange:function(e,t){"edit"!=t&&"CopyPaste.paste"!=t||(e[0][2]!=e[0][3]&&(z.push({rowid:e[0][0],colid:this.propToCol(e[0][1])}),$data.changes.push(this.getSourceDataAtRow(e[0][0]))),$.each(z,function(e,t){$this.getCell(t.rowid,t.colid,!1).className="changed"}),console.log($data.changes))},afterRender:function(){$this=this,$.each(z,function(e,t){$this.getCell(t.rowid,t.colid,!1).className="changed"})},afterSelection:function(e,t,a,i,o,n){I=[],O=[],$ins=this,$("#bulk_products_wrapper .actions >.right").show();var r;$(this.getSelected()).each(function(e,t){for(r=t[0];r<=t[2];r++)O.push($ins.getSourceDataAtRow(r)),I.push($ins.getSourceDataAtRow(r).id)});var d;for(d=e;d<=a;d++)O.push(this.getSourceDataAtRow(d)),I.push(this.getSourceDataAtRow(d).id)},afterDeselect:function(){$("#bulk_products_wrapper .actions .right").hide(),O=[],I=[]}});var R=document.getElementById("bulk_load_btn");Handsontable.dom.addEvent(R,"click",function(){$(R).addClass("loading"),$filters={categories:$(".filter_item.category").dropdown("get value"),name:$(".filter_item.name").find("input").val(),without_category:$(".filter_item.without_category").checkbox("is checked"),inactive_only:$(".filter_item.inactive").checkbox("is checked")},$.ajax({url:"/api/products/filter",method:"GET",data:$filters,success:function(e){$("#bulk_products_table").show(),$("#bulk_save_btn").css("display","inline-block"),$(R).removeClass("loading"),hot.getInstance().loadData(e),hot.getInstance().render()}})}),$("#bulk_change_category_dropdown").dropdown({maxSelections:10,fullTextSearch:!0,onAdd:function(e,t,a){N.push(e)}}),$("#bulk_change_category_btn").click(function(){$("#bulk_change_category_modal").modal("setting",{autofocus:!1,onShow:function(){$.ajax({method:"GET",url:"/api/products/simplelist",data:{id:I},success:function(e){$("#bulk_change_category_modal").find(".product_list").html(e)}})},onApprove:function(){$data.categoryChanges.products=I,$data.categoryChanges.categories.push($("#bulk_change_category_dropdown").dropdown("get value"))}}).modal("show")}),$("#bulk_add_category_btn").click(function(){$("#bulk_add_category_modal").modal("setting",{autofocus:!1,onShow:function(){$.ajax({method:"GET",url:"/api/products/simplelist",data:{id:I},success:function(e){$("#bulk_add_category_modal").find(".product_list").html(e)}})},onApprove:function(){$data.categoryAdds.products=I,$data.categoryAdds.categories.push($("#bulk_add_category_dropdown").dropdown("get value"))}}).modal("show")}),$("#bulk_add_eco_images_btn").click(function(){$data.addEcoImages=I}),$("#bulk_remove_eco_images_btn").click(function(){$data.removeEcoImages=I});var q=document.getElementById("bulk_save_btn");Handsontable.dom.addEvent(q,"click",function(){$(q).addClass("loading"),console.log(JSON.stringify($data)),$.ajax({url:"/api/bulk",method:"POST",data:JSON.stringify($data),success:function(e){$(q).removeClass("loading"),$("#bulk_products_table").find("td").removeClass("changed")}})})}$("#bulk_filter_category").dropdown({maxSelections:10,fullTextSearch:!0,onAdd:function(e,t,a){}}),$("#cookies_consent_btn").click(function(){$(document).unbind("ajaxStart"),$("#cookies_msg").hide(),$.ajax({method:"POST",url:"/cookies",data:{name:"cookies_consent",value:1,expiry:9999999},success:function(){$(document).bind("ajaxStart")}})}),$("#product_sticker_load_btn").click(function(){$filters={categories:$(".filter_item.category").dropdown("get value"),name:$(".filter_item.name input").val()},$("#filters_stickers_active_checkbox").checkbox("is checked")&&($filters.with_stickers_only=1),$button=$(this),$button.addClass("loading"),$.ajax({url:"/api/products/filter",method:"GET",data:$filters,success:function(e){$(".product_list .list").html(""),$(e).each(function(e,t){$stickers=[],0!=t.stickers.length&&$(t.stickers).each(function(e,t){-1!==t.path.toString().indexOf("http")?$stickers.push("<img src="+t.path+" data-productid="+t.pivot.product_id+" data-stickerid="+t.pivot.sticker_id+">"):$stickers.push("<img src=/"+t.path+" data-productid="+t.pivot.product_id+" data-stickerid="+t.pivot.sticker_id+">")}),$html="<div class='item' data-id='"+t.id+"'>",$html+="<div class='ui checkbox'><input type='checkbox'><label></label></div>",$html+="<div class='name'>"+t.name+"</div>",$html+="<div class='active_stickers'>"+$stickers.toString()+"</div>",$html+="</div>",$(".product_list .list").append($html),$(".product_list .list .checkbox").checkbox({onChecked:function(){$item=$(this).closest(".item"),$item.addClass("selected")},onUnchecked:function(){$item=$(this).closest(".item"),$item.removeClass("selected")}})}),$button.removeClass("loading"),$("#product_sticker_save_btn").css("display","inline-block"),$(".active_stickers img").click(function(){$image=$(this),$productid=$(this).data("productid"),$stickerid=$(this).data("stickerid"),$.ajax({url:"/product/"+$productid+"/sticker/"+$stickerid,method:"DELETE",success:function(e){$image.remove()}})})}})}),$(".sticker_list .sticker").click(function(){$(this).toggleClass("selected")}),$("#product_sticker_save_btn").click(function(){$data={},$data.products=[],$data.stickers=[],$data.sticker_paths=[],$(".sticker_list .sticker.selected").each(function(e,t){$data.stickers[e]=$(t).data("id"),$data.sticker_paths[e]=$(t).find("img").attr("src")}),$(".product_list .list .item.selected").each(function(e,t){$data.products[e]=$(t).data("id")}),$.ajax({url:"/stickers/attach",method:"POST",data:$data,success:function(e){$(".product_list .list .item.selected").each(function(e,t){$(t).find(".active_stickers").append("<img src="+$data.sticker_paths+">")})}})}),$("body").attr("id"),$(".filterbar_handle").mouseover(function(){$(".absolute").show()}),$(".absolute #filterbar").mouseleave(function(){setTimeout(function(){$(".absolute").hide()},600)}),$(".admin_delete_category_param_btn").click(function(){$.ajax({method:"DELETE",url:"/category/parameter/"+$(this).data("paramid"),success:function(){location.reload()}})}),$(".category i.setting").click(function(e){e.preventDefault(),location.replace($(this).data("href"))}),$("#change_grid_view_btn").click(function(){$("#grid_wrapper").find(".item").addClass("grid").removeClass("list"),$(this).addClass("active"),$("#change_list_view_btn").removeClass("active")}),$("#change_list_view_btn").click(function(){$("#grid_wrapper").find(".item").addClass("list").removeClass("grid"),$(this).addClass("active"),$("#change_grid_view_btn").removeClass("active")}),$("#cart_continue_btn").click(function(){$price=$("#cart_total_price price").text(),$.ajax({type:"POST",url:"/cart/",data:{price:$price},success:function(){}})}).unbind("ajaxStart"),$().prettyEmbed({useFitVids:!0}),$(document).on("click",".pretty-embed",function(){lity("//www.youtube.com/watch?v="+$(this).data("pe-videoid"))}),$("#add_param_btn").click(function(){$("#add_param_modal").modal("setting",{autofocus:!1,onApprove:function(){$key=$('#add_param_modal input[name="key"]').val(),$display_key=$('#add_param_modal input[name="display_key"]').val(),$.ajax({type:"POST",url:"/param/",data:{key:$key,display_key:$display_key},success:function(){location.reload()}})}}).modal("show")}),$(".edit_param_btn").click(function(){$id=$(this).closest(".param.item").data("paramid"),$val=$(this).closest(".param.item").data("val"),$("#edit_param_modal").modal("setting",{autofocus:!1,onShow:function(){$('#edit_param_modal input[name="display_key"]').val($val)},onApprove:function(){$display_key=$('#edit_param_modal input[name="display_key"]').val(),$.ajax({type:"PUT",url:"/param/"+$id,data:{display_key:$display_key},success:function(){location.reload()}})}}).modal("show")}),$(".delete_param_btn").click(function(){$id=$(this).closest(".param.item").data("paramid"),$("#delete_param_modal").modal("setting",{autofocus:!1,onApprove:function(){$.ajax({type:"DELETE",url:"/param/"+$id,success:function(){location.reload()}})}}).modal("show")}),$(document).on("click","#params_list .param.item:not(.manage)",function(e){(e.target==this||$(e.target).hasClass("name")||$(e.target).hasClass("eye"))&&($paramid=$(this).data("paramid"),$catid=$(this).data("categoryid"),$this=$(this),$this.find(".dimmer").addClass("active"),$this.hasClass("active")?$.ajax({type:"DELETE",url:"/category/parameter/"+$paramid,data:{category_id:$catid},success:function(){$this.removeClass("active"),$this.find(".dimmer").removeClass("active")}}):$.ajax({type:"POST",url:"/category/parameter/add",data:{parameter_id:$paramid,category_id:$catid},success:function(){$this.addClass("active"),$this.find(".dimmer").removeClass("active")}}))}),$("#admin_category_params_selection").length>0&&$(".dropdown").dropdown({onAdd:function(e,t,a){$catid=$("#category_image_div").data("categoryid"),$.ajax({type:"POST",url:"/category/parameter/add",data:{parameter_id:e,category_id:$catid},success:function(){}})},onRemove:function(e,t,a){$catid=$("#category_image_div").data("categoryid"),$.ajax({type:"DELETE",url:"/category/parameter/"+e,data:{category_id:$catid},success:function(){}})}}),$("#admin_order_params_save").click(function(){$data={},$data.min_order_price=$('input[name="min_order_price"]').val(),$data.min_free_shipping_price=$('input[name="min_free_shipping_price"]').val(),$.post("/set/config",$data,function(){})}),$(document).on("click",".delete_product_param",function(){$(this).closest(".row").remove()}),$("#send_remider_btn").click(function(){$(this).addClass("loading")}),$(document).on("click",".delete_price_level_btn",function(){$(this).closest(".product_price_level").remove()}),$(".delete_order_btn").click(function(){$orderid=$(this).closest("tr").data("order_id"),$("#delete_order_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/order/"+$orderid,success:function(){location.reload()}})}}).modal("show")}),$(".close_order_btn").click(function(){$orderid=$(this).closest("tr").data("order_id"),$("#change_order_modal").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:5},success:function(){location.reload()}})}}).modal("show")}),$(".delete_user_btn").click(function(){$userid=$(this).closest("tr").data("user_id"),$("#delete_user_modal").modal("setting",{onApprove:function(){$.ajax({type:"DELETE",url:"/user/"+$userid,success:function(){location.reload()}})}}).modal("show")}),$(".order_change_status_btn").click(function(){$orderid=$(".order_detail").data("orderid"),$status_id=$(this).data("statusid"),0==$status_id&&$("#change_order_modal").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:$status_id},success:function(){location.reload()}})}}).modal("show"),1==$status_id&&$("#change_order_modal_sent").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:$status_id,package_number:$('input[name="package_number"]').val()},success:function(){location.reload()}})}}).modal("show"),4==$status_id&&$("#change_order_modal_cancelled").modal("setting",{onApprove:function(){$.ajax({type:"PUT",url:"/order/"+$orderid,data:{status_id:$status_id,cancel_text:$('input[name="cancel_text"]').val()},success:function(){location.reload()}})}}).modal("show")}),$("#main_search input").keyup(function(e){13==e.which?location.replace("/search/"+$query):($(document).unbind("ajaxStart"),$query=$(this).val(),$(".search_view_all_btn").attr("href","/search/"+$query),$.ajax({type:"GET",url:"/api/search/"+$query,success:function(e){$("#search_results.desktop").show(),$("#search_results.desktop").find(".products").html(e.products),$("#search_results.desktop").find(".users").html(e.users),$(document).bind("ajaxStart")}}))}),$("body").mouseup(function(e){var t=$("#search_results.desktop");t.is(e.target)||0!==t.has(e.target).length||t.hide()});var B,L;"body_contact"==$("body").attr("id")&&(function(){B=new google.maps.Geocoder;var e=new google.maps.LatLng(-34.397,150.644),t={zoom:18,center:e};L=new google.maps.Map(document.getElementById("map"),t)}(),function(){var e=$("#address_map").text();B.geocode({address:e},function(e,t){"OK"==t?(L.setCenter(e[0].geometry.location),new google.maps.Marker({map:L,position:e[0].geometry.location})):alert("Geocode was not successful for the following reason: "+t)})}()),tinymce.init({selector:".richtext.editable",auto_focus:"mce_0",menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor textcolor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code help wordcount"],toolbar:"fontselect | code | insert | undo redo |  formatselect | bold italic backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",init_instance_callback:function(e){$(".text_files_list .item").click(function(){$path=$(this).data("content"),$extension=$path.split(".").pop(),$filename=$path.split("/").pop(),"jpg"==$extension?$content="<img src='/"+$path+"' width='100'>":$content="<a href='"+$path+"'>"+$filename+"</a>",e.insertContent($content)})}}),$(".text_save_btn").click(function(){$(".text_form").submit()}),$(".page_texts_list .item").click(function(){$button=$(this),$pageid=$(this).data("pageid"),$textid=$(this).data("textid"),$button.hasClass("active")?$.ajax({type:"POST",url:"/page/"+$pageid+"/detach/"+$textid,success:function(e){$button.removeClass("active"),$('.text_form[data-textid="'+$textid+'"]').remove()}}):$.ajax({type:"POST",url:"/page/"+$pageid+"/attach/"+$textid,success:function(e){$button.addClass("active"),$.ajax({method:"GET",url:"/text/"+$textid,success:function(e){$(".page_preview").append(e)}})}})}),$(".copy_to_clipboard_btn").click(function(){$(this).closest(".input").find("input").select(),document.execCommand("copy"),$(this).closest(".button").toggleClass("teal green"),$(this).toggleClass("copy checkmark")}),y(parseInt($("#suggested_wrapper_speed").find("value").html())),$("#grid_wrapper").on("click",".product.item",function(e){$link=$(this).find(".p_anch").attr("href"),0==$(e.target).hasClass("to_cart")&&0==$(e.target).hasClass("icon")&&(window.location.href=$link)});var H=$.ModuloBox({mediaSelector:".mobx",history:!0,controls:["zoom","play","fullScreen","download","share","close"],loop:1});H.init(),$("#product_main_wrapper .main").click(function(e){e.preventDefault(),$gallery=$("#product_main_wrapper").data("gallery"),$index=$("#product_main_wrapper").data("index"),H.open($gallery,$index),H.play()}),$(".active_flag").click(function(){$item=$(this).closest(".item"),$icon=$(this).find("i"),$type=$(this).closest(".item").data("type"),$id=$(this).closest(".item").data("id"),$state=$(this).closest(".item").data("active"),1==$state?$.ajax({type:"PUT",url:"/"+$type+"/set/"+$id,data:{active:0},success:function(e){$icon.toggleClass("red green"),$item.data("active",0)}}):$.ajax({type:"PUT",url:"/"+$type+"/set/"+$id,data:{active:1},success:function(e){$icon.toggleClass("red green"),$item.data("active",1)}})}),$("#filterbar.horizontal .item").each(function(){var e=$(this);e.popup({popup:"#cat_popup_"+e.data("cat"),on:"hover",hoverable:!0,exclusive:!0,position:"bottom left",duration:0,lastResort:"bottom left"})}),$("#suggested_wrapper_speed i").click(function(){$div=$(this).closest("#suggested_wrapper_speed"),$this=$(this),$speed=parseInt($div.find("value").html()),$this.hasClass("plus")?($newSpeed=$speed+100,y($newSpeed),$div.find("value").html($newSpeed)):($newSpeed=$speed-100,y($newSpeed),$div.find("value").html($newSpeed)),$.ajax({type:"PUT",url:"/admin/setting/",data:{suggested_wrapper_speed:$newSpeed}})}),$(".admin_page_settings").checkbox({onChecked:function(){$item=$(this).data("item"),$target=$(this).data("target"),$view=$(this).data("view"),$changes={},$changes[$item]=1,w($changes,$view,!0,$target)},onUnchecked:function(){$item=$(this).data("item"),$target=$(this).data("target"),$view=$(this).data("view"),$changes={},$changes[$item]=0,w($changes,$view,!0,$target)}}),$("#cover_product_url").search({apiSettings:{url:"/api/products/search?query={query}"},fields:{results:"results",title:"url",image:"",action:"",actionText:"",actionURL:"",url:""},onSelect:function(e,t){$("#admin_add_cover_form").find('input[name="url"]').val(e.full_url)}}).unbind("ajaxStart"),$("#cover_category_url").search({apiSettings:{url:"/api/categories/search?query={query}"},fields:{results:"results",title:"full_url",image:"",action:"",actionText:"",actionURL:"",url:""},onSelect:function(e,t){$("#admin_add_cover_form").find('input[name="url"]').val(e.full_url)}}).unbind("ajaxStart"),$("#cover_other_url input").change(function(){$("#admin_add_cover_form").find('input[name="url"]').val($(this).val())}),$(".catalogue_path_btn").click(function(){$("#catalogue_url_input").css("display","flex"),$(".catalogue_ok_btn").css("display","inline-block"),$(".catalogue_upload_btn").hide(),$(".catalogue_path_btn").hide()}),$(".sticker_path_btn").click(function(){$("#sticker_url_input").css("display","flex"),$(".sticker_ok_btn").css("display","inline-block"),$(".sticker_upload_btn").hide(),$(".sticker_path_btn").hide()}),$(".catalogue_ok_btn").click(function(){$path=$("#catalogue_url_input input").val(),$.ajax({type:"POST",url:"/file",data:{type:"catalogue",path:$path,do_not_upload:!0},success:function(e){location.reload()}})}),$(".sticker_ok_btn").click(function(){$path=$("#sticker_url_input input").val(),$.ajax({type:"POST",url:"/sticker",data:{path:$path,do_not_upload:!0},success:function(e){location.reload()}})}),$("#xml_update_check_btn").click(function(){$url=$("#xml_url_input").val(),$external=$("#xml_url_input").data("external"),$(this).addClass("loading"),$.ajax({type:"PUT",url:"/admin/eshop/postXmlUpdate/",data:{external:$external,url:$url},success:function(e){$("#xml_results").show(),$("#xml_results").find(".new_categories_count value").text(e.changes.new_categories.length),$("#xml_results").find(".new_products_count value").text(e.changes.new_products.length),$("#xml_results").find(".removed_categories_count value").text(e.changes.removed_categories.length),$("#xml_results").find(".removed_products_count value").text(e.changes.removed_products),$("#xml_results").find(".new_categories_list .list").html(e.newCategories),$("#xml_results").find(".new_products_list .list").html(e.newProducts),$("#xml_results").find(".removed_categories_list .list").html(e.removedCategories),$("#xml_results").find(".removed_products_list .list").html(e.removedProducts),$("#xml_update_check_btn").removeClass("loading"),$("#xml_update_confirm_btn").css("display","inline-block")}})}),$("#edit_product_categories_input").dropdown({maxSelections:10,fullTextSearch:!0,onAdd:function(e,t,a){console.log(e)}}),$("#add_banner_radioboxes").find(".checkbox:eq(0)").checkbox({onChecked:function(){$("#cover_category_url").show(),$("#cover_product_url").hide(),
$("#cover_other_url").hide()}}),$("#add_banner_radioboxes").find(".checkbox:eq(1)").checkbox({onChecked:function(){$("#cover_category_url").hide(),$("#cover_product_url").show(),$("#cover_other_url").hide()}}),$("#add_banner_radioboxes").find(".checkbox:eq(2)").checkbox({onChecked:function(){$("#cover_category_url").hide(),$("#cover_product_url").hide(),$("#cover_other_url").show()}}),$(".scroll_to_top").click(function(){$("html, body").animate({scrollTop:0},"fast")}),$("#home_sales_div").on("click",".right.icon",function(){$sales_carousel.flickity("next")}).on("click",".left.icon",function(){$sales_carousel.flickity("previous")}),$("#home_news_div").on("click",".right.icon",function(){$news_carousel.flickity("next")}).on("click",".left.icon",function(){$news_carousel.flickity("previous")}),$("#cartproducts").on("click","i.qty",function(){$productid=$(this).closest(".product").data("productid"),$cartid=$(".cart.content").data("cartid"),$qty=$(this).closest(".actions").find(".cart_qty_input").val(),$(this).hasClass("plus")?$newqty=parseFloat($qty)+1:$newqty=parseFloat($qty)-1,$.ajax({type:"PUT",url:"/cart/"+$cartid+"/"+$productid,data:{qty:$newqty},success:function(){location.reload()}})}),$("#cartproducts").on("blur",".cart_qty_input",function(){$productid=$(this).closest(".product").data("productid"),$cartid=$(".cart.content").data("cartid"),$qty=$(this).val(),$.ajax({type:"PUT",url:"/cart/"+$cartid+"/"+$productid,data:{qty:$qty},success:function(){location.reload()}})}),$("#product_detail_translate_btn").click(function(){$productid=$("#product_main_wrapper").data("id"),$.ajax({type:"PUT",url:"/product/"+$productid+"/translate",success:function(){location.reload()}})}),$(".pages_list .checkbox").checkbox({onChecked:function(){$pageid=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/page/"+$pageid,data:{footer:1},success:function(){location.reload()}})},onUnchecked:function(){$pageid=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/page/"+$pageid,data:{footer:0},success:function(){location.reload()}})}}),$("#product_main_wrapper .sizes .size.active").click(function(){$code=$(this).data("code"),$("#product_main_wrapper #code scode").text($code),$("#product_main_wrapper .sizes .size").removeClass("selected"),$(this).addClass("selected")}),$("#seo_wrapper .checkbox").checkbox({onChecked:function(){$id=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/seo/tool/"+$id,data:{active:1},success:function(){location.reload()}})},onUnchecked:function(){$id=$(this).closest(".item").data("id"),$.ajax({type:"PUT",url:"/api/seo/tool/"+$id,data:{active:0},success:function(){location.reload()}})}}),$("#new_xml_field_btn").click(function(){$html=$("#seo_tool_profile_wrapper").find(".xml_field").html(),$("#seo_tool_profile_wrapper .field_list").append($html)}),$("#product_update_btn").click(function(){$id=$(this).data("id"),$(this).addClass("loading disabled"),$.ajax({type:"POST",url:"/api/product/"+$id+"/xmlupdate",success:function(e){location.reload(),console.log(e)}})})}),$(document).scroll(function(){$(this).scrollTop()>800?$(".scroll_to_top").fadeIn():$(".scroll_to_top").fadeOut()});var sticky,div;$(document).on("scroll",function(){$(document).scrollTop()>100?$("#header.shrinkable").addClass("shrink"):$("#header.shrinkable").removeClass("shrink")}),$(window).on("load",function(){function e(){div=$(".sticky_div"),window.pageYOffset>=sticky?(div.addClass("stickyy"),$("#product_content #filterbar").css("position","fixed")):(div.removeClass("stickyy"),$("#product_content #filterbar").css("position","absolute"))}$(".sticky_div").length&&(sticky=$(".sticky_div").offset().top-20,window.onscroll=function(){e()})}),function(e,t,a,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.checkbox=function(i){var o,n=e(this),r=n.selector||"",d=(new Date).getTime(),c=[],s=arguments[0],l="string"==typeof s,u=[].slice.call(arguments,1);return n.each(function(){var n,p,h=e.extend(!0,{},e.fn.checkbox.settings,i),$=h.className,f=h.namespace,m=h.selector,g=h.error,v="."+f,_="module-"+f,b=e(this),y=e(this).children(m.label),w=e(this).children(m.input),k=w[0],x=!1,C=!1,A=b.data(_),T=this;p={initialize:function(){p.verbose("Initializing checkbox",h),p.create.label(),p.bind.events(),p.set.tabbable(),p.hide.input(),p.observeChanges(),p.instantiate(),p.setup()},instantiate:function(){p.verbose("Storing instance of module",p),A=p,b.data(_,p)},destroy:function(){p.verbose("Destroying module"),p.unbind.events(),p.show.input(),b.removeData(_)},fix:{reference:function(){b.is(m.input)&&(p.debug("Behavior called on <input> adjusting invoked element"),b=b.closest(m.checkbox),p.refresh())}},setup:function(){p.set.initialLoad(),p.is.indeterminate()?(p.debug("Initial value is indeterminate"),p.indeterminate()):p.is.checked()?(p.debug("Initial value is checked"),p.check()):(p.debug("Initial value is unchecked"),p.uncheck()),p.remove.initialLoad()},refresh:function(){y=b.children(m.label),w=b.children(m.input),k=w[0]},hide:{input:function(){p.verbose("Modifying <input> z-index to be unselectable"),w.addClass($.hidden)}},show:{input:function(){p.verbose("Modifying <input> z-index to be selectable"),w.removeClass($.hidden)}},observeChanges:function(){"MutationObserver"in t&&(n=new MutationObserver(function(e){p.debug("DOM tree modified, updating selector cache"),p.refresh()}),n.observe(T,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",n))},attachEvents:function(t,a){var i=e(t);a=e.isFunction(p[a])?p[a]:p.toggle,i.length>0?(p.debug("Attaching checkbox events to element",t,a),i.on("click"+v,a)):p.error(g.notFound)},event:{click:function(t){var a=e(t.target);return a.is(m.input)?void p.verbose("Using default check action on initialized checkbox"):a.is(m.link)?void p.debug("Clicking link inside checkbox, skipping toggle"):(p.toggle(),w.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,a={enter:13,space:32,escape:27};t==a.escape?(p.verbose("Escape key pressed blurring field"),w.blur(),C=!0):e.ctrlKey||t!=a.space&&t!=a.enter?C=!1:(p.verbose("Enter/space key pressed, toggling checkbox"),p.toggle(),C=!0)},keyup:function(e){C&&e.preventDefault()}},check:function(){p.should.allowCheck()&&(p.debug("Checking checkbox",w),p.set.checked(),p.should.ignoreCallbacks()||(h.onChecked.call(k),h.onChange.call(k)))},uncheck:function(){p.should.allowUncheck()&&(p.debug("Unchecking checkbox"),p.set.unchecked(),p.should.ignoreCallbacks()||(h.onUnchecked.call(k),h.onChange.call(k)))},indeterminate:function(){if(p.should.allowIndeterminate())return void p.debug("Checkbox is already indeterminate");p.debug("Making checkbox indeterminate"),p.set.indeterminate(),p.should.ignoreCallbacks()||(h.onIndeterminate.call(k),h.onChange.call(k))},determinate:function(){if(p.should.allowDeterminate())return void p.debug("Checkbox is already determinate");p.debug("Making checkbox determinate"),p.set.determinate(),p.should.ignoreCallbacks()||(h.onDeterminate.call(k),h.onChange.call(k))},enable:function(){if(p.is.enabled())return void p.debug("Checkbox is already enabled");p.debug("Enabling checkbox"),p.set.enabled(),h.onEnable.call(k),h.onEnabled.call(k)},disable:function(){if(p.is.disabled())return void p.debug("Checkbox is already disabled");p.debug("Disabling checkbox"),p.set.disabled(),h.onDisable.call(k),h.onDisabled.call(k)},get:{radios:function(){var t=p.get.name();return e('input[name="'+t+'"]').closest(m.checkbox)},otherRadios:function(){return p.get.radios().not(b)},name:function(){return w.attr("name")}},is:{initialLoad:function(){return x},radio:function(){return w.hasClass($.radio)||"radio"==w.attr("type")},indeterminate:function(){return void 0!==w.prop("indeterminate")&&w.prop("indeterminate")},checked:function(){return void 0!==w.prop("checked")&&w.prop("checked")},disabled:function(){return void 0!==w.prop("disabled")&&w.prop("disabled")},enabled:function(){return!p.is.disabled()},determinate:function(){return!p.is.indeterminate()},unchecked:function(){return!p.is.checked()}},should:{allowCheck:function(){return p.is.determinate()&&p.is.checked()&&!p.should.forceCallbacks()?(p.debug("Should not allow check, checkbox is already checked"),!1):!1!==h.beforeChecked.apply(k)||(p.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return p.is.determinate()&&p.is.unchecked()&&!p.should.forceCallbacks()?(p.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==h.beforeUnchecked.apply(k)||(p.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return p.is.indeterminate()&&!p.should.forceCallbacks()?(p.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==h.beforeIndeterminate.apply(k)||(p.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return p.is.determinate()&&!p.should.forceCallbacks()?(p.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==h.beforeDeterminate.apply(k)||(p.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return p.is.initialLoad()&&h.fireOnInit},ignoreCallbacks:function(){return x&&!h.fireOnInit}},can:{change:function(){return!(b.hasClass($.disabled)||b.hasClass($.readOnly)||w.prop("disabled")||w.prop("readonly"))},uncheck:function(){return"boolean"==typeof h.uncheckable?h.uncheckable:!p.is.radio()}},set:{initialLoad:function(){x=!0},checked:function(){if(p.verbose("Setting class to checked"),b.removeClass($.indeterminate).addClass($.checked),p.is.radio()&&p.uncheckOthers(),!p.is.indeterminate()&&p.is.checked())return void p.debug("Input is already checked, skipping input property change");p.verbose("Setting state to checked",k),w.prop("indeterminate",!1).prop("checked",!0),p.trigger.change()},unchecked:function(){if(p.verbose("Removing checked class"),b.removeClass($.indeterminate).removeClass($.checked),!p.is.indeterminate()&&p.is.unchecked())return void p.debug("Input is already unchecked");p.debug("Setting state to unchecked"),w.prop("indeterminate",!1).prop("checked",!1),p.trigger.change()},indeterminate:function(){if(p.verbose("Setting class to indeterminate"),b.addClass($.indeterminate),p.is.indeterminate())return void p.debug("Input is already indeterminate, skipping input property change");p.debug("Setting state to indeterminate"),w.prop("indeterminate",!0),p.trigger.change()},determinate:function(){if(p.verbose("Removing indeterminate class"),b.removeClass($.indeterminate),p.is.determinate())return void p.debug("Input is already determinate, skipping input property change");p.debug("Setting state to determinate"),w.prop("indeterminate",!1)},disabled:function(){if(p.verbose("Setting class to disabled"),b.addClass($.disabled),p.is.disabled())return void p.debug("Input is already disabled, skipping input property change");p.debug("Setting state to disabled"),w.prop("disabled","disabled"),p.trigger.change()},enabled:function(){if(p.verbose("Removing disabled class"),b.removeClass($.disabled),p.is.enabled())return void p.debug("Input is already enabled, skipping input property change");p.debug("Setting state to enabled"),w.prop("disabled",!1),p.trigger.change()},tabbable:function(){p.verbose("Adding tabindex to checkbox"),void 0===w.attr("tabindex")&&w.attr("tabindex",0)}},remove:{initialLoad:function(){x=!1}},trigger:{change:function(){var e=a.createEvent("HTMLEvents"),t=w[0];t&&(p.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){w.prevAll(m.label).length>0?(w.prev(m.label).detach().insertAfter(w),p.debug("Moving existing label",y)):p.has.label()||(y=e("<label>").insertAfter(w),p.debug("Creating label",y))}},has:{label:function(){return y.length>0}},bind:{events:function(){p.verbose("Attaching checkbox events"),b.on("click"+v,p.event.click).on("keydown"+v,m.input,p.event.keydown).on("keyup"+v,m.input,p.event.keyup)}},unbind:{events:function(){p.debug("Removing events"),b.off(v)}},uncheckOthers:function(){var e=p.get.otherRadios();p.debug("Unchecking other radios",e),e.removeClass($.checked)},toggle:function(){if(!p.can.change())return void(p.is.radio()||p.debug("Checkbox is read-only or disabled, ignoring toggle"));p.is.indeterminate()||p.is.unchecked()?(p.debug("Currently unchecked"),p.check()):p.is.checked()&&p.can.uncheck()&&(p.debug("Currently checked"),p.uncheck())},setting:function(t,a){if(p.debug("Changing setting",t,a),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===a)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],a):h[t]=a}},internal:function(t,a){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===a)return p[t];p[t]=a}},debug:function(){!h.silent&&h.debug&&(h.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,h.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),p.verbose.apply(console,arguments)))},error:function(){h.silent||(p.error=Function.prototype.bind.call(console.error,console,h.name+":"),p.error.apply(console,arguments))},performance:{log:function(e){var t,a,i;h.performance&&(t=(new Date).getTime(),i=d||t,a=t-i,d=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":a})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=h.name+":",a=0;d=!1,clearTimeout(p.performance.timer),e.each(c,function(e,t){a+=t["Execution Time"]}),t+=" "+a+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,a,i){var n,r,d,c=A;return a=a||u,i=T||i,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),n=t.length-1,e.each(t,function(a,i){var o=a!=n?i+t[a+1].charAt(0).toUpperCase()+t[a+1].slice(1):t;if(e.isPlainObject(c[o])&&a!=n)c=c[o];else{if(void 0!==c[o])return r=c[o],!1;if(!e.isPlainObject(c[i])||a==n)return void 0!==c[i]?(r=c[i],!1):(p.error(g.method,t),!1);c=c[i]}})),e.isFunction(r)?d=r.apply(i,a):void 0!==r&&(d=r),e.isArray(o)?o.push(d):void 0!==o?o=[o,d]:void 0!==d&&(o=d),r}},l?(void 0===A&&p.initialize(),p.invoke(s)):(void 0!==A&&A.invoke("destroy"),p.initialize())}),void 0!==o?o:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,a,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.popup=function(i){var o,n=e(this),r=e(a),d=e(t),c=e("body"),s=n.selector||"",l=(new Date).getTime(),u=[],p=arguments[0],h="string"==typeof p,$=[].slice.call(arguments,1);return n.each(function(){var n,f,m,g,v,_,b=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),y=b.selector,w=b.className,k=b.error,x=b.metadata,C=b.namespace,A="."+b.namespace,T="module-"+C,S=e(this),j=e(b.context),E=e(b.scrollContext),P=e(b.boundary),D=b.target?e(b.target):S,U=0,F=!1,z=!1,O=this,I=S.data(T);_={initialize:function(){_.debug("Initializing",S),_.createID(),_.bind.events(),!_.exists()&&b.preserve&&_.create(),b.observeChanges&&_.observeChanges(),_.instantiate()},instantiate:function(){_.verbose("Storing instance",_),I=_,S.data(T,I)},observeChanges:function(){"MutationObserver"in t&&(m=new MutationObserver(_.event.documentChanged),m.observe(a,{childList:!0,subtree:!0}),_.debug("Setting up mutation observer",m))},refresh:function(){b.popup?n=e(b.popup).eq(0):b.inline&&(n=D.nextAll(y.popup).eq(0),b.popup=n),b.popup?(n.addClass(w.loading),f=_.get.offsetParent(),n.removeClass(w.loading),b.movePopup&&_.has.popup()&&_.get.offsetParent(n)[0]!==f[0]&&(_.debug("Moving popup to the same offset parent as target"),n.detach().appendTo(f))):f=b.inline?_.get.offsetParent(D):_.has.popup()?_.get.offsetParent(n):c,f.is("html")&&f[0]!==c[0]&&(_.debug("Setting page as offset parent"),f=c),_.get.variation()&&_.set.variation()},reposition:function(){_.refresh(),_.set.position()},destroy:function(){_.debug("Destroying previous module"),m&&m.disconnect(),n&&!b.preserve&&_.removePopup(),clearTimeout(_.hideTimer),clearTimeout(_.showTimer),_.unbind.close(),_.unbind.events(),S.removeData(T)},event:{start:function(t){var a=e.isPlainObject(b.delay)?b.delay.show:b.delay;clearTimeout(_.hideTimer),z||(_.showTimer=setTimeout(_.show,a))},end:function(){var t=e.isPlainObject(b.delay)?b.delay.hide:b.delay;clearTimeout(_.showTimer),_.hideTimer=setTimeout(_.hide,t)},touchstart:function(e){z=!0,_.show()},resize:function(){_.is.visible()&&_.set.position()},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==O||e(t).find(O).length>0)&&(_.debug("Element removed from DOM, tearing down events"),_.destroy())})})},hideGracefully:function(t){var i=e(t.target),o=e.contains(a.documentElement,t.target),n=i.closest(y.popup).length>0;t&&!n&&o?(_.debug("Click occurred outside popup hiding popup"),_.hide()):_.debug("Click was inside popup, keeping popup open")}},create:function(){var t=_.get.html(),a=_.get.title(),i=_.get.content();t||i||a?(_.debug("Creating pop-up html"),t||(t=b.templates.popup({title:a,content:i})),n=e("<div/>").addClass(w.popup).data(x.activator,S).html(t),b.inline?(_.verbose("Inserting popup element inline",n),n.insertAfter(S)):(_.verbose("Appending popup element to body",n),n.appendTo(j)),_.refresh(),_.set.variation(),b.hoverable&&_.bind.popup(),b.onCreate.call(n,O)):0!==D.next(y.popup).length?(_.verbose("Pre-existing popup found"),b.inline=!0,b.popup=D.next(y.popup).data(x.activator,S),_.refresh(),b.hoverable&&_.bind.popup()):b.popup?(e(b.popup).data(x.activator,S),_.verbose("Used popup specified in settings"),_.refresh(),b.hoverable&&_.bind.popup()):_.debug("No content specified skipping display",O)},createID:function(){v=(Math.random().toString(16)+"000000000").substr(2,8),g="."+v,_.verbose("Creating unique id for element",v)},toggle:function(){_.debug("Toggling pop-up"),_.is.hidden()?(_.debug("Popup is hidden, showing pop-up"),_.unbind.close(),_.show()):(_.debug("Popup is visible, hiding pop-up"),_.hide())},show:function(e){if(e=e||function(){},_.debug("Showing pop-up",b.transition),_.is.hidden()&&(!_.is.active()||!_.is.dropdown())){if(_.exists()||_.create(),!1===b.onShow.call(n,O))return void _.debug("onShow callback returned false, cancelling popup animation");b.preserve||b.popup||_.refresh(),n&&_.set.position()&&(_.save.conditions(),b.exclusive&&_.hideAll(),_.animate.show(e))}},hide:function(e){if(e=e||function(){},_.is.visible()||_.is.animating()){if(!1===b.onHide.call(n,O))return void _.debug("onHide callback returned false, cancelling popup animation");_.remove.visible(),_.unbind.close(),_.restore.conditions(),_.animate.hide(e)}},hideAll:function(){e(y.popup).filter("."+w.popupVisible).each(function(){e(this).data(x.activator).popup("hide")})},exists:function(){return!!n&&(b.inline||b.popup?_.has.popup():n.closest(j).length>=1)},removePopup:function(){_.has.popup()&&!b.popup&&(_.debug("Removing popup",n),n.remove(),n=void 0,b.onRemove.call(n,O))},save:{conditions:function(){_.cache={title:S.attr("title")},_.cache.title&&S.removeAttr("title"),_.verbose("Saving original attributes",_.cache.title)}},restore:{conditions:function(){return _.cache&&_.cache.title&&(S.attr("title",_.cache.title),_.verbose("Restoring original attributes",_.cache.title)),!0}},supports:{svg:function(){return"undefined"==typeof SVGGraphicsElement}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},b.transition&&void 0!==e.fn.transition&&S.transition("is supported")?(_.set.visible(),n.transition({animation:b.transition+" in",queue:!1,debug:b.debug,verbose:b.verbose,duration:b.duration,onComplete:function(){_.bind.close(),t.call(n,O),b.onVisible.call(n,O)}})):_.error(k.noTransition)},hide:function(t){if(t=e.isFunction(t)?t:function(){},_.debug("Hiding pop-up"),!1===b.onHide.call(n,O))return void _.debug("onHide callback returned false, cancelling popup animation");b.transition&&void 0!==e.fn.transition&&S.transition("is supported")?n.transition({animation:b.transition+" out",queue:!1,duration:b.duration,debug:b.debug,verbose:b.verbose,onComplete:function(){_.reset(),t.call(n,O),b.onHidden.call(n,O)}}):_.error(k.noTransition)}},change:{content:function(e){n.html(e)}},get:{html:function(){return S.removeData(x.html),S.data(x.html)||b.html},title:function(){return S.removeData(x.title),S.data(x.title)||b.title},content:function(){return S.removeData(x.content),S.data(x.content)||b.content||S.attr("title")},variation:function(){return S.removeData(x.variation),S.data(x.variation)||b.variation},popup:function(){return n},popupOffset:function(){return n.offset()},calculations:function(){var e,a=_.get.offsetParent(n),i=D[0],o=P[0]==t,r=b.inline||b.popup&&b.movePopup?D.position():D.offset(),c=o?{top:0,left:0}:P.offset(),s={},l=o?{top:d.scrollTop(),left:d.scrollLeft()}:{top:0,left:0};if(s={target:{element:D[0],width:D.outerWidth(),height:D.outerHeight(),top:r.top,left:r.left,margin:{}},popup:{width:n.outerWidth(),height:n.outerHeight()},parent:{width:f.outerWidth(),height:f.outerHeight()},screen:{top:c.top,left:c.left,scroll:{top:l.top,left:l.left},width:P.width(),height:P.height()}},a.get(0)!==f.get(0)){var u=a.offset();s.target.top-=u.top,s.target.left-=u.left,s.parent.width=a.outerWidth(),s.parent.height=a.outerHeight()}return b.setFluidWidth&&_.is.fluid()&&(s.container={width:n.parent().outerWidth()},s.popup.width=s.container.width),s.target.margin.top=b.inline?parseInt(t.getComputedStyle(i).getPropertyValue("margin-top"),10):0,s.target.margin.left=b.inline?_.is.rtl()?parseInt(t.getComputedStyle(i).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(i).getPropertyValue("margin-left"),10):0,e=s.screen,s.boundary={top:e.top+e.scroll.top,bottom:e.top+e.scroll.top+e.height,left:e.left+e.scroll.left,right:e.left+e.scroll.left+e.width},s},id:function(){return v},startEvent:function(){return"hover"==b.on?"mouseenter":"focus"==b.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==b.on?"mouseleave":"focus"==b.on&&"blur"},distanceFromBoundary:function(e,t){var a,i,o={};return t=t||_.get.calculations(),a=t.popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+a.width),bottom:i.bottom-(e.top+a.height)},_.verbose("Distance from boundaries determined",e,o)),o},offsetParent:function(t){var a=void 0!==t?t[0]:D[0],i=a.parentNode,o=e(i);if(i)for(var n="none"===o.css("transform"),r="static"===o.css("position"),d=o.is("body");i&&!d&&r&&n;)i=i.parentNode,o=e(i),n="none"===o.css("transform"),r="static"===o.css("position"),d=o.is("body");return o&&o.length>0?o:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),a=t[0],i=t[1],o={top:"bottom",bottom:"top",left:"right",right:"left"},n={left:"center",center:"right",right:"left"},r={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},d="top"==a||"bottom"==a,c=!1,s=!1,l=!1;return F||(_.verbose("All available positions available"),F=_.get.positions()),_.debug("Recording last position tried",e),F[e]=!0,"opposite"===b.prefer&&(l=[o[a],i],l=l.join(" "),c=!0===F[l],_.debug("Trying opposite strategy",l)),"adjacent"===b.prefer&&d&&(l=[a,n[i]],l=l.join(" "),s=!0===F[l],_.debug("Trying adjacent strategy",l)),(s||c)&&(_.debug("Using backup position",l),l=r[e]),l}},set:{position:function(e,t){if(0===D.length||0===n.length)return void _.error(k.notFound);var a,i,o,r,d,c,s,l;if(t=t||_.get.calculations(),e=e||S.data(x.position)||b.position,a=S.data(x.offset)||b.offset,i=b.distanceAway,o=t.target,r=t.popup,d=t.parent,_.should.centerArrow(t)&&(_.verbose("Adjusting offset to center arrow on small target element"),"top left"!=e&&"bottom left"!=e||(a+=o.width/2,a-=b.arrowPixelsFromEdge),"top right"!=e&&"bottom right"!=e||(a-=o.width/2,a+=b.arrowPixelsFromEdge)),0===o.width&&0===o.height&&!_.is.svg(o.element))return _.debug("Popup target is hidden, no action taken"),!1;switch(b.inline&&(_.debug("Adding margin to calculation",o.margin),"left center"==e||"right center"==e?(a+=o.margin.top,i+=-o.margin.left):"top left"==e||"top center"==e||"top right"==e?(a+=o.margin.left,i-=o.margin.top):(a+=o.margin.left,i+=o.margin.top)),_.debug("Determining popup position from calculations",e,t),_.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),_.debug("RTL: Popup position updated",e)),U==b.maxSearchDepth&&"string"==typeof b.lastResort&&(e=b.lastResort),e){case"top left":c={top:"auto",bottom:d.height-o.top+i,left:o.left+a,right:"auto"};break;case"top center":c={bottom:d.height-o.top+i,left:o.left+o.width/2-r.width/2+a,top:"auto",right:"auto"};break;case"top right":c={bottom:d.height-o.top+i,right:d.width-o.left-o.width-a,top:"auto",left:"auto"};break;case"left center":c={top:o.top+o.height/2-r.height/2+a,right:d.width-o.left+i,left:"auto",bottom:"auto"};break;case"right center":c={top:o.top+o.height/2-r.height/2+a,left:o.left+o.width+i,bottom:"auto",right:"auto"};break;case"bottom left":c={top:o.top+o.height+i,left:o.left+a,bottom:"auto",right:"auto"};break;case"bottom center":c={top:o.top+o.height+i,left:o.left+o.width/2-r.width/2+a,bottom:"auto",right:"auto"};break;case"bottom right":c={top:o.top+o.height+i,right:d.width-o.left-o.width-a,left:"auto",bottom:"auto"}}if(void 0===c&&_.error(k.invalidPosition,e),_.debug("Calculated popup positioning values",c),n.css(c).removeClass(w.position).addClass(e).addClass(w.loading),s=_.get.popupOffset(),l=_.get.distanceFromBoundary(s,t),_.is.offstage(l,e)){if(_.debug("Position is outside viewport",e),U<b.maxSearchDepth)return U++,e=_.get.nextPosition(e),_.debug("Trying new position",e),!!n&&_.set.position(e,t);if(!b.lastResort)return _.debug("Popup could not find a position to display",n),_.error(k.cannotPlace,O),_.remove.attempts(),_.remove.loading(),_.reset(),b.onUnplaceable.call(n,O),!1;_.debug("No position found, showing with last position")}return _.debug("Position is on stage",e),_.remove.attempts(),_.remove.loading(),b.setFluidWidth&&_.is.fluid()&&_.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||_.get.calculations(),_.debug("Automatically setting element width to parent width",e.parent.width),n.css("width",e.container.width)},variation:function(e){(e=e||_.get.variation())&&_.has.popup()&&(_.verbose("Adding variation to popup",e),n.addClass(e))},visible:function(){S.addClass(w.visible)}},remove:{loading:function(){n.removeClass(w.loading)},variation:function(e){(e=e||_.get.variation())&&(_.verbose("Removing variation",e),n.removeClass(e))},visible:function(){S.removeClass(w.visible)},attempts:function(){_.verbose("Resetting all searched positions"),U=0,F=!1}},bind:{events:function(){_.debug("Binding popup events to module"),"click"==b.on&&S.on("click"+A,_.toggle),"hover"==b.on&&S.on("touchstart"+A,_.event.touchstart),_.get.startEvent()&&S.on(_.get.startEvent()+A,_.event.start).on(_.get.endEvent()+A,_.event.end),b.target&&_.debug("Target set to element",D),d.on("resize"+g,_.event.resize)},popup:function(){_.verbose("Allowing hover events on popup to prevent closing"),n&&_.has.popup()&&n.on("mouseenter"+A,_.event.start).on("mouseleave"+A,_.event.end)},close:function(){(!0===b.hideOnScroll||"auto"==b.hideOnScroll&&"click"!=b.on)&&_.bind.closeOnScroll(),_.is.closable()?_.bind.clickaway():"hover"==b.on&&z&&_.bind.touchClose()},closeOnScroll:function(){_.verbose("Binding scroll close event to document"),E.one(_.get.scrollEvent()+g,_.event.hideGracefully)},touchClose:function(){_.verbose("Binding popup touchclose event to document"),r.on("touchstart"+g,function(e){_.verbose("Touched away from popup"),_.event.hideGracefully.call(O,e)})},clickaway:function(){_.verbose("Binding popup close event to document"),r.on("click"+g,function(e){_.verbose("Clicked away from popup"),_.event.hideGracefully.call(O,e)})}},unbind:{events:function(){d.off(g),S.off(A)},close:function(){r.off(g),E.off(g)}},has:{popup:function(){return n&&n.length>0}},should:{centerArrow:function(e){return!_.is.basic()&&e.target.width<=2*b.arrowPixelsFromEdge}},is:{closable:function(){return"auto"==b.closable?"hover"!=b.on:b.closable},offstage:function(t,a){var i=[];return e.each(t,function(e,t){t<-b.jitter&&(_.debug("Position exceeds allowable distance from edge",e,t,a),i.push(e))}),i.length>0},svg:function(e){return _.supports.svg()&&e instanceof SVGGraphicsElement},basic:function(){return S.hasClass(w.basic)},active:function(){return S.hasClass(w.active)},animating:function(){return void 0!==n&&n.hasClass(w.animating)},fluid:function(){return void 0!==n&&n.hasClass(w.fluid)},visible:function(){return void 0!==n&&n.hasClass(w.popupVisible)},dropdown:function(){return S.hasClass(w.dropdown)},hidden:function(){return!_.is.visible()},rtl:function(){return"rtl"==S.css("direction")}},reset:function(){_.remove.visible(),b.preserve?void 0!==e.fn.transition&&n.transition("remove transition"):_.removePopup()},setting:function(t,a){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(void 0===a)return b[t];b[t]=a}},internal:function(t,a){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(void 0===a)return _[t];_[t]=a}},debug:function(){!b.silent&&b.debug&&(b.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,b.name+":"),_.debug.apply(console,arguments)))},verbose:function(){!b.silent&&b.verbose&&b.debug&&(b.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),_.verbose.apply(console,arguments)))},error:function(){b.silent||(_.error=Function.prototype.bind.call(console.error,console,b.name+":"),_.error.apply(console,arguments))},performance:{log:function(e){var t,a,i;b.performance&&(t=(new Date).getTime(),i=l||t,a=t-i,l=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":a})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=b.name+":",a=0;l=!1,clearTimeout(_.performance.timer),e.each(u,function(e,t){a+=t["Execution Time"]}),t+=" "+a+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,a,i){var n,r,d,c=I;return a=a||$,i=O||i,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),n=t.length-1,e.each(t,function(a,i){var o=a!=n?i+t[a+1].charAt(0).toUpperCase()+t[a+1].slice(1):t;if(e.isPlainObject(c[o])&&a!=n)c=c[o];else{if(void 0!==c[o])return r=c[o],!1
;if(!e.isPlainObject(c[i])||a==n)return void 0!==c[i]&&(r=c[i],!1);c=c[i]}})),e.isFunction(r)?d=r.apply(i,a):void 0!==r&&(d=r),e.isArray(o)?o.push(d):void 0!==o?o=[o,d]:void 0!==d&&(o=d),r}},h?(void 0===I&&_.initialize(),_.invoke(p)):(void 0!==I&&I.invoke("destroy"),_.initialize())}),void 0!==o?o:this},e.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:t,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:t,prefer:"opposite",lastResort:!1,arrowPixelsFromEdge:20,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",basic:"basic",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,a=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return a.test(e)?e.replace(t,o):e},popup:function(t){var a="",i=e.fn.popup.settings.templates.escape;return void 0!==(void 0===t?"undefined":_typeof(t))&&(void 0!==_typeof(t.title)&&t.title&&(t.title=i(t.title),a+='<div class="header">'+t.title+"</div>"),void 0!==_typeof(t.content)&&t.content&&(t.content=i(t.content),a+='<div class="content">'+t.content+"</div>")),a}}}}(jQuery,window,document);